!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VoyaUtilityToolkit={})}(this,function(t){"use strict";var e=0,n=0,r=function(t){var r=Date.now();r===e?++n:(e=r,n=0);var o=""+String(r)+String(n);return t&&(o=t+"_"+o),o},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=Object.freeze,c=Object.setPrototypeOf,f=Object.getPrototypeOf,s=Object.hasOwnProperty,l=r("_wrappedMixin"),p=r("_appliedMixin"),v=r("_cachedApplication"),h=function(t){return function(t){return d(t,function(e){return function(t,e){for(;null!==t;){if(b(t,e))return!0;t=f(t)}return!1}(e.prototype,t)?e:t(e)})}(function(t){return d(t,function(e){var n=e[v];n||(n=e[v]=new Map);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r})}(function(t){return d(t,function(e){return function(t,e){var n=e(t);return n.prototype[p]=y(e),n}(e,t)})}(t)))};function d(t,e){return c(e,t),t[l]||(t[l]=t),e}function y(t){return t[l]||t}function b(t,e){return s.call(t,p)&&t[p]===y(e)}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create.bind(null,null,{}),e=new WeakMap;return function(n){var r=e.get(n);return r||e.set(n,r=t(n)),r}},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.some(e)},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.every(e)},O=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(n,t)}},_=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(n,t)}},E=Object.prototype.toString,S=["Map","Set","Symbol","Array","Object","String","Date","RegExp","Function","Boolean","Number","Null","Undefined","Arguments","Error","Request","Response","Headers","Blob"],A=S.length,j={},x=/\s([a-zA-Z]+)/,N=function(){for(var t={},e=function(e){var n=S[e].toLowerCase();t[n]=function(t){return P(t)===n},t[n].all=O(t[n]),t[n].any=_(t[n])},n=A;n--;)e(n);return t}(),M=function(t){return P(t)};function P(t){var e=E.call(t);if(!j[e]){var n=e.match(x);Array.isArray(n)&&n.length>1&&(j[e]=n[1].toLowerCase())}return j[e]}var C=0,T=0,B=[],L=0,k=document.createTextNode("");new MutationObserver(function(){for(var t=B.length,e=0;e<t;e++){var n=B[e];if(n&&"function"==typeof n)try{n()}catch(t){setTimeout(function(){throw t})}}B.splice(0,t),T+=t}).observe(k,{characterData:!0});var D=Object.freeze({run:function(t){return k.textContent=String(L++),B.push(t),C++},cancel:function(t){var e=t-T;if(e>=0){if(!B[e])throw new Error("invalid async handle: "+t);B[e]=null}}}),R=function(t){if("content"in document.createElement("template"))return document.importNode(t.content,!0);for(var e=document.createDocumentFragment(),n=t.childNodes,r=0;r<n.length;r++)e.appendChild(n[r].cloneNode(!0));return e},H=function(t,e,n){return function(t,e,n,r){if(e.indexOf(",")>-1){var o=e.split(/\s*,\s*/),i=o.map(function(e){return K(t,e,n,r)});return{remove:function(){this.remove=function(){};for(var t=void 0;t=i.pop();)t.remove()}}}return K(t,e,n,r)}(t,e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])};function K(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),{remove:function(){this.remove=function(){},t.removeEventListener(e,n,r)}};throw new Error("target must be an event emitter")}var z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(-1===e.indexOf("."))return t[e]?t[e]:n;for(var r=e.split("."),o=r.length,i=t,u=0;u<o;u++)if(void 0===(i=i[r[u]]))return void(i=n);return i},F=function(t,e,n){if(-1!==e.indexOf(".")){for(var r=e.split("."),o=r.length-1,i=t,u=0;u<o;u++)void 0===i[r[u]]&&(i[r[u]]={}),i=i[r[u]];i[r[o]]=n}else t[e]=n};function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return N.undefined(t)||N.null(t)||function(t){return N.boolean(t)||N.number(t)||N.string(t)}(t)||N.function(t)?t:function(t,e){var n={date:function(){return new Date(this.getTime())},regexp:function(){return new RegExp(this)},array:function(){return this.map(U)},map:function(){return new Map(Array.from(this.entries()))},set:function(){return new Set(Array.from(this.values()))},request:function(){return this.clone()},response:function(){return this.clone()},headers:function(){for(var t=new Headers,e=this.entries,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var o;if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var i=o,u=i[0],a=i[1];t.append(u,a)}return t},blob:function(){return new Blob([this],{type:this.type})},object:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.push(this);var r=Object.create(this);n.push(r);var o=function(o){var i=e.findIndex(function(e){return e===t[o]});r[o]=i>-1?n[i]:U(t[o],e,n)};for(var i in this)o(i);return r}};if(t in n){for(var r=n[t],o=arguments.length,i=Array(o>2?o-2:0),u=2;u<o;u++)i[u-2]=arguments[u];return r.apply(e,i)}return e}(M(t),t,e,n)}var q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return e};return JSON.parse(JSON.stringify(t),e)};t.classBuilder=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function t(){o(this,t)};return a({with:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(t){return h(t)}).reduce(function(t,e){return e(t)},t)}})},t.createStorage=g,t.is=N,t.eventHubFactory=function(){var t=new Map,e=0;return{publish:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.forEach(function(t){(t.get(e)||[]).forEach(function(t){t.apply(void 0,r)})}),this},createSubscriber:function(){var n=e++;return{on:function(e,r){t.has(n)||t.set(n,new Map);var o=t.get(n);return o.has(e)||o.set(e,[]),o.get(e).push(r),this},off:function(e){return t.get(n).delete(e),this},destroy:function(){t.delete(n)}}}}},t.model=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function t(){o(this,t)},e=g(),n=0;return function(t){function a(){o(this,a);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var c=u(this,t.call.apply(t,[this].concat(n)));return c._stateKey=r("_state"),c._subscribers=new Map,c._setState(c.defaultState),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),a.prototype.get=function(t){return this._getState(t)},a.prototype.set=function(t,e){var n=void 0,r=void 0;!N.string(t)&&N.undefined(e)?r=t:(r=e,n=t);var o=this._getState(),i=q(o);return n?F(i,n,r):i=r,this._setState(i),this._notifySubscribers(n,i,o),this},a.prototype.createSubscriber=function(){var t=n++,e=this;return{on:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._subscribe.apply(e,[t].concat(r)),this},destroy:this._destroySubscriber.bind(this,t)}},a.prototype.createPropertyBinder=function(t){if(!t)throw new Error("createPropertyBinder(context) - context must be object");var e=this;return{addBindings:function(n){return Array.isArray(n[0])||(n=[n]),n.forEach(function(n){e._subscribe(t,n[0],function(e){F(t,n[1],e)})}),this},destroy:this._destroySubscriber.bind(this,t)}},a.prototype._getState=function(t){return q(t?z(e[this._stateKey],t):e[this._stateKey])},a.prototype._setState=function(t){e[this._stateKey]=t},a.prototype._subscribe=function(t,e,n){var r=this._subscribers.get(t)||[];r.push({accessor:e,cb:n}),this._subscribers.set(t,r)},a.prototype._destroySubscriber=function(t){this._subscribers.delete(t)},a.prototype._notifySubscribers=function(t,e,n){this._subscribers.forEach(function(r){r.forEach(function(r){var o=r.accessor,i=r.cb;if(0!==o.indexOf(t)){if(o.indexOf("*")>-1){var u=o.replace(".*","").replace("*","");if(0===t.indexOf(u))return void i(z(e,u),z(n,u))}}else i(z(e,o),z(n,o))})})},i(a,[{key:"defaultState",get:function(){return{}}}]),a}(t)},t.microTask=D,t.documentReady=function(t){return"loading"===document.readyState?new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e(t)})}):Promise.resolve(t)},t.createElement=function(t){var e=document.createElement("template");e.innerHTML=t.trim();var n=R(e);if(n&&n.firstChild)return n.firstChild;throw new Error("Unable to createElement for "+t)},t.elementSiblings=function(t){var e=[];if(t.parentNode&&t.parentNode.firstChild){var n=t.parentNode.firstChild;do{1===n.nodeType&&n!==t&&e.push(n)}while(n.nextSibling&&null!==n.nextSibling&&(n=n.nextSibling))}return e},t.removeElement=function(t){t.parentElement&&t.parentElement.removeChild(t)},t.isDescendantElement=function(t,e){for(;t.parentNode&&(t=t.parentNode)&&t!==e;);return Boolean(t)},t.elementChildren=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Node.ELEMENT_NODE,n=t.childNodes,r=[];if(n&&n.length>0)for(var o=n.length;o--;)n[o].nodeType===e&&r.unshift(n[o]);return r},t.templateContent=R,t.listenEvent=H,t.listenEventOnce=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=H(t,e,function(){o.remove(),n.apply(void 0,arguments)},r);return o},t.pausableEvent=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!1,i=H(t,e,function(){o||n.apply(void 0,arguments)},r);return{remove:function(){i.remove()},pause:function(){o=!0},resume:function(){o=!1}}},t.adviceBefore=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),u.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},t.adviceAround=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.unshift(u),t.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},t.adviceAfter=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=u.apply(this,n);return t.apply(this,n),o},writable:!0})},a=0;a<o;a++)u(a);return e}},t.adviceAfterThrow=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){try{for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return u.apply(this,n)}catch(e){t.call(this,e)}},writable:!0})},a=0;a<o;a++)u(a);return e}},t.any=m,t.all=w,t.dget=z,t.dset=F,t.clone=function(t){return U(t,[],[])},t.jsonClone=q,t.objectToMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91bmlxdWUtaWQuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci5qcyIsIi4uLy4uL2xpYi9jcmVhdGUtc3RvcmFnZS5qcyIsIi4uLy4uL2xpYi9hcnJheS9hbnkuanMiLCIuLi8uLi9saWIvYXJyYXkvYWxsLmpzIiwiLi4vLi4vbGliL3R5cGUuanMiLCIuLi8uLi9saWIvZXZlbnQtaHViLmpzIiwiLi4vLi4vbGliL2RvbS9taWNyb3Rhc2suanMiLCIuLi8uLi9saWIvZG9tL3RlbXBsYXRlLWNvbnRlbnQuanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RnZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RzZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2Nsb25lLmpzIiwiLi4vLi4vbGliL29iamVjdC9qc29uLWNsb25lLmpzIiwiLi4vLi4vbGliL21vZGVsLmpzIiwiLi4vLi4vbGliL2RvbS9kb2N1bWVudC1yZWFkeS5qcyIsIi4uLy4uL2xpYi9kb20vY3JlYXRlLWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtc2libGluZ3MuanMiLCIuLi8uLi9saWIvZG9tL3JlbW92ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2RvbS9pcy1kZXNjZW5kYW50LWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtY2hpbGRyZW4uanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQtb25jZS5qcyIsIi4uLy4uL2xpYi9kb20tZXZlbnRzL3BhdXNhYmxlLWV2ZW50LmpzIiwiLi4vLi4vbGliL2FkdmljZS9iZWZvcmUuanMiLCIuLi8uLi9saWIvYWR2aWNlL2Fyb3VuZC5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYWZ0ZXIuanMiLCIuLi8uLi9saWIvYWR2aWNlL2FmdGVyLXRocm93LmpzIiwiLi4vLi4vbGliL29iamVjdC9vYmplY3QtdG8tbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qICAqL1xuXG5sZXQgcHJldlRpbWVJZCA9IDA7XG5sZXQgcHJldlVuaXF1ZUlkID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgKHByZWZpeCkgPT4ge1xuICBsZXQgbmV3VW5pcXVlSWQgPSBEYXRlLm5vdygpO1xuICBpZiAobmV3VW5pcXVlSWQgPT09IHByZXZUaW1lSWQpIHtcbiAgICArK3ByZXZVbmlxdWVJZDtcbiAgfSBlbHNlIHtcbiAgICBwcmV2VGltZUlkID0gbmV3VW5pcXVlSWQ7XG4gICAgcHJldlVuaXF1ZUlkID0gMDtcbiAgfVxuXG4gIGxldCB1bmlxdWVJZCA9IGAke1N0cmluZyhuZXdVbmlxdWVJZCl9JHtTdHJpbmcocHJldlVuaXF1ZUlkKX1gO1xuICBpZiAocHJlZml4KSB7XG4gICAgdW5pcXVlSWQgPSBgJHtwcmVmaXh9XyR7dW5pcXVlSWR9YDtcbiAgfVxuICByZXR1cm4gdW5pcXVlSWQ7XG59O1xuIiwiLyogICovXG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi91bmlxdWUtaWQuanMnO1xuXG5jb25zdCB7IGZyZWV6ZSwgc2V0UHJvdG90eXBlT2YsIGdldFByb3RvdHlwZU9mLCBoYXNPd25Qcm9wZXJ0eSB9ID0gT2JqZWN0O1xuXG4vLyB1c2VkIGJ5IHdyYXAoKSBhbmQgdW53cmFwKClcbmNvbnN0IHdyYXBwZWRNaXhpbktleSA9IHVuaXF1ZUlkKCdfd3JhcHBlZE1peGluJyk7XG5cbi8vIHVzZWQgYnkgYXBwbHlNaXhpbigpIGFuZCBpc0FwcGxpY2F0aW9uT2YoKVxuY29uc3QgYXBwbGllZE1peGluS2V5ID0gdW5pcXVlSWQoJ19hcHBsaWVkTWl4aW4nKTtcblxuLy8gdXNlZCBieSBjYWNoZSBtaXhpbiBkZWNvcmF0b3JcbmNvbnN0IGNhY2hlZEFwcGxpY2F0aW9uS2V5ID0gdW5pcXVlSWQoJ19jYWNoZWRBcHBsaWNhdGlvbicpO1xuXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNaXhpbiA9IChtaXhpbikgPT4gZGVkdXBlTWl4aW4oY2FjaGVNaXhpbihkZWNsYXJlTWl4aW4obWl4aW4pKSk7XG5cbmV4cG9ydCBkZWZhdWx0IChDdG9yID0gY2xhc3Mge30pID0+XG4gIGZyZWV6ZSh7XG4gICAgd2l0aCguLi5taXhpbnMpIHtcbiAgICAgIHJldHVybiBtaXhpbnMubWFwKChtaXhpbikgPT4gY3JlYXRlTWl4aW4obWl4aW4pKS5yZWR1Y2UoKGssIG0pID0+IG0oayksIEN0b3IpO1xuICAgIH1cbiAgfSk7XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgZnVuY3Rpb24gYG1peGluYCB0byBiZSB3cmFwcGVkIGJ5IHRoZSBmdW5jdGlvbiBgd3JhcHBlcmAsIHdoaWxlXG4gKiBhbGxvd2luZyBwcm9wZXJ0aWVzIG9uIGBtaXhpbmAgdG8gYmUgYXZhaWxhYmxlIHZpYSBgd3JhcHBlcmAsIGFuZCBhbGxvd2luZ1xuICogYHdyYXBwZXJgIHRvIGJlIHVud3JhcHBlZCB0byBnZXQgdG8gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICpcbiAqIGB3cmFwYCBkb2VzIHR3byB0aGluZ3M6XG4gKiAgIDEuIFNldHMgdGhlIHByb3RvdHlwZSBvZiBgbWl4aW5gIHRvIGB3cmFwcGVyYCBzbyB0aGF0IHByb3BlcnRpZXMgc2V0IG9uXG4gKiAgICAgIGBtaXhpbmAgaW5oZXJpdGVkIGJ5IGB3cmFwcGVyYC5cbiAqICAgMi4gU2V0cyBhIHNwZWNpYWwgcHJvcGVydHkgb24gYG1peGluYCB0aGF0IHBvaW50cyBiYWNrIHRvIGBtaXhpbmAgc28gdGhhdFxuICogICAgICBpdCBjYW4gYmUgcmV0cmVpdmVkIGZyb20gYHdyYXBwZXJgXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIEEgZnVuY3Rpb24gdGhhdCB3cmFwcyB7QGxpbmsgbWl4aW59XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYHdyYXBwZXJgXG4gKi9cbmZ1bmN0aW9uIHdyYXAobWl4aW4sIHdyYXBwZXIpIHtcbiAgc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgbWl4aW4pO1xuICBpZiAoIW1peGluW3dyYXBwZWRNaXhpbktleV0pIHtcbiAgICBtaXhpblt3cmFwcGVkTWl4aW5LZXldID0gbWl4aW47XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogVW53cmFwcyB0aGUgZnVuY3Rpb24gYHdyYXBwZXJgIHRvIHJldHVybiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd3JhcHBlZCBieVxuICogb25lIG9yIG1vcmUgY2FsbHMgdG8gYHdyYXBgLiBSZXR1cm5zIGB3cmFwcGVyYCBpZiBpdCdzIG5vdCBhIHdyYXBwZWRcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBBIHdyYXBwZWQgbWl4aW4gcHJvZHVjZWQgYnkge0BsaW5rIHdyYXB9XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIG9yaWdpbmFsbHkgd3JhcHBlZCBtaXhpblxuICovXG5mdW5jdGlvbiB1bndyYXAod3JhcHBlcikge1xuICByZXR1cm4gd3JhcHBlclt3cmFwcGVkTWl4aW5LZXldIHx8IHdyYXBwZXI7XG59XG5cbi8qKlxuICogQXBwbGllcyBgbWl4aW5gIHRvIGBzdXBlcmNsYXNzYC5cbiAqXG4gKiBgYXBwbHlgIHN0b3JlcyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBtaXhpbiBhcHBsaWNhdGlvbiB0byB0aGUgdW53cmFwcGVkIG1peGluXG4gKiB0byBtYWtlIGBpc0FwcGxpY2F0aW9uT2ZgIGFuZCBgaGFzTWl4aW5gIHdvcmsuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWxsIGZvciBtaXhpbiB3cmFwcGVycyB0aGF0IHdhbnQgdG8gYXV0b21hdGljYWxseSBlbmFibGVcbiAqIHtAbGluayBoYXNNaXhpbn0gc3VwcG9ydC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cGVyQ2xhc3MgQSBjbGFzcyBvciBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIGFwcGx5XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBzdWJjbGFzcyBvZiBgc3VwZXJjbGFzc2AgcHJvZHVjZWQgYnkgYG1peGluYFxuICovXG5mdW5jdGlvbiBhcHBseU1peGluKHN1cGVyQ2xhc3MsIG1peGluKSB7XG4gIGxldCBhcHBsaWNhdGlvbiA9IG1peGluKHN1cGVyQ2xhc3MpO1xuICBjb25zdCBwcm90byA9IGFwcGxpY2F0aW9uLnByb3RvdHlwZTtcbiAgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9IHVud3JhcChtaXhpbik7XG4gIHJldHVybiBhcHBsaWNhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYHByb3RvYCBpcyBhIHByb3RvdHlwZSBjcmVhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbiBvZlxuICogYG1peGluYCB0byBhIHN1cGVyY2xhc3MuXG4gKlxuICogYGlzQXBwbGljYXRpb25PZmAgd29ya3MgYnkgY2hlY2tpbmcgdGhhdCBgcHJvdG9gIGhhcyBhIHJlZmVyZW5jZSB0byBgbWl4aW5gXG4gKiBhcyBjcmVhdGVkIGJ5IGBhcHBseWAuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gQSBwcm90b3R5cGUgb2JqZWN0IGNyZWF0ZWQgYnkge0BsaW5rIGFwcGx5fS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIEEgbWl4aW4gZnVuY3Rpb24gdXNlZCB3aXRoIHtAbGluayBhcHBseX0uXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBwcm90b2AgaXMgYSBwcm90b3R5cGUgY3JlYXRlZCBieSB0aGUgYXBwbGljYXRpb24gb2ZcbiAqIGBtaXhpbmAgdG8gYSBzdXBlcmNsYXNzXG4gKi9cbmZ1bmN0aW9uIGlzQXBwbGljYXRpb25PZihwcm90bywgbWl4aW4pIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIGFwcGxpZWRNaXhpbktleSkgJiYgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9PT0gdW53cmFwKG1peGluKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYG9gIGhhcyBhbiBhcHBsaWNhdGlvbiBvZiBgbWl4aW5gIG9uIGl0cyBwcm90b3R5cGVcbiAqIGNoYWluLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG8gQW4gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGFwcGxpZWQgd2l0aCB7QGxpbmsgYXBwbHl9XG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBvYCBoYXMgYW4gYXBwbGljYXRpb24gb2YgYG1peGluYCBvbiBpdHMgcHJvdG90eXBlXG4gKiBjaGFpblxuICovXG5mdW5jdGlvbiBoYXNNaXhpbihvLCBtaXhpbikge1xuICB3aGlsZSAobyAhPT0gbnVsbCkge1xuICAgIGlmIChpc0FwcGxpY2F0aW9uT2YobywgbWl4aW4pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbyA9IGdldFByb3RvdHlwZU9mKG8pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIGJhc2ljIG1peGluIGRlY29yYXRvciB0aGF0IGFwcGxpZXMgdGhlIG1peGluIHdpdGgge0BsaW5rIGFwcGx5TWl4aW59IHNvIHRoYXQgaXRcbiAqIGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIGlzQXBwbGljYXRpb25PZn0sIHtAbGluayBoYXNNaXhpbn0gYW5kIHRoZSBvdGhlclxuICogbWl4aW4gZGVjb3JhdG9yIGZ1bmN0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiB0byB3cmFwXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYSBuZXcgbWl4aW4gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVjbGFyZU1peGluKG1peGluKSB7XG4gIHJldHVybiB3cmFwKG1peGluLCAoc3VwZXJDbGFzcykgPT4gYXBwbHlNaXhpbihzdXBlckNsYXNzLCBtaXhpbikpO1xufVxuXG4vKipcbiAqIERlY29yYXRlcyBgbWl4aW5gIHNvIHRoYXQgaXQgb25seSBhcHBsaWVzIGlmIGl0J3Mgbm90IGFscmVhZHkgb24gdGhlXG4gKiBwcm90b3R5cGUgY2hhaW4uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gdG8gd3JhcCB3aXRoIGRlZHVwbGljYXRpb24gYmVoYXZpb3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIG5ldyBtaXhpbiBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWR1cGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChcbiAgICBtaXhpbixcbiAgICAoc3VwZXJDbGFzcykgPT4gKGhhc01peGluKHN1cGVyQ2xhc3MucHJvdG90eXBlLCBtaXhpbikgPyBzdXBlckNsYXNzIDogbWl4aW4oc3VwZXJDbGFzcykpXG4gICk7XG59XG5cbi8qKlxuICogRGVjb3JhdGUgdGhlIGdpdmVuIG1peGluIGNsYXNzIHdpdGggYSBcImNhY2hlZCBkZWNvcmF0b3JcIi5cbiAqXG4gKiBNZXRob2Qgd2lsbCBlbnN1cmUgdGhhdCBpZiB0aGUgZ2l2ZW4gbWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkLFxuICogdGhlbiBpdCB3aWxsIGJlIHJldHVybmVkIC8gYXBwbGllZCBhIHNpbmdsZSB0aW1lLCByYXRoZXIgdGhhbiBtdWx0aXBsZVxuICogdGltZXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2FjaGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChtaXhpbiwgKHN1cGVyQ2xhc3MpID0+IHtcbiAgICBsZXQgY2FjaGVkQXBwbGljYXRpb24gPSBzdXBlckNsYXNzW2NhY2hlZEFwcGxpY2F0aW9uS2V5XTtcbiAgICBpZiAoIWNhY2hlZEFwcGxpY2F0aW9uKSB7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbiA9IHN1cGVyQ2xhc3NbY2FjaGVkQXBwbGljYXRpb25LZXldID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVcbiAgICBsZXQgYXBwbGljYXRpb24gPSBjYWNoZWRBcHBsaWNhdGlvbi5nZXQobWl4aW4pO1xuICAgIGlmICghYXBwbGljYXRpb24pIHtcbiAgICAgIGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbi5zZXQobWl4aW4sIGFwcGxpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICB9KTtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGNyZWF0b3IgPSBPYmplY3QuY3JlYXRlLmJpbmQobnVsbCwgbnVsbCwge30pKSA9PiB7XG4gIGxldCBzdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHJldHVybiAob2JqKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gc3RvcmUuZ2V0KG9iaik7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc3RvcmUuc2V0KG9iaiwgKHZhbHVlID0gY3JlYXRvcihvYmopKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChhcnIsIGZuID0gQm9vbGVhbikgPT4gYXJyLnNvbWUoZm4pO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYXJyLCBmbiA9IEJvb2xlYW4pID0+IGFyci5ldmVyeShmbik7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGFsbCwgYW55IH0gZnJvbSAnLi9hcnJheS5qcyc7XG5cblxuXG5cbmNvbnN0IGRvQWxsQXBpID0gKGZuKSA9PiAoLi4ucGFyYW1zKSA9PiBhbGwocGFyYW1zLCBmbik7XG5jb25zdCBkb0FueUFwaSA9IChmbikgPT4gKC4uLnBhcmFtcykgPT4gYW55KHBhcmFtcywgZm4pO1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdHlwZXMgPSBbXG4gICdNYXAnLFxuICAnU2V0JyxcbiAgJ1N5bWJvbCcsXG4gICdBcnJheScsXG4gICdPYmplY3QnLFxuICAnU3RyaW5nJyxcbiAgJ0RhdGUnLFxuICAnUmVnRXhwJyxcbiAgJ0Z1bmN0aW9uJyxcbiAgJ0Jvb2xlYW4nLFxuICAnTnVtYmVyJyxcbiAgJ051bGwnLFxuICAnVW5kZWZpbmVkJyxcbiAgJ0FyZ3VtZW50cycsXG4gICdFcnJvcicsXG4gICdSZXF1ZXN0JyxcbiAgJ1Jlc3BvbnNlJyxcbiAgJ0hlYWRlcnMnLFxuICAnQmxvYidcbl07XG5jb25zdCBsZW4gPSB0eXBlcy5sZW5ndGg7XG5jb25zdCB0eXBlQ2FjaGUgPSB7fTtcbmNvbnN0IHR5cGVSZWdleHAgPSAvXFxzKFthLXpBLVpdKykvO1xuXG5leHBvcnQgZGVmYXVsdCAoc2V0dXAoKSk7XG5cbmV4cG9ydCBjb25zdCBnZXRUeXBlID0gKHNyYykgPT4gZ2V0U3JjVHlwZShzcmMpO1xuXG5mdW5jdGlvbiBnZXRTcmNUeXBlKHNyYykge1xuICBsZXQgdHlwZSA9IHRvU3RyaW5nLmNhbGwoc3JjKTtcbiAgaWYgKCF0eXBlQ2FjaGVbdHlwZV0pIHtcbiAgICBsZXQgbWF0Y2hlcyA9IHR5cGUubWF0Y2godHlwZVJlZ2V4cCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0Y2hlcykgJiYgbWF0Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0eXBlQ2FjaGVbdHlwZV0gPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0eXBlQ2FjaGVbdHlwZV07XG59XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuICBsZXQgY2hlY2tzID0ge307XG4gIGZvciAobGV0IGkgPSBsZW47IGktLTsgKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVzW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgY2hlY2tzW3R5cGVdID0gc3JjID0+IGdldFNyY1R5cGUoc3JjKSA9PT0gdHlwZTtcbiAgICBjaGVja3NbdHlwZV0uYWxsID0gZG9BbGxBcGkoY2hlY2tzW3R5cGVdKTtcbiAgICBjaGVja3NbdHlwZV0uYW55ID0gZG9BbnlBcGkoY2hlY2tzW3R5cGVdKTtcbiAgfVxuICByZXR1cm4gY2hlY2tzO1xufVxuIiwiLyogICovXG5cblxuXG5jb25zdCBldmVudEh1YkZhY3RvcnkgPSAoKSA9PiB7XG4gIGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IE1hcCgpO1xuICBsZXQgc3Vic2NyaWJlckNvdW50ID0gMDtcblxuICAvLyRGbG93Rml4TWVcbiAgcmV0dXJuIHtcbiAgICBwdWJsaXNoOiBmdW5jdGlvbihldmVudCwgLi4uYXJncykge1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChzdWJzY3JpcHRpb25zID0+IHtcbiAgICAgICAgKHN1YnNjcmlwdGlvbnMuZ2V0KGV2ZW50KSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGNyZWF0ZVN1YnNjcmliZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGNvbnRleHQgPSBzdWJzY3JpYmVyQ291bnQrKztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9uOiBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZiAoIXN1YnNjcmliZXJzLmhhcyhjb250ZXh0KSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnMuc2V0KGNvbnRleHQsIG5ldyBNYXAoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBzdWJzY3JpYmVycy5nZXQoY29udGV4dCk7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0KGV2ZW50LCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXIuZ2V0KGV2ZW50KS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgb2ZmOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXJzLmdldChjb250ZXh0KS5kZWxldGUoZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRIdWJGYWN0b3J5O1xuIiwiLyogICovXG5sZXQgY3VyckhhbmRsZSA9IDA7XG5sZXQgbGFzdEhhbmRsZSA9IDA7XG5sZXQgY2FsbGJhY2tzID0gW107XG5sZXQgbm9kZUNvbnRlbnQgPSAwO1xubGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5uZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbi8qKlxuICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgIHRpbWluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBydW5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gKi9cbmV4cG9ydCBjb25zdCBydW4gPSAoY2FsbGJhY2spID0+IHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IFN0cmluZyhub2RlQ29udGVudCsrKTtcbiAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICByZXR1cm4gY3VyckhhbmRsZSsrO1xufTtcblxuLyoqXG4gKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgYCBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICovXG5leHBvcnQgY29uc3QgY2FuY2VsID0gKGhhbmRsZSkgPT4ge1xuICBjb25zdCBpZHggPSBoYW5kbGUgLSBsYXN0SGFuZGxlO1xuICBpZiAoaWR4ID49IDApIHtcbiAgICBpZiAoIWNhbGxiYWNrc1tpZHhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYXN5bmMgaGFuZGxlOiAnICsgaGFuZGxlKTtcbiAgICB9XG4gICAgY2FsbGJhY2tzW2lkeF0gPSBudWxsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgY29uc3QgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYigpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrcy5zcGxpY2UoMCwgbGVuKTtcbiAgbGFzdEhhbmRsZSArPSBsZW47XG59XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0ICh0ZW1wbGF0ZSkgPT4ge1xuICBpZiAoJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcbiAgfVxuXG4gIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgbGV0IGNoaWxkcmVuID0gdGVtcGxhdGUuY2hpbGROb2RlcztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNoaWxkcmVuW2ldLmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50O1xufTtcbiIsIi8qICAqL1xuXG5leHBvcnQgZGVmYXVsdCAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSA9IGZhbHNlKSA9PiB7XG4gIHJldHVybiBwYXJzZSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbn07XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSA9ICgpID0+IHt9O1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIGV2ZW50IGVtaXR0ZXInKTtcbn1cblxuZnVuY3Rpb24gcGFyc2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICBpZiAodHlwZS5pbmRleE9mKCcsJykgPiAtMSkge1xuICAgIGxldCBldmVudHMgPSB0eXBlLnNwbGl0KC9cXHMqLFxccyovKTtcbiAgICBsZXQgaGFuZGxlcyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIGFkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlID0gKCkgPT4ge307XG4gICAgICAgIGxldCBoYW5kbGU7XG4gICAgICAgIHdoaWxlICgoaGFuZGxlID0gaGFuZGxlcy5wb3AoKSkpIHtcbiAgICAgICAgICBoYW5kbGUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG9iaiwga2V5LCBkZWZhdWx0VmFsdWUgPSB1bmRlZmluZWQpID0+IHtcbiAgaWYgKGtleS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIG9ialtrZXldID8gb2JqW2tleV0gOiBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgbGVuZ3RoID0gcGFydHMubGVuZ3RoO1xuICBsZXQgb2JqZWN0ID0gb2JqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5LmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnLicpO1xuICBjb25zdCBkZXB0aCA9IHBhcnRzLmxlbmd0aCAtIDE7XG4gIGxldCBvYmplY3QgPSBvYmo7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXB0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RbcGFydHNbaV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0W3BhcnRzW2ldXSA9IHt9O1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICB9XG4gIG9iamVjdFtwYXJ0c1tkZXB0aF1dID0gdmFsdWU7XG59O1xuIiwiLyogICovXG5pbXBvcnQgaXMsIHsgZ2V0VHlwZSB9IGZyb20gJy4uL3R5cGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoc3JjKSA9PiBjbG9uZShzcmMsIFtdLCBbXSk7XG5cbmZ1bmN0aW9uIGNsb25lKHNyYywgY2lyY3VsYXJzID0gW10sIGNsb25lcyA9IFtdKSB7XG4gIC8vIE51bGwvdW5kZWZpbmVkL2Z1bmN0aW9ucy9ldGNcbiAgaWYgKGlzLnVuZGVmaW5lZChzcmMpIHx8IGlzLm51bGwoc3JjKSB8fCBpc1ByaW1pdGl2ZShzcmMpIHx8IGlzLmZ1bmN0aW9uKHNyYykpIHtcbiAgICByZXR1cm4gc3JjO1xuICB9XG4gIHJldHVybiBjbG9uZXIoZ2V0VHlwZShzcmMpLCBzcmMsIGNpcmN1bGFycywgY2xvbmVzKTtcbn1cblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoc3JjKSB7XG5cdHJldHVybiBpcy5ib29sZWFuKHNyYykgfHwgaXMubnVtYmVyKHNyYykgfHwgaXMuc3RyaW5nKHNyYyk7XG59XG5cbmZ1bmN0aW9uIGNsb25lcih0eXBlLCBjb250ZXh0LCAuLi5hcmdzKSB7XG5cdGNvbnN0IGhhbmRsZXJzID0ge1xuXHRcdGRhdGUoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IERhdGUodGhpcy5nZXRUaW1lKCkpO1xuXHRcdH0sXG5cdFx0cmVnZXhwKCkge1xuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAodGhpcyk7XG5cdFx0fSxcblx0XHRhcnJheSgpIHtcblx0XHRcdHJldHVybiB0aGlzLm1hcChjbG9uZSk7XG5cdFx0fSxcblx0XHRtYXAoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKSk7XG5cdFx0fSxcblx0XHRzZXQoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKHRoaXMudmFsdWVzKCkpKTtcblx0XHR9LFxuXHRcdHJlcXVlc3QoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpO1xuXHRcdH0sXG5cdFx0cmVzcG9uc2UoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpO1xuXHRcdH0sXG5cdFx0aGVhZGVycygpIHtcblx0XHRcdGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblx0XHRcdGZvciAobGV0IFtuYW1lLCB2YWx1ZV0gb2YgdGhpcy5lbnRyaWVzKSB7XG5cdFx0XHRcdGhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBoZWFkZXJzO1xuXHRcdH0sXG5cdFx0YmxvYigpIHtcblx0XHRcdHJldHVybiBuZXcgQmxvYihbdGhpc10sIHt0eXBlOiB0aGlzLnR5cGV9KTtcblx0XHR9LFxuXHRcdG9iamVjdChjaXJjdWxhcnMgPSBbXSwgY2xvbmVzID0gW10pIHtcblx0XHRcdGNpcmN1bGFycy5wdXNoKHRoaXMpO1xuXHRcdFx0Y29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcblx0XHRcdGNsb25lcy5wdXNoKG9iaik7XG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gdGhpcykge1xuXHRcdFx0XHRsZXQgaWR4ID0gY2lyY3VsYXJzLmZpbmRJbmRleCgoaSkgPT4gaSA9PT0gdGhpc1trZXldKTtcblx0XHRcdFx0b2JqW2tleV0gPSBpZHggPiAtMSA/IGNsb25lc1tpZHhdIDogY2xvbmUodGhpc1trZXldLCBjaXJjdWxhcnMsIGNsb25lcyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH1cblx0fTtcblx0aWYgKHR5cGUgaW4gaGFuZGxlcnMpIHtcblx0XHRjb25zdCBmbiA9IGhhbmRsZXJzW3R5cGVdO1xuXHRcdHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0fVxuXHRyZXR1cm4gY29udGV4dDtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCByZXZpdmVyID0gKGssIHYpID0+IHYpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpLCByZXZpdmVyKTtcbiIsImltcG9ydCB7IGRnZXQsIGRzZXQsIGpzb25DbG9uZSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbmltcG9ydCBpcyBmcm9tICcuL3R5cGUuanMnO1xuaW1wb3J0IGNyZWF0ZVN0b3JhZ2UgZnJvbSAnLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi91bmlxdWUtaWQuanMnO1xuXG5jb25zdCBtb2RlbCA9IChiYXNlQ2xhc3MgPSBjbGFzcyB7fSkgPT4ge1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoKTtcbiAgbGV0IHN1YnNjcmliZXJDb3VudCA9IDA7XG5cbiAgcmV0dXJuIGNsYXNzIE1vZGVsIGV4dGVuZHMgYmFzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgIHRoaXMuX3N0YXRlS2V5ID0gdW5pcXVlSWQoJ19zdGF0ZScpO1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBuZXcgTWFwKCk7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBnZXQoYWNjZXNzb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTdGF0ZShhY2Nlc3Nvcik7XG4gICAgfVxuXG4gICAgc2V0KGFyZzEsIGFyZzIpIHtcbiAgICAgIC8vc3VwcG9ydHMgKGFjY2Vzc29yLCBzdGF0ZSkgT1IgKHN0YXRlKSBhcmd1bWVudHMgZm9yIHNldHRpbmcgdGhlIHdob2xlIHRoaW5nXG4gICAgICBsZXQgYWNjZXNzb3IsIHZhbHVlO1xuICAgICAgaWYgKCFpcy5zdHJpbmcoYXJnMSkgJiYgaXMudW5kZWZpbmVkKGFyZzIpKSB7XG4gICAgICAgIHZhbHVlID0gYXJnMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gYXJnMjtcbiAgICAgICAgYWNjZXNzb3IgPSBhcmcxO1xuICAgICAgfVxuICAgICAgbGV0IG9sZFN0YXRlID0gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICAgIGxldCBuZXdTdGF0ZSA9IGpzb25DbG9uZShvbGRTdGF0ZSk7XG5cbiAgICAgIGlmIChhY2Nlc3Nvcikge1xuICAgICAgICBkc2V0KG5ld1N0YXRlLCBhY2Nlc3NvciwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U3RhdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIHRoaXMuX25vdGlmeVN1YnNjcmliZXJzKGFjY2Vzc29yLCBuZXdTdGF0ZSwgb2xkU3RhdGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY3JlYXRlU3Vic2NyaWJlcigpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBzdWJzY3JpYmVyQ291bnQrKztcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb246IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBzZWxmLl9zdWJzY3JpYmUoY29udGV4dCwgLi4uYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8vVE9ETzogaXMgb2ZmKCkgbmVlZGVkIGZvciBpbmRpdmlkdWFsIHN1YnNjcmlwdGlvbj9cbiAgICAgICAgZGVzdHJveTogdGhpcy5fZGVzdHJveVN1YnNjcmliZXIuYmluZCh0aGlzLCBjb250ZXh0KVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm9wZXJ0eUJpbmRlcihjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVQcm9wZXJ0eUJpbmRlcihjb250ZXh0KSAtIGNvbnRleHQgbXVzdCBiZSBvYmplY3QnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWRkQmluZGluZ3M6IGZ1bmN0aW9uKGJpbmRSdWxlcykge1xuICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShiaW5kUnVsZXNbMF0pKSB7XG4gICAgICAgICAgICBiaW5kUnVsZXMgPSBbYmluZFJ1bGVzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmluZFJ1bGVzLmZvckVhY2goYmluZFJ1bGUgPT4ge1xuICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlKGNvbnRleHQsIGJpbmRSdWxlWzBdLCB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgIGRzZXQoY29udGV4dCwgYmluZFJ1bGVbMV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiB0aGlzLl9kZXN0cm95U3Vic2NyaWJlci5iaW5kKHRoaXMsIGNvbnRleHQpXG4gICAgICB9O1xuICAgIH1cblxuICAgIF9nZXRTdGF0ZShhY2Nlc3Nvcikge1xuICAgICAgcmV0dXJuIGpzb25DbG9uZShhY2Nlc3NvciA/IGRnZXQocHJpdmF0ZXNbdGhpcy5fc3RhdGVLZXldLCBhY2Nlc3NvcikgOiBwcml2YXRlc1t0aGlzLl9zdGF0ZUtleV0pO1xuICAgIH1cblxuICAgIF9zZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgcHJpdmF0ZXNbdGhpcy5fc3RhdGVLZXldID0gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgX3N1YnNjcmliZShjb250ZXh0LCBhY2Nlc3NvciwgY2IpIHtcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpYmVycy5nZXQoY29udGV4dCkgfHwgW107XG4gICAgICBzdWJzY3JpcHRpb25zLnB1c2goeyBhY2Nlc3NvciwgY2IgfSk7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycy5zZXQoY29udGV4dCwgc3Vic2NyaXB0aW9ucyk7XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3lTdWJzY3JpYmVyKGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmRlbGV0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBfbm90aWZ5U3Vic2NyaWJlcnMoc2V0QWNjZXNzb3IsIG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbihzdWJzY3JpYmVycykge1xuICAgICAgICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHsgYWNjZXNzb3IsIGNiIH0pIHtcbiAgICAgICAgICAvL2UuZy4gIHNhPSdmb28uYmFyLmJheicsIGE9J2Zvby5iYXIuYmF6J1xuICAgICAgICAgIC8vZS5nLiAgc2E9J2Zvby5iYXIuYmF6JywgYT0nZm9vLmJhci5iYXouYmxheidcbiAgICAgICAgICBpZiAoYWNjZXNzb3IuaW5kZXhPZihzZXRBY2Nlc3NvcikgPT09IDApIHtcbiAgICAgICAgICAgIGNiKGRnZXQobmV3U3RhdGUsIGFjY2Vzc29yKSwgZGdldChvbGRTdGF0ZSwgYWNjZXNzb3IpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9lLmcuIHNhPSdmb28uYmFyLmJheicsIGE9J2Zvby4qJ1xuICAgICAgICAgIGlmIChhY2Nlc3Nvci5pbmRleE9mKCcqJykgPiAtMSkge1xuICAgICAgICAgICAgY29uc3QgZGVlcEFjY2Vzc29yID0gYWNjZXNzb3IucmVwbGFjZSgnLionLCAnJykucmVwbGFjZSgnKicsICcnKTtcbiAgICAgICAgICAgIGlmIChzZXRBY2Nlc3Nvci5pbmRleE9mKGRlZXBBY2Nlc3NvcikgPT09IDApIHtcbiAgICAgICAgICAgICAgY2IoZGdldChuZXdTdGF0ZSwgZGVlcEFjY2Vzc29yKSwgZGdldChvbGRTdGF0ZSwgZGVlcEFjY2Vzc29yKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IG1vZGVsO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAocGFzc1Rocm91Z2gpID0+IHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHJlc29sdmUocGFzc1Rocm91Z2gpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFzc1Rocm91Z2gpO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IHRlbXBsYXRlQ29udGVudCBmcm9tICcuL3RlbXBsYXRlLWNvbnRlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoaHRtbCkgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWwudHJpbSgpO1xuICBjb25zdCBmcmFnID0gdGVtcGxhdGVDb250ZW50KHRlbXBsYXRlKTtcbiAgaWYgKGZyYWcgJiYgZnJhZy5maXJzdENoaWxkKSB7XG4gICAgcmV0dXJuIGZyYWcuZmlyc3RDaGlsZDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGVFbGVtZW50IGZvciAke2h0bWx9YCk7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAobm9kZSkgPT4ge1xuICBsZXQgc2libGluZ3MgPSBbXTtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGxldCBzaWJsaW5nID0gbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgZG8ge1xuICAgICAgaWYgKHNpYmxpbmcubm9kZVR5cGUgPT09IDEgJiYgc2libGluZyAhPT0gbm9kZSkge1xuICAgICAgICBzaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKHNpYmxpbmcubmV4dFNpYmxpbmcgJiYgc2libGluZy5uZXh0U2libGluZyAhPT0gbnVsbCAmJiAoc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmcpKTtcbiAgfVxuXG4gIHJldHVybiBzaWJsaW5ncztcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50KSA9PiB7XG4gIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChjaGlsZCwgcGFyZW50KSA9PiB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHdoaWxlIChjaGlsZC5wYXJlbnROb2RlICYmIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpICYmIGNoaWxkICE9PSBwYXJlbnQpIHt9XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHJldHVybiBCb29sZWFuKGNoaWxkKTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50LCBub2RlVHlwZSA9IE5vZGUuRUxFTUVOVF9OT0RFKSA9PiB7XG4gIGxldCBjaGlsZE5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzO1xuICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgaWYgKGNoaWxkTm9kZXMgJiYgY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGkgPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PT0gbm9kZVR5cGUpIHtcbiAgICAgICAgY2hpbGRyZW4udW5zaGlmdChjaGlsZE5vZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IGxpc3RlbkV2ZW50LCB7IH0gZnJvbSAnLi9saXN0ZW4tZXZlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSA9IGZhbHNlKSA9PiB7XG4gIGxldCBoYW5kbGUgPSBsaXN0ZW5FdmVudChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgfSxcbiAgICBjYXB0dXJlXG4gICk7XG4gIHJldHVybiBoYW5kbGU7XG59O1xuIiwiLyogICovXG5pbXBvcnQgbGlzdGVuRXZlbnQsIHsgfSBmcm9tICcuL2xpc3Rlbi1ldmVudC5qcyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgKFxuICB0YXJnZXQsXG4gIHR5cGUsXG4gIGxpc3RlbmVyLFxuICBjYXB0dXJlID0gZmFsc2VcbikgPT4ge1xuICBsZXQgcGF1c2VkID0gZmFsc2U7XG4gIGxldCBoYW5kbGUgPSBsaXN0ZW5FdmVudChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKCFwYXVzZWQpIHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYXB0dXJlXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmUoKSB7XG4gICAgICBoYW5kbGUucmVtb3ZlKCk7XG4gICAgfSxcbiAgICBwYXVzZSgpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWUoKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBhcmdzLnVuc2hpZnQobWV0aG9kKTtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgYmVoYXZpb3VyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGJlaGF2aW91ci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChvKSA9PlxuICBPYmplY3Qua2V5cyhvKS5yZWR1Y2UoKG0sIGspID0+IG0uc2V0KGssIG9ba10pLCBuZXcgTWFwKCkpO1xuIl0sIm5hbWVzIjpbInByZXZUaW1lSWQiLCJwcmV2VW5pcXVlSWQiLCJwcmVmaXgiLCJuZXdVbmlxdWVJZCIsIkRhdGUiLCJub3ciLCJ1bmlxdWVJZCIsIlN0cmluZyIsImZyZWV6ZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsIndyYXBwZWRNaXhpbktleSIsImFwcGxpZWRNaXhpbktleSIsImNhY2hlZEFwcGxpY2F0aW9uS2V5IiwiY3JlYXRlTWl4aW4iLCJtaXhpbiIsIndyYXAiLCJzdXBlckNsYXNzIiwibyIsImlzQXBwbGljYXRpb25PZiIsImhhc01peGluIiwicHJvdG90eXBlIiwiZGVkdXBlTWl4aW4iLCJjYWNoZWRBcHBsaWNhdGlvbiIsIk1hcCIsImFwcGxpY2F0aW9uIiwiZ2V0Iiwic2V0IiwiY2FjaGVNaXhpbiIsInVud3JhcCIsImFwcGx5TWl4aW4iLCJkZWNsYXJlTWl4aW4iLCJ3cmFwcGVyIiwicHJvdG8iLCJjYWxsIiwiY3JlYXRvciIsImNyZWF0ZSIsImJpbmQiLCJzdG9yZSIsIldlYWtNYXAiLCJvYmoiLCJ2YWx1ZSIsImFyciIsImZuIiwiQm9vbGVhbiIsInNvbWUiLCJldmVyeSIsImRvQWxsQXBpIiwicGFyYW1zIiwiYWxsIiwiZG9BbnlBcGkiLCJhbnkiLCJ0b1N0cmluZyIsInR5cGVzIiwibGVuIiwibGVuZ3RoIiwidHlwZUNhY2hlIiwidHlwZVJlZ2V4cCIsImNoZWNrcyIsImkiLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJnZXRTcmNUeXBlIiwic3JjIiwic2V0dXAiLCJnZXRUeXBlIiwibWF0Y2hlcyIsIm1hdGNoIiwiQXJyYXkiLCJpc0FycmF5IiwiY3VyckhhbmRsZSIsImxhc3RIYW5kbGUiLCJjYWxsYmFja3MiLCJub2RlQ29udGVudCIsIm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsImNiIiwiZXJyIiwic3BsaWNlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJjYWxsYmFjayIsInRleHRDb250ZW50IiwicHVzaCIsImhhbmRsZSIsImlkeCIsIkVycm9yIiwidGVtcGxhdGUiLCJjcmVhdGVFbGVtZW50IiwiaW1wb3J0Tm9kZSIsImNvbnRlbnQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJhcHBlbmRDaGlsZCIsImNsb25lTm9kZSIsInRhcmdldCIsImxpc3RlbmVyIiwiY2FwdHVyZSIsImluZGV4T2YiLCJldmVudHMiLCJzcGxpdCIsImhhbmRsZXMiLCJtYXAiLCJhZGRMaXN0ZW5lciIsInJlbW92ZSIsInBvcCIsInBhcnNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJkZWZhdWx0VmFsdWUiLCJ1bmRlZmluZWQiLCJwYXJ0cyIsIm9iamVjdCIsImRlcHRoIiwiY2xvbmUiLCJjaXJjdWxhcnMiLCJjbG9uZXMiLCJpcyIsIm51bGwiLCJib29sZWFuIiwibnVtYmVyIiwic3RyaW5nIiwiaXNQcmltaXRpdmUiLCJmdW5jdGlvbiIsImNvbnRleHQiLCJoYW5kbGVycyIsInRoaXMiLCJnZXRUaW1lIiwiUmVnRXhwIiwiZnJvbSIsImVudHJpZXMiLCJTZXQiLCJ2YWx1ZXMiLCJoZWFkZXJzIiwiSGVhZGVycyIsIm5hbWUiLCJhcHBlbmQiLCJCbG9iIiwiZmluZEluZGV4IiwiX3RoaXMiLCJhcmdzIiwiYXBwbHkiLCJjbG9uZXIiLCJyZXZpdmVyIiwiayIsInYiLCJKU09OIiwic3RyaW5naWZ5IiwiQ3RvciIsIm1peGlucyIsInJlZHVjZSIsIm0iLCJzdWJzY3JpYmVycyIsInN1YnNjcmliZXJDb3VudCIsImV2ZW50IiwiZm9yRWFjaCIsInN1YnNjcmlwdGlvbnMiLCJoYXMiLCJzdWJzY3JpYmVyIiwiZGVsZXRlIiwiYmFzZUNsYXNzIiwicHJpdmF0ZXMiLCJjcmVhdGVTdG9yYWdlIiwiX2Jhc2VDbGFzcyIsIl9zdGF0ZUtleSIsIl9zdWJzY3JpYmVycyIsIl9zZXRTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsImFjY2Vzc29yIiwiX2dldFN0YXRlIiwiYXJnMSIsImFyZzIiLCJvbGRTdGF0ZSIsIm5ld1N0YXRlIiwianNvbkNsb25lIiwiX25vdGlmeVN1YnNjcmliZXJzIiwiY3JlYXRlU3Vic2NyaWJlciIsInNlbGYiLCJfc3Vic2NyaWJlIiwiX2Rlc3Ryb3lTdWJzY3JpYmVyIiwiY3JlYXRlUHJvcGVydHlCaW5kZXIiLCJiaW5kUnVsZXMiLCJiaW5kUnVsZSIsImRnZXQiLCJzZXRBY2Nlc3NvciIsImRlZXBBY2Nlc3NvciIsInJlcGxhY2UiLCJwYXNzVGhyb3VnaCIsInJlYWR5U3RhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJ0cmltIiwiZnJhZyIsInRlbXBsYXRlQ29udGVudCIsImZpcnN0Q2hpbGQiLCJzaWJsaW5ncyIsInBhcmVudE5vZGUiLCJzaWJsaW5nIiwibm9kZVR5cGUiLCJuZXh0U2libGluZyIsImVsZW1lbnQiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjaGlsZCIsInBhcmVudCIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJ1bnNoaWZ0IiwibGlzdGVuRXZlbnQiLCJwYXVzZWQiLCJiZWhhdmlvdXIiLCJtZXRob2ROYW1lcyIsImtsYXNzIiwiZGVmaW5lUHJvcGVydHkiLCJtZXRob2ROYW1lIiwibWV0aG9kIiwicmV0dXJuVmFsdWUiLCJrZXlzIl0sIm1hcHBpbmdzIjoicU1BRUEsSUFBSUEsRUFBYSxFQUNiQyxFQUFlLGFBRUhDLE9BQ1ZDLEVBQWNDLEtBQUtDLE1BQ25CRixJQUFnQkgsSUFDaEJDLEtBRVdFLElBQ0UsT0FHYkcsS0FBY0MsT0FBT0osR0FBZUksT0FBT04sVUFDM0NDLE1BQ1lBLE1BQVVJLEdBRW5CQSwyZkNmREUsRUFBMkRDLE9BQTNERCxPQUFRRSxFQUFtREQsT0FBbkRDLGVBQWdCQyxFQUFtQ0YsT0FBbkNFLGVBQWdCQyxFQUFtQkgsT0FBbkJHLGVBRzFDQyxFQUFrQlAsRUFBUyxpQkFHM0JRLEVBQWtCUixFQUFTLGlCQUczQlMsRUFBdUJULEVBQVMsc0JBR3pCVSxFQUFj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

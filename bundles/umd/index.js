!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VoyaUtilityToolkit={})}(this,function(t){"use strict";var e=0,n=0,r=function(t){var r=Date.now();r===e?++n:(e=r,n=0);var o=""+String(r)+String(n);return t&&(o=t+"_"+o),o},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},c=Object.freeze,f=Object.setPrototypeOf,l=Object.getPrototypeOf,p=Object.hasOwnProperty,h=r("_wrappedMixin"),d=r("_appliedMixin"),v=r("_cachedApplication"),y=function(t){return function(t){return b(t,function(e){return function(t,e){for(;null!==t;){if(O(t,e))return!0;t=l(t)}return!1}(e.prototype,t)?e:t(e)})}(function(t){return b(t,function(e){var n=e[v];n||(n=e[v]=new Map);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r})}(function(t){return b(t,function(e){return function(t,e){var n=e(t);return n.prototype[d]=m(e),n}(e,t)})}(t)))},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return function t(){i(this,t)}}();return c({with:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(t){return y(t)}).reduce(function(t,e){return e(t)},t)}})};function b(t,e){return f(e,t),t[h]||(t[h]=t),e}function m(t){return t[h]||t}function O(t,e){return p.call(t,d)&&t[d]===m(e)}var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create.bind(null,null,{}),e=new WeakMap;return function(n){var r=e.get(n);return r||e.set(n,r=t(n)),r}},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.some(e)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.every(e)},j=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return E(n,t)}},A=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return P(n,t)}},C=Object.prototype.toString,_=["Map","Set","Symbol","Array","Object","String","Date","RegExp","Function","Boolean","Number","Null","Undefined","Arguments","Error","Request","Response","Headers","Blob"],S=_.length,z={},T=/\s([a-zA-Z]+)/,N=function(){for(var t={},e=function(e){var n=_[e].toLowerCase();t[n]=function(t){return x(t)===n},t[n].all=j(t[n]),t[n].any=A(t[n])},n=S;n--;)e(n);return t}(),k=function(t){return x(t)};function x(t){var e=C.call(t);if(!z[e]){var n=e.match(T);Array.isArray(n)&&n.length>1&&(z[e]=n[1].toLowerCase())}return z[e]}var M=function(t){return R(t,[],[])};function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return N.undefined(t)||N.null(t)||function(t){return N.boolean(t)||N.number(t)||N.string(t)}(t)||N.function(t)?t:function(t,e){var n={date:function(){return new Date(this.getTime())},regexp:function(){return new RegExp(this)},array:function(){return this.map(R)},map:function(){return new Map(Array.from(this.entries()))},set:function(){return new Set(Array.from(this.values()))},request:function(){return this.clone()},response:function(){return this.clone()},headers:function(){for(var t=new Headers,e=this.entries,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var o;if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var i=o,u=i[0],a=i[1];t.append(u,a)}return t},blob:function(){return new Blob([this],{type:this.type})},object:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.push(this);var r=Object.create(this);n.push(r);var o=function(o){var i=e.findIndex(function(e){return e===t[o]});r[o]=i>-1?n[i]:R(t[o],e,n)};for(var i in this)o(i);return r}};if(t in n){for(var r=n[t],o=arguments.length,i=Array(o>2?o-2:0),u=2;u<o;u++)i[u-2]=arguments[u];return r.apply(e,i)}return e}(k(t),t,e,n)}var D=function(t,e){return M(e)},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arrayMerge:D};return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=void 0,i=n.length;i>0;--i)o=B(n.pop(),o,t);return o}}();function B(t,e,n){if(N.undefined(e))return M(t);var r=k(t);return r===k(e)?function(t,e,n,r){var o={object:function(){var t={},o={source:Object.keys(e),target:Object.keys(n)};return o.source.concat(o.target).forEach(function(o){t[o]=B(e[o],n[o],r)}),t},array:function(){return r.arrayMerge.apply(null,[e,n])}};if(t in o)return o[t]();return M(n)}(r,t,e,n):M(e)}var U=Object.freeze({Get:"GET",Post:"POST",Put:"PUT",Patch:"PATCH",Delete:"DELETE"}),V=w(),H=function(t){function e(n){i(this,e);var r=s(this,t.call(this,n.status+" for "+n.url));return r.name="HttpError",r.response=n,r}return a(e,t),e}(Error),I=function(){function t(e){i(this,t),V(this).config=e}return t.prototype.catcher=function(e,n){var r=M(V(this).config);return r.catchers.set(e,n),new t(r)},t.prototype.middleware=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=M(V(this).config);return r.middleware=n?e:r.middleware.concat(e),new t(r)},t.prototype.url=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=M(V(this).config);return r.url=n?e:r.url+e,new t(r)},t.prototype.options=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=M(V(this).config);return r.options=n?L(r.options,e):Object.assign({},e),new t(r)},t.prototype.headers=function(e){var n=M(V(this).config);return n.options.headers=L(n.options.headers,e),new t(n)},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){return this.headers({"Content-Type":t})},t.prototype.mode=function(t){return this.options({mode:t})},t.prototype.credentials=function(t){return this.options({credentials:t})},t.prototype.cache=function(t){return this.options({cache:t})},t.prototype.integrity=function(t){return this.options({integrity:t})},t.prototype.keepalive=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.options({keepalive:t})},t.prototype.redirect=function(t){return this.options({redirect:t})},t.prototype.body=function(e){var n=M(V(this).config);return n.options.body=e,new t(n)},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.json=function(t){return this.content("application/json").body(JSON.stringify(t))},t.prototype.form=function(t){return this.body((e=t,Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent("object"===o(e[t])?JSON.stringify(e[t]):e[t])}).join("&"))).content("application/x-www-form-urlencoded");var e},t.prototype.method=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.Get;return this.options({method:t})},t.prototype.get=function(){return this.method(U.Get).send()},t.prototype.post=function(){return this.method(U.Post).send()},t.prototype.insert=function(){return this.method(U.Put).send()},t.prototype.update=function(){return this.method(U.Patch).send()},t.prototype.delete=function(){return this.method(U.Delete).send()},t.prototype.send=function(){var t,e=this,n=V(this).config,r=n.url,o=n.options,i=n.middleware,u=n.resolvers,a=n.catchers,s=(t=i,function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight(function(n,r,o){return o===t.length-2?r(n(e)):r(n)})})(fetch)(r,o).then(function(t){if(!t.ok)throw new H(t);return t}),c=function(t){return t.catch(function(t){if(a.has(t.status))return a.get(t.status)(t,e);if(a.has(t.name))return a.get(t.name)(t,e);throw t})},f=function(t){return function(e){return c(t?s.then(function(e){return e&&e[t]()}).then(function(t){return t&&e&&e(t)||t}):s.then(function(t){return t&&e&&e(t)||t}))}},l={res:f(null),json:f("json")};return u.reduce(function(t,e){return e(t,o)},l)},t}();var J=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.unshift(u),t.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},W=0,G=0,F=[],q=0,Z=document.createTextNode("");new MutationObserver(function(){for(var t=F.length,e=0;e<t;e++){var n=F[e];if(n&&"function"==typeof n)try{n()}catch(t){setTimeout(function(){throw t})}}F.splice(0,t),G+=t}).observe(Z,{characterData:!0});var $=function(t){return Z.textContent=String(q++),F.push(t),W++};var K=Object.freeze({run:$,cancel:function(t){var e=t-G;if(e>=0){if(!F[e])throw new Error("invalid async handle: "+t);F[e]=null}}}),Q=document.defaultView;if("function"!=typeof Q.HTMLElement){var X=function(){};X.prototype=Q.HTMLElement.prototype,Q.HTMLElement=X}var Y=function(t){var e=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"],n=Object.defineProperty,r=Object.hasOwnProperty,o=w();return t||(t=function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e}(Q.HTMLElement)),function(t){function c(){i(this,c);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=s(this,t.call.apply(t,[this].concat(n)));return o.construct(),o}return a(c,t),c.finalizeClass=function(){},c.define=function(t){var i=customElements;if(!i.get(t)){var u=this.prototype;e.forEach(function(t){r.call(u,t)||n(u,t,{value:function(){},configurable:!0});var e=t.substring(0,t.length-"callback".length),o=u[t];n(u,t,{value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this[e].apply(this,n),o.apply(this,n)},configurable:!0})}),this.finalizeClass(),J(function(t){o(this).connected=!0,o(this).initialized||(o(this).initialized=!0,t.call(this),this.render())},"connected")(this),J(function(t){var e=this;o(e).connected=!1,$(function(){!o(e).connected&&o(e).initialized&&(o(e).initialized=!1,t.call(e))})},"disconnected")(this),J(function(t){var e=this;if(!o(e).rendering){var n=void 0===o(e).rendering;o(e).rendering=!0,$(function(){o(e).rendering&&(o(e).rendering=!1,e._onRender(n),t.call(e),e._postRender(n))})}},"render")(this),i.define(t,this)}},u(c,[{key:"initialized",get:function(){return!0===o(this).initialized}}],[{key:"observedAttributes",get:function(){return[]}}]),c.prototype.construct=function(){},c.prototype.attributeChanged=function(t,e,n){},c.prototype.connected=function(){},c.prototype.disconnected=function(){},c.prototype.adopted=function(){},c.prototype.render=function(){},c.prototype._onRender=function(){},c.prototype._postRender=function(){},c}(t)},tt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=u.apply(this,n);return t.apply(this,n),o},writable:!0})},a=0;a<o;a++)u(a);return e}},et=!["undefined"==typeof window?"undefined":o(window),"undefined"==typeof document?"undefined":o(document)].includes("undefined"),nt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),u.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Node.ELEMENT_NODE,n=t.childNodes,r=[];if(n&&n.length>0)for(var o=n.length;o--;)n[o].nodeType===e&&r.unshift(n[o]);return r},ot=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){if(et)return t.apply(void 0,arguments);if(e)throw new Error(t.name+" for browser use only")}}(function(t){return function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.finalizeClass=function(){var e;t.finalizeClass.call(this),nt((e=/-([a-z])/g,function(t){var n=this;if(t){var r=rt(n);r.forEach(function(t){var r=t.getAttribute?t.getAttribute("slot"):null;if("string"==typeof r&&r.length>0){var o=r.replace(e,function(t){return t[1].toUpperCase()});n.slots[o]=t}else n.slots.default.push(t)}),n.slotsAssigned()}}),"_onRender")(this)},e.prototype.construct=function(){t.prototype.construct.call(this),this.slots={default:[]}},e.prototype.slotsAssigned=function(){},e}(t)}),it=function(t,e,n){return function(t,e,n,r){if(e.indexOf(",")>-1){var o=e.split(/\s*,\s*/),i=o.map(function(e){return ut(t,e,n,r)});return{remove:function(){this.remove=function(){};for(var t=void 0;t=i.pop();)t.remove()}}}return ut(t,e,n,r)}(t,e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])};function ut(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),{remove:function(){this.remove=function(){},t.removeEventListener(e,n,r)}};throw new Error("target must be an event emitter")}var at=function(t){var e=Object.assign,n=w(function(){return{handlers:[]}}),r={bubbles:!1,cancelable:!1};return function(t){function o(){return i(this,o),s(this,t.apply(this,arguments))}return a(o,t),o.finalizeClass=function(){t.finalizeClass.call(this),tt(function(){this.off()},"disconnected")(this)},o.prototype.handleEvent=function(t){var e="on"+t.type;"function"==typeof this[e]&&this[e](t)},o.prototype.on=function(t,e,n){this.own(it(this,t,e,n))},o.prototype.dispatch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dispatchEvent(new CustomEvent(t,e(r,{detail:n})))},o.prototype.off=function(){n(this).handlers.forEach(function(t){t.remove()})},o.prototype.own=function(){for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];r.forEach(function(e){n(t).handlers.push(e)})},o}(t)},st=function(t){var e=Object.defineProperty,n=Object.keys,r=Object.assign,c={},f={},l=w(),p=void 0,h={},d={};function v(t){var e,n={};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var o=t[r];n[r]="function"==typeof o?{type:o}:o,(e=n[r]).hasObserver="observer"in e,e.isObserverString=e.hasObserver&&"string"==typeof e.observer,e.isString=e.type===String,e.isNumber=e.type===Number,e.isBoolean=e.type===Boolean,e.isObject=e.type===Object,e.isArray=e.type===Array,e.isDate=e.type===Date,e.notify="notify"in e,e.readOnly="readOnly"in e&&e.readOnly,e.reflectToAttribute="reflectToAttribute"in e?e.reflectToAttribute:e.isString||e.isNumber||e.isBoolean}return n}return function(t){function y(){return i(this,y),s(this,t.apply(this,arguments))}return a(y,t),y.finalizeClass=function(){t.finalizeClass.call(this),nt(function(){Object.keys(l(this).initializeProperties).length>0&&(r(this,l(this).initializeProperties),l(this).initializeProperties={}),this._flushProperties()},"connected")(this),nt(function(t,e,n){e!==n&&this._attributeToProperty(t,n)},"attributeChanged")(this),nt(function(t,e,n){var r=this,o=this;Object.keys(e).forEach(function(t){var i=o.constructor.classProperties[t],u=i.notify,a=i.hasObserver,s=i.reflectToAttribute,c=i.isObserverString,f=i.observer;s&&o._propertyToAttribute(t,e[t]),a&&c?r[f](e[t],n[t]):a&&"function"==typeof f&&f.apply(o,[e[t],n[t]]),u&&o.dispatchEvent(new CustomEvent(t+"-changed",{detail:{newValue:e[t],oldValue:n[t]}}))})},"propertiesChanged")(this),this.createProperties()},y.attributeToPropertyName=function(t){var e=c[t];if(!e){e=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),c[t]=e}return e},y.propertyNameToAttribute=function(t){var e=f[t];if(!e){e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),f[t]=e}return e},y.createProperties=function(){var t=this.prototype,e=this.classProperties;n(e).forEach(function(n){if(Object.hasOwnProperty.call(t,n))throw new Error("Unable to setup property '"+n+"', property already exists");var r=e[n].value;void 0!==r&&(d[n]=r),t._createPropertyAccessor(n,e[n].readOnly)})},y.prototype.construct=function(){t.prototype.construct.call(this),l(this).data={},l(this).serializing=!1,l(this).initializeProperties={},l(this).dataPending=null,l(this).dataOld=null,l(this).dataInvalid=!1,this._initializeProtoProperties(),this._initializeProperties()},y.prototype.propertiesChanged=function(t,e,n){},y.prototype._createPropertyAccessor=function(t,n){h[t]||(h[t]=!0,e(this,t,{enumerable:!0,configurable:!0,get:function(){return this._getProperty(t)},set:n?function(){}:function(e){this._setProperty(t,e)}}))},y.prototype._getProperty=function(t){return l(this).data[t]},y.prototype._setProperty=function(t,e){this._isValidPropertyValue(t,e)?this._setPendingProperty(t,e)&&this._invalidateProperties():console.log("invalid value "+e+" for property "+t+" of\n\t\t\t\t\ttype "+this.constructor.classProperties[t].type.name)},y.prototype._initializeProtoProperties=function(){var t=this;Object.keys(d).forEach(function(e){var n="function"==typeof d[e]?d[e].call(t):d[e];t._setProperty(e,n)})},y.prototype._initializeProperties=function(){var t=this;Object.keys(h).forEach(function(e){Object.hasOwnProperty.call(t,e)&&(l(t).initializeProperties[e]=t[e],delete t[e])})},y.prototype._attributeToProperty=function(t,e){if(!l(this).serializing){var n=this.constructor.attributeToPropertyName(t);this[n]=this._deserializeValue(n,e)}},y.prototype._isValidPropertyValue=function(t,e){var n=this.constructor.classProperties[t].type;return"object"===(void 0===e?"undefined":o(e))?e instanceof n:""+(void 0===e?"undefined":o(e))===n.name.toLowerCase()},y.prototype._propertyToAttribute=function(t,e){l(this).serializing=!0;var n=this.constructor.propertyNameToAttribute(t);void 0===(e=this._serializeValue(t,e))?this.removeAttribute(n):this.getAttribute(n)!==e&&this.setAttribute(n,e),l(this).serializing=!1},y.prototype._deserializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isNumber,o=n.isArray,i=n.isBoolean,u=n.isDate,a=n.isString,s=n.isObject;return i?e=null!==e&&void 0!==e:r?e=null===e||void 0===e?0:Number(e):a?e=null===e||void 0===e?"":String(e):s||o?e=null===e||void 0===e?o?null:{}:JSON.parse(e):u&&(e=null===e||void 0===e?"":new Date(e)),e},y.prototype._serializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isBoolean,o=n.isObject,i=n.isArray;return r?e?"":void 0:o||i?JSON.stringify(e):e=e?e.toString():void 0},y.prototype._setPendingProperty=function(t,e){var n=l(this).data[t],r=this._shouldPropertyChange(t,e,n);return r&&(l(this).dataPending||(l(this).dataPending={},l(this).dataOld={}),!l(this).dataOld||t in l(this).dataOld||(l(this).dataOld[t]=n),l(this).data[t]=e,l(this).dataPending[t]=e),r},y.prototype._invalidateProperties=function(){var t=this;l(this).dataInvalid||(l(this).dataInvalid=!0,$(function(){l(t).dataInvalid&&(l(t).dataInvalid=!1,t._flushProperties())}))},y.prototype._flushProperties=function(){var t=l(this).data,e=l(this).dataPending,n=l(this).dataOld;this._shouldPropertiesChange(t,e,n)&&(l(this).dataPending=null,l(this).dataOld=null,this.propertiesChanged(t,e,n))},y.prototype._shouldPropertiesChange=function(t,e,n){return Boolean(e)},y.prototype._shouldPropertyChange=function(t,e,n){return n!==e&&(n==n||e==e)},u(y,null,[{key:"observedAttributes",get:function(){var t=this;return Object.keys(this.classProperties).map(function(e){return t.propertyNameToAttribute(e)})||[]}},{key:"classProperties",get:function(){if(!p){for(var t=function(){return p||{}},e=null,n=!0;n;)(e=Object.getPrototypeOf(null===e?this:e))&&e.constructor&&e.constructor!==HTMLElement&&e.constructor!==Function&&e.constructor!==Object&&e.constructor!==e.constructor.constructor||(n=!1),Object.hasOwnProperty.call(e,"properties")&&(p=r(t(),v(e.properties)));this.properties&&(p=r(t(),v(this.properties)))}return p}}]),y}(t)},ct=function(t){if("content"in document.createElement("template"))return document.importNode(t.content,!0);for(var e=document.createDocumentFragment(),n=t.childNodes,r=0;r<n.length;r++)e.appendChild(n[r].cloneNode(!0));return e},ft=function(t){t.parentElement&&t.parentElement.removeChild(t)};t.classBuilder=g,t.createStorage=w,t.http=function(){return new I(Object.assign({},{url:"",options:{},catchers:new Map,resolvers:[],middleware:[]}))},t.createEventHub=function(){var t=new Map,e=0;return{publish:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.forEach(function(t){(t.get(e)||[]).forEach(function(t){t.apply(void 0,r)})}),this},createSubscriber:function(){var n=e++;return{on:function(e,r){t.has(n)||t.set(n,new Map);var o=t.get(n);return o.has(e)||o.set(e,[]),o.get(e).push(r),this},off:function(e){return t.get(n).delete(e),this},destroy:function(){t.delete(n)}}}}},t.is=N,t.customElement=Y,t.customElementState=function(t){var e=Object.assign,n=w();return function(t){function r(){return i(this,r),s(this,t.apply(this,arguments))}return a(r,t),r.finalizeClass=function(){t.finalizeClass.call(this),tt(function(t){t?this.componentWillRender(this.state):this.componentWillUpdate(this.state,e({},n(this).renderedState))},"_onRender")(this),tt(function(t){var e=n(this).renderedState;n(this).renderedState=n(this).state,t?this.componentDidRender(e):this.componentDidUpdate(e)},"_postRender")(this)},r.prototype.construct=function(){t.prototype.construct.call(this),this.setState(this.defaultState)},r.prototype.shouldComponentUpdate=function(t){for(var e in t)if(t[e]!==n(this).state[e])return!0;return!1},r.prototype.setState=function(t){var r=e({},n(this).state,t);(void 0===n(this).state||this.shouldComponentUpdate(r))&&(n(this).state=r,this.initialized&&this.render())},r.prototype.componentWillRender=function(t){},r.prototype.componentDidRender=function(t){},r.prototype.componentWillUpdate=function(t,e){},r.prototype.componentDidUpdate=function(t){},u(r,[{key:"defaultState",get:function(){return{}}},{key:"state",get:function(){return e({},n(this).state)}}]),r}(t)},t.customElementSlots=ot,t.customElementEvents=at,t.customElementProperties=st,t.customElementComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.prototype.propertiesChanged=function(t,e,n){this.initialized&&this.render()},e}(g(t).with(at,st))},t.microTask=K,t.documentReady=function(t){return"loading"===document.readyState?new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e(t)})}):Promise.resolve(t)},t.createElement=function(t){var e=document.createElement("template");e.innerHTML=t.trim();var n=ct(e);if(n&&n.firstChild)return n.firstChild;throw new Error("Unable to createElement for "+t)},t.elementSiblings=function(t){var e=[];if(t.parentNode&&t.parentNode.firstChild){var n=t.parentNode.firstChild;do{1===n.nodeType&&n!==t&&e.push(n)}while(n.nextSibling&&null!==n.nextSibling&&(n=n.nextSibling))}return e},t.removeElement=ft,t.isDescendantElement=function(t,e){for(;t.parentNode&&(t=t.parentNode)&&t!==e;);return Boolean(t)},t.elementChildren=rt,t.templateContent=ct,t.createRouter=function(t){var e=t.cloneNode(!0),n={},r=null,o=null,i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.location.hash=t},u=function(){return s()},a=function(t){n["*"]=t},s=function(){var r=location.hash.slice(1),i=function(t,e){var n=t.split("/"),r=n[0];return e.filter(function(t){var e=t.split("/"),o=0===e.map(function(t,e){return-1!==t.indexOf(":",0)||t===n[e]}).reduce(function(t,e){return!1===e&&++t,t},0);return-1!==t.indexOf(r,0)&&o&&n.length===e.length})[0]}(r,Object.keys(n)),u={};i&&(u=function(t,e){var n=e.split("/");return t.split("/").map(function(t,e){if(-1===t.indexOf(":",0))return null;var r={},o=t.substr(1,t.length-1);return r[o]=n[e],r}).filter(function(t){return null!==t}).reduce(function(t,e){return e&&Object.keys(e).forEach(function(n){var r;t[n]=(r=e[n],isNaN(r)?"true"===r||"false"===r?JSON.parse(r):r:parseInt(r,10))}),t},{})}(i,r));var a=Object.keys(n).indexOf(i)>-1?n[i]:n["*"];a&&(o&&!N.undefined(o.dispose)&&o.dispose(t),o=a,function(){if(t.parentElement){var n=e.cloneNode(!0);t&&t.parentElement&&t.parentElement.insertBefore(n,t),ft(t),t=n}}(),a(t,u,a.data))},c=function(){r=it(window,"hashchange",s)};return r&&r.remove(),{start:c,addRoute:function t(e,r,o){return n[e]=r,n[e].data=o,{start:c,reload:u,addRoute:t,otherwise:a,navigate:i}},otherwise:a,navigate:i,reload:u}},t.listenEvent=it,t.listenEventOnce=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=it(t,e,function(){o.remove(),n.apply(void 0,arguments)},r);return o},t.pausableEvent=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!1,i=it(t,e,function(){o||n.apply(void 0,arguments)},r);return{remove:function(){i.remove()},pause:function(){o=!0},resume:function(){o=!1}}},t.adviceBefore=nt,t.adviceAround=J,t.adviceAfter=tt,t.adviceAfterThrow=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){try{for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return u.apply(this,n)}catch(e){t.call(this,e)}},writable:!0})},a=0;a<o;a++)u(a);return e}},t.any=P,t.all=E,t.dget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(-1===e.indexOf("."))return void 0!==t[e]?t[e]:n;for(var r=e.split("."),o=r.length,i=t,u=0;u<o;u++)if(void 0===(i=i[r[u]]))return void(i=n);return i},t.dset=function(t,e,n){if(-1!==e.indexOf(".")){for(var r=e.split("."),o=r.length-1,i=t,u=0;u<o;u++)void 0===i[r[u]]&&(i[r[u]]={}),i=i[r[u]];i[r[o]]=n}else t[e]=n},t.clone=M,t.merge=L,t.jsonClone=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return e};return JSON.parse(JSON.stringify(t),e)},t.objectToMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91bmlxdWUtaWQuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci5qcyIsIi4uLy4uL2xpYi9jcmVhdGUtc3RvcmFnZS5qcyIsIi4uLy4uL2xpYi9hcnJheS9hbnkuanMiLCIuLi8uLi9saWIvYXJyYXkvYWxsLmpzIiwiLi4vLi4vbGliL3R5cGUuanMiLCIuLi8uLi9saWIvb2JqZWN0L2Nsb25lLmpzIiwiLi4vLi4vbGliL29iamVjdC9tZXJnZS5qcyIsIi4uLy4uL2xpYi9odHRwLmpzIiwiLi4vLi4vbGliL2V2ZW50LWh1Yi5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYXJvdW5kLmpzIiwiLi4vLi4vbGliL2RvbS9taWNyb3Rhc2suanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQuanMiLCIuLi8uLi9saWIvYWR2aWNlL2FmdGVyLmpzIiwiLi4vLi4vbGliL2Vudmlyb25tZW50LmpzIiwiLi4vLi4vbGliL2FkdmljZS9iZWZvcmUuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtY2hpbGRyZW4uanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtc2xvdHMuanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQuanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtZXZlbnRzLmpzIiwiLi4vLi4vbGliL3dlYi1jb21wb25lbnRzL2N1c3RvbS1lbGVtZW50LXByb3BlcnRpZXMuanMiLCIuLi8uLi9saWIvZG9tL3RlbXBsYXRlLWNvbnRlbnQuanMiLCIuLi8uLi9saWIvZG9tL3JlbW92ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL3dlYi1jb21wb25lbnRzL2N1c3RvbS1lbGVtZW50LXN0YXRlLmpzIiwiLi4vLi4vbGliL3dlYi1jb21wb25lbnRzL2N1c3RvbS1lbGVtZW50LWNvbXBvbmVudC5qcyIsIi4uLy4uL2xpYi9kb20vZG9jdW1lbnQtcmVhZHkuanMiLCIuLi8uLi9saWIvZG9tL2NyZWF0ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2RvbS9lbGVtZW50LXNpYmxpbmdzLmpzIiwiLi4vLi4vbGliL2RvbS9pcy1kZXNjZW5kYW50LWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL3JvdXRlci5qcyIsIi4uLy4uL2xpYi9kb20tZXZlbnRzL2xpc3Rlbi1ldmVudC1vbmNlLmpzIiwiLi4vLi4vbGliL2RvbS1ldmVudHMvcGF1c2FibGUtZXZlbnQuanMiLCIuLi8uLi9saWIvYWR2aWNlL2FmdGVyLXRocm93LmpzIiwiLi4vLi4vbGliL29iamVjdC9kZ2V0LmpzIiwiLi4vLi4vbGliL29iamVjdC9kc2V0LmpzIiwiLi4vLi4vbGliL29iamVjdC9qc29uLWNsb25lLmpzIiwiLi4vLi4vbGliL29iamVjdC9vYmplY3QtdG8tbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qICAqL1xuXG5sZXQgcHJldlRpbWVJZCA9IDA7XG5sZXQgcHJldlVuaXF1ZUlkID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgKHByZWZpeCkgPT4ge1xuICBsZXQgbmV3VW5pcXVlSWQgPSBEYXRlLm5vdygpO1xuICBpZiAobmV3VW5pcXVlSWQgPT09IHByZXZUaW1lSWQpIHtcbiAgICArK3ByZXZVbmlxdWVJZDtcbiAgfSBlbHNlIHtcbiAgICBwcmV2VGltZUlkID0gbmV3VW5pcXVlSWQ7XG4gICAgcHJldlVuaXF1ZUlkID0gMDtcbiAgfVxuXG4gIGxldCB1bmlxdWVJZCA9IGAke1N0cmluZyhuZXdVbmlxdWVJZCl9JHtTdHJpbmcocHJldlVuaXF1ZUlkKX1gO1xuICBpZiAocHJlZml4KSB7XG4gICAgdW5pcXVlSWQgPSBgJHtwcmVmaXh9XyR7dW5pcXVlSWR9YDtcbiAgfVxuICByZXR1cm4gdW5pcXVlSWQ7XG59O1xuIiwiLyogICovXG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi91bmlxdWUtaWQuanMnO1xuXG5jb25zdCB7IGZyZWV6ZSwgc2V0UHJvdG90eXBlT2YsIGdldFByb3RvdHlwZU9mLCBoYXNPd25Qcm9wZXJ0eSB9ID0gT2JqZWN0O1xuXG4vLyB1c2VkIGJ5IHdyYXAoKSBhbmQgdW53cmFwKClcbmNvbnN0IHdyYXBwZWRNaXhpbktleSA9IHVuaXF1ZUlkKCdfd3JhcHBlZE1peGluJyk7XG5cbi8vIHVzZWQgYnkgYXBwbHlNaXhpbigpIGFuZCBpc0FwcGxpY2F0aW9uT2YoKVxuY29uc3QgYXBwbGllZE1peGluS2V5ID0gdW5pcXVlSWQoJ19hcHBsaWVkTWl4aW4nKTtcblxuLy8gdXNlZCBieSBjYWNoZSBtaXhpbiBkZWNvcmF0b3JcbmNvbnN0IGNhY2hlZEFwcGxpY2F0aW9uS2V5ID0gdW5pcXVlSWQoJ19jYWNoZWRBcHBsaWNhdGlvbicpO1xuXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNaXhpbiA9IChtaXhpbikgPT4gZGVkdXBlTWl4aW4oY2FjaGVNaXhpbihkZWNsYXJlTWl4aW4obWl4aW4pKSk7XG5cbmV4cG9ydCBkZWZhdWx0IChDdG9yID0gY2xhc3Mge30pID0+XG4gIGZyZWV6ZSh7XG4gICAgd2l0aCguLi5taXhpbnMpIHtcbiAgICAgIHJldHVybiBtaXhpbnMubWFwKChtaXhpbikgPT4gY3JlYXRlTWl4aW4obWl4aW4pKS5yZWR1Y2UoKGssIG0pID0+IG0oayksIEN0b3IpO1xuICAgIH1cbiAgfSk7XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgZnVuY3Rpb24gYG1peGluYCB0byBiZSB3cmFwcGVkIGJ5IHRoZSBmdW5jdGlvbiBgd3JhcHBlcmAsIHdoaWxlXG4gKiBhbGxvd2luZyBwcm9wZXJ0aWVzIG9uIGBtaXhpbmAgdG8gYmUgYXZhaWxhYmxlIHZpYSBgd3JhcHBlcmAsIGFuZCBhbGxvd2luZ1xuICogYHdyYXBwZXJgIHRvIGJlIHVud3JhcHBlZCB0byBnZXQgdG8gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICpcbiAqIGB3cmFwYCBkb2VzIHR3byB0aGluZ3M6XG4gKiAgIDEuIFNldHMgdGhlIHByb3RvdHlwZSBvZiBgbWl4aW5gIHRvIGB3cmFwcGVyYCBzbyB0aGF0IHByb3BlcnRpZXMgc2V0IG9uXG4gKiAgICAgIGBtaXhpbmAgaW5oZXJpdGVkIGJ5IGB3cmFwcGVyYC5cbiAqICAgMi4gU2V0cyBhIHNwZWNpYWwgcHJvcGVydHkgb24gYG1peGluYCB0aGF0IHBvaW50cyBiYWNrIHRvIGBtaXhpbmAgc28gdGhhdFxuICogICAgICBpdCBjYW4gYmUgcmV0cmVpdmVkIGZyb20gYHdyYXBwZXJgXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIEEgZnVuY3Rpb24gdGhhdCB3cmFwcyB7QGxpbmsgbWl4aW59XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYHdyYXBwZXJgXG4gKi9cbmZ1bmN0aW9uIHdyYXAobWl4aW4sIHdyYXBwZXIpIHtcbiAgc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgbWl4aW4pO1xuICBpZiAoIW1peGluW3dyYXBwZWRNaXhpbktleV0pIHtcbiAgICBtaXhpblt3cmFwcGVkTWl4aW5LZXldID0gbWl4aW47XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogVW53cmFwcyB0aGUgZnVuY3Rpb24gYHdyYXBwZXJgIHRvIHJldHVybiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd3JhcHBlZCBieVxuICogb25lIG9yIG1vcmUgY2FsbHMgdG8gYHdyYXBgLiBSZXR1cm5zIGB3cmFwcGVyYCBpZiBpdCdzIG5vdCBhIHdyYXBwZWRcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBBIHdyYXBwZWQgbWl4aW4gcHJvZHVjZWQgYnkge0BsaW5rIHdyYXB9XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIG9yaWdpbmFsbHkgd3JhcHBlZCBtaXhpblxuICovXG5mdW5jdGlvbiB1bndyYXAod3JhcHBlcikge1xuICByZXR1cm4gd3JhcHBlclt3cmFwcGVkTWl4aW5LZXldIHx8IHdyYXBwZXI7XG59XG5cbi8qKlxuICogQXBwbGllcyBgbWl4aW5gIHRvIGBzdXBlcmNsYXNzYC5cbiAqXG4gKiBgYXBwbHlgIHN0b3JlcyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBtaXhpbiBhcHBsaWNhdGlvbiB0byB0aGUgdW53cmFwcGVkIG1peGluXG4gKiB0byBtYWtlIGBpc0FwcGxpY2F0aW9uT2ZgIGFuZCBgaGFzTWl4aW5gIHdvcmsuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWxsIGZvciBtaXhpbiB3cmFwcGVycyB0aGF0IHdhbnQgdG8gYXV0b21hdGljYWxseSBlbmFibGVcbiAqIHtAbGluayBoYXNNaXhpbn0gc3VwcG9ydC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cGVyQ2xhc3MgQSBjbGFzcyBvciBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIGFwcGx5XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBzdWJjbGFzcyBvZiBgc3VwZXJjbGFzc2AgcHJvZHVjZWQgYnkgYG1peGluYFxuICovXG5mdW5jdGlvbiBhcHBseU1peGluKHN1cGVyQ2xhc3MsIG1peGluKSB7XG4gIGxldCBhcHBsaWNhdGlvbiA9IG1peGluKHN1cGVyQ2xhc3MpO1xuICBjb25zdCBwcm90byA9IGFwcGxpY2F0aW9uLnByb3RvdHlwZTtcbiAgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9IHVud3JhcChtaXhpbik7XG4gIHJldHVybiBhcHBsaWNhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYHByb3RvYCBpcyBhIHByb3RvdHlwZSBjcmVhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbiBvZlxuICogYG1peGluYCB0byBhIHN1cGVyY2xhc3MuXG4gKlxuICogYGlzQXBwbGljYXRpb25PZmAgd29ya3MgYnkgY2hlY2tpbmcgdGhhdCBgcHJvdG9gIGhhcyBhIHJlZmVyZW5jZSB0byBgbWl4aW5gXG4gKiBhcyBjcmVhdGVkIGJ5IGBhcHBseWAuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gQSBwcm90b3R5cGUgb2JqZWN0IGNyZWF0ZWQgYnkge0BsaW5rIGFwcGx5fS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIEEgbWl4aW4gZnVuY3Rpb24gdXNlZCB3aXRoIHtAbGluayBhcHBseX0uXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBwcm90b2AgaXMgYSBwcm90b3R5cGUgY3JlYXRlZCBieSB0aGUgYXBwbGljYXRpb24gb2ZcbiAqIGBtaXhpbmAgdG8gYSBzdXBlcmNsYXNzXG4gKi9cbmZ1bmN0aW9uIGlzQXBwbGljYXRpb25PZihwcm90bywgbWl4aW4pIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIGFwcGxpZWRNaXhpbktleSkgJiYgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9PT0gdW53cmFwKG1peGluKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYG9gIGhhcyBhbiBhcHBsaWNhdGlvbiBvZiBgbWl4aW5gIG9uIGl0cyBwcm90b3R5cGVcbiAqIGNoYWluLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG8gQW4gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGFwcGxpZWQgd2l0aCB7QGxpbmsgYXBwbHl9XG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBvYCBoYXMgYW4gYXBwbGljYXRpb24gb2YgYG1peGluYCBvbiBpdHMgcHJvdG90eXBlXG4gKiBjaGFpblxuICovXG5mdW5jdGlvbiBoYXNNaXhpbihvLCBtaXhpbikge1xuICB3aGlsZSAobyAhPT0gbnVsbCkge1xuICAgIGlmIChpc0FwcGxpY2F0aW9uT2YobywgbWl4aW4pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbyA9IGdldFByb3RvdHlwZU9mKG8pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIGJhc2ljIG1peGluIGRlY29yYXRvciB0aGF0IGFwcGxpZXMgdGhlIG1peGluIHdpdGgge0BsaW5rIGFwcGx5TWl4aW59IHNvIHRoYXQgaXRcbiAqIGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIGlzQXBwbGljYXRpb25PZn0sIHtAbGluayBoYXNNaXhpbn0gYW5kIHRoZSBvdGhlclxuICogbWl4aW4gZGVjb3JhdG9yIGZ1bmN0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiB0byB3cmFwXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYSBuZXcgbWl4aW4gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVjbGFyZU1peGluKG1peGluKSB7XG4gIHJldHVybiB3cmFwKG1peGluLCAoc3VwZXJDbGFzcykgPT4gYXBwbHlNaXhpbihzdXBlckNsYXNzLCBtaXhpbikpO1xufVxuXG4vKipcbiAqIERlY29yYXRlcyBgbWl4aW5gIHNvIHRoYXQgaXQgb25seSBhcHBsaWVzIGlmIGl0J3Mgbm90IGFscmVhZHkgb24gdGhlXG4gKiBwcm90b3R5cGUgY2hhaW4uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gdG8gd3JhcCB3aXRoIGRlZHVwbGljYXRpb24gYmVoYXZpb3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIG5ldyBtaXhpbiBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWR1cGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChcbiAgICBtaXhpbixcbiAgICAoc3VwZXJDbGFzcykgPT4gKGhhc01peGluKHN1cGVyQ2xhc3MucHJvdG90eXBlLCBtaXhpbikgPyBzdXBlckNsYXNzIDogbWl4aW4oc3VwZXJDbGFzcykpXG4gICk7XG59XG5cbi8qKlxuICogRGVjb3JhdGUgdGhlIGdpdmVuIG1peGluIGNsYXNzIHdpdGggYSBcImNhY2hlZCBkZWNvcmF0b3JcIi5cbiAqXG4gKiBNZXRob2Qgd2lsbCBlbnN1cmUgdGhhdCBpZiB0aGUgZ2l2ZW4gbWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkLFxuICogdGhlbiBpdCB3aWxsIGJlIHJldHVybmVkIC8gYXBwbGllZCBhIHNpbmdsZSB0aW1lLCByYXRoZXIgdGhhbiBtdWx0aXBsZVxuICogdGltZXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2FjaGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChtaXhpbiwgKHN1cGVyQ2xhc3MpID0+IHtcbiAgICBsZXQgY2FjaGVkQXBwbGljYXRpb24gPSBzdXBlckNsYXNzW2NhY2hlZEFwcGxpY2F0aW9uS2V5XTtcbiAgICBpZiAoIWNhY2hlZEFwcGxpY2F0aW9uKSB7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbiA9IHN1cGVyQ2xhc3NbY2FjaGVkQXBwbGljYXRpb25LZXldID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVcbiAgICBsZXQgYXBwbGljYXRpb24gPSBjYWNoZWRBcHBsaWNhdGlvbi5nZXQobWl4aW4pO1xuICAgIGlmICghYXBwbGljYXRpb24pIHtcbiAgICAgIGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbi5zZXQobWl4aW4sIGFwcGxpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICB9KTtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGNyZWF0b3IgPSBPYmplY3QuY3JlYXRlLmJpbmQobnVsbCwgbnVsbCwge30pKSA9PiB7XG4gIGxldCBzdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHJldHVybiAob2JqKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gc3RvcmUuZ2V0KG9iaik7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc3RvcmUuc2V0KG9iaiwgKHZhbHVlID0gY3JlYXRvcihvYmopKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChhcnIsIGZuID0gQm9vbGVhbikgPT4gYXJyLnNvbWUoZm4pO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYXJyLCBmbiA9IEJvb2xlYW4pID0+IGFyci5ldmVyeShmbik7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGFsbCwgYW55IH0gZnJvbSAnLi9hcnJheS5qcyc7XG5cblxuXG5cbmNvbnN0IGRvQWxsQXBpID0gKGZuKSA9PiAoLi4ucGFyYW1zKSA9PiBhbGwocGFyYW1zLCBmbik7XG5jb25zdCBkb0FueUFwaSA9IChmbikgPT4gKC4uLnBhcmFtcykgPT4gYW55KHBhcmFtcywgZm4pO1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdHlwZXMgPSBbXG4gICdNYXAnLFxuICAnU2V0JyxcbiAgJ1N5bWJvbCcsXG4gICdBcnJheScsXG4gICdPYmplY3QnLFxuICAnU3RyaW5nJyxcbiAgJ0RhdGUnLFxuICAnUmVnRXhwJyxcbiAgJ0Z1bmN0aW9uJyxcbiAgJ0Jvb2xlYW4nLFxuICAnTnVtYmVyJyxcbiAgJ051bGwnLFxuICAnVW5kZWZpbmVkJyxcbiAgJ0FyZ3VtZW50cycsXG4gICdFcnJvcicsXG4gICdSZXF1ZXN0JyxcbiAgJ1Jlc3BvbnNlJyxcbiAgJ0hlYWRlcnMnLFxuICAnQmxvYidcbl07XG5jb25zdCBsZW4gPSB0eXBlcy5sZW5ndGg7XG5jb25zdCB0eXBlQ2FjaGUgPSB7fTtcbmNvbnN0IHR5cGVSZWdleHAgPSAvXFxzKFthLXpBLVpdKykvO1xuXG5leHBvcnQgZGVmYXVsdCAoc2V0dXAoKSk7XG5cbmV4cG9ydCBjb25zdCBnZXRUeXBlID0gKHNyYykgPT4gZ2V0U3JjVHlwZShzcmMpO1xuXG5mdW5jdGlvbiBnZXRTcmNUeXBlKHNyYykge1xuICBsZXQgdHlwZSA9IHRvU3RyaW5nLmNhbGwoc3JjKTtcbiAgaWYgKCF0eXBlQ2FjaGVbdHlwZV0pIHtcbiAgICBsZXQgbWF0Y2hlcyA9IHR5cGUubWF0Y2godHlwZVJlZ2V4cCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0Y2hlcykgJiYgbWF0Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0eXBlQ2FjaGVbdHlwZV0gPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0eXBlQ2FjaGVbdHlwZV07XG59XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuICBsZXQgY2hlY2tzID0ge307XG4gIGZvciAobGV0IGkgPSBsZW47IGktLTsgKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVzW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgY2hlY2tzW3R5cGVdID0gc3JjID0+IGdldFNyY1R5cGUoc3JjKSA9PT0gdHlwZTtcbiAgICBjaGVja3NbdHlwZV0uYWxsID0gZG9BbGxBcGkoY2hlY2tzW3R5cGVdKTtcbiAgICBjaGVja3NbdHlwZV0uYW55ID0gZG9BbnlBcGkoY2hlY2tzW3R5cGVdKTtcbiAgfVxuICByZXR1cm4gY2hlY2tzO1xufVxuIiwiLyogICovXG5pbXBvcnQgaXMsIHsgZ2V0VHlwZSB9IGZyb20gJy4uL3R5cGUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoc3JjKSA9PiBjbG9uZShzcmMsIFtdLCBbXSk7XG5cbmZ1bmN0aW9uIGNsb25lKHNyYywgY2lyY3VsYXJzID0gW10sIGNsb25lcyA9IFtdKSB7XG4gIC8vIE51bGwvdW5kZWZpbmVkL2Z1bmN0aW9ucy9ldGNcbiAgaWYgKGlzLnVuZGVmaW5lZChzcmMpIHx8IGlzLm51bGwoc3JjKSB8fCBpc1ByaW1pdGl2ZShzcmMpIHx8IGlzLmZ1bmN0aW9uKHNyYykpIHtcbiAgICByZXR1cm4gc3JjO1xuICB9XG4gIHJldHVybiBjbG9uZXIoZ2V0VHlwZShzcmMpLCBzcmMsIGNpcmN1bGFycywgY2xvbmVzKTtcbn1cblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoc3JjKSB7XG4gIHJldHVybiBpcy5ib29sZWFuKHNyYykgfHwgaXMubnVtYmVyKHNyYykgfHwgaXMuc3RyaW5nKHNyYyk7XG59XG5cbmZ1bmN0aW9uIGNsb25lcih0eXBlLCBjb250ZXh0LCAuLi5hcmdzKSB7XG4gIGNvbnN0IGhhbmRsZXJzID0ge1xuICAgIGRhdGUoKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5nZXRUaW1lKCkpO1xuICAgIH0sXG4gICAgcmVnZXhwKCkge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodGhpcyk7XG4gICAgfSxcbiAgICBhcnJheSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChjbG9uZSk7XG4gICAgfSxcbiAgICBtYXAoKSB7XG4gICAgICByZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKSk7XG4gICAgfSxcbiAgICBzZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKHRoaXMudmFsdWVzKCkpKTtcbiAgICB9LFxuICAgIHJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICAgIH0sXG4gICAgcmVzcG9uc2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICAgIH0sXG4gICAgaGVhZGVycygpIHtcbiAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgIGZvciAobGV0IFtuYW1lLCB2YWx1ZV0gb2YgdGhpcy5lbnRyaWVzKSB7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH0sXG4gICAgYmxvYigpIHtcbiAgICAgIHJldHVybiBuZXcgQmxvYihbdGhpc10sIHsgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgIH0sXG4gICAgb2JqZWN0KGNpcmN1bGFycyA9IFtdLCBjbG9uZXMgPSBbXSkge1xuICAgICAgY2lyY3VsYXJzLnB1c2godGhpcyk7XG4gICAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgICAgY2xvbmVzLnB1c2gob2JqKTtcbiAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzKSB7XG4gICAgICAgIGxldCBpZHggPSBjaXJjdWxhcnMuZmluZEluZGV4KChpKSA9PiBpID09PSB0aGlzW2tleV0pO1xuICAgICAgICBvYmpba2V5XSA9IGlkeCA+IC0xID8gY2xvbmVzW2lkeF0gOiBjbG9uZSh0aGlzW2tleV0sIGNpcmN1bGFycywgY2xvbmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9O1xuICBpZiAodHlwZSBpbiBoYW5kbGVycykge1xuICAgIGNvbnN0IGZuID0gaGFuZGxlcnNbdHlwZV07XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIiwiLyogICovXG5pbXBvcnQgaXMsIHsgZ2V0VHlwZSB9IGZyb20gJy4uL3R5cGUuanMnO1xuaW1wb3J0IGNsb25lIGZyb20gJy4vY2xvbmUuanMnO1xuXG5cbmV4cG9ydCBjb25zdCBhcnJheVJlcGxhY2VTdHJhdGVneSA9IChzb3VyY2UsIHRhcmdldCkgPT4gY2xvbmUodGFyZ2V0KTtcblxuZXhwb3J0IGNvbnN0IGZhY3RvcnkgPSAob3B0cyA9IHsgYXJyYXlNZXJnZTogYXJyYXlSZXBsYWNlU3RyYXRlZ3kgfSkgPT4gKFxuICAuLi5hcmdzXG4pID0+IHtcbiAgbGV0IHJlc3VsdDtcblxuICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGg7IGkgPiAwOyAtLWkpIHtcbiAgICByZXN1bHQgPSBtZXJnZShhcmdzLnBvcCgpLCByZXN1bHQsIG9wdHMpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZhY3RvcnkoKTtcblxuZnVuY3Rpb24gbWVyZ2Uoc291cmNlLCB0YXJnZXQsIG9wdHMpIHtcbiAgaWYgKGlzLnVuZGVmaW5lZCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIGNsb25lKHNvdXJjZSk7XG4gIH1cblxuICBsZXQgdHlwZSA9IGdldFR5cGUoc291cmNlKTtcbiAgaWYgKHR5cGUgPT09IGdldFR5cGUodGFyZ2V0KSkge1xuICAgIHJldHVybiBtZXJnZXIodHlwZSwgc291cmNlLCB0YXJnZXQsIG9wdHMpO1xuICB9XG4gIHJldHVybiBjbG9uZSh0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBtZXJnZXIodHlwZSwgc291cmNlLCB0YXJnZXQsIG9wdHMpIHtcbiAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgb2JqZWN0KCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICAgIGNvbnN0IGtleXMgPSB7XG4gICAgICAgIHNvdXJjZTogT2JqZWN0LmtleXMoc291cmNlKSxcbiAgICAgICAgdGFyZ2V0OiBPYmplY3Qua2V5cyh0YXJnZXQpXG4gICAgICB9O1xuXG4gICAgICBrZXlzLnNvdXJjZS5jb25jYXQoa2V5cy50YXJnZXQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHNvdXJjZVtrZXldLCB0YXJnZXRba2V5XSwgb3B0cyk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgYXJyYXkoKSB7XG4gICAgICByZXR1cm4gb3B0cy5hcnJheU1lcmdlLmFwcGx5KG51bGwsIFtzb3VyY2UsIHRhcmdldF0pO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZSBpbiBoYW5kbGVycykge1xuICAgIHJldHVybiBoYW5kbGVyc1t0eXBlXSgpO1xuICB9XG4gIHJldHVybiBjbG9uZSh0YXJnZXQpO1xufVxuIiwiLyogICovXG5pbXBvcnQgY3JlYXRlU3RvcmFnZSBmcm9tICcuL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCB7IGNsb25lLCBtZXJnZSB9IGZyb20gJy4vb2JqZWN0LmpzJztcblxuXG5cblxuXG5cblxuZXhwb3J0IGNvbnN0IEh0dHBNZXRob2RzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEdldDogJ0dFVCcsXG4gIFBvc3Q6ICdQT1NUJyxcbiAgUHV0OiAnUFVUJyxcbiAgUGF0Y2g6ICdQQVRDSCcsXG4gIERlbGV0ZTogJ0RFTEVURSdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBuZXcgSHR0cChjcmVhdGVDb25maWcoKSk7XG5cbmNvbnN0IHByaXZhdGVzID0gY3JlYXRlU3RvcmFnZSgpO1xuXG5jbGFzcyBIdHRwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlKSB7XG4gICAgc3VwZXIoYCR7cmVzcG9uc2Uuc3RhdHVzfSBmb3IgJHtyZXNwb25zZS51cmx9YCk7XG4gICAgdGhpcy5uYW1lID0gJ0h0dHBFcnJvcic7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICB9XG59XG5cbmNsYXNzIEh0dHAge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBwcml2YXRlcyh0aGlzKS5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBjYXRjaGVyKGVycm9ySWQsIGNhdGNoZXIpIHtcbiAgICBjb25zdCBjb25maWcgPSBjbG9uZShwcml2YXRlcyh0aGlzKS5jb25maWcpO1xuICAgIGNvbmZpZy5jYXRjaGVycy5zZXQoZXJyb3JJZCwgY2F0Y2hlcik7XG4gICAgcmV0dXJuIG5ldyBIdHRwKGNvbmZpZyk7XG4gIH1cblxuICBtaWRkbGV3YXJlKG1pZGRsZXdhcmUsIGNsZWFyID0gZmFsc2UpIHtcbiAgICBjb25zdCBjb25maWcgPSBjbG9uZShwcml2YXRlcyh0aGlzKS5jb25maWcpO1xuICAgIGNvbmZpZy5taWRkbGV3YXJlID0gY2xlYXIgPyBtaWRkbGV3YXJlIDogY29uZmlnLm1pZGRsZXdhcmUuY29uY2F0KG1pZGRsZXdhcmUpO1xuICAgIHJldHVybiBuZXcgSHR0cChjb25maWcpO1xuICB9XG5cbiAgdXJsKHVybCwgcmVwbGFjZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgY29uZmlnID0gY2xvbmUocHJpdmF0ZXModGhpcykuY29uZmlnKTtcbiAgICBjb25maWcudXJsID0gcmVwbGFjZSA/IHVybCA6IGNvbmZpZy51cmwgKyB1cmw7XG4gICAgcmV0dXJuIG5ldyBIdHRwKGNvbmZpZyk7XG4gIH1cblxuICBvcHRpb25zKG9wdGlvbnMsIG1peGluID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lKHByaXZhdGVzKHRoaXMpLmNvbmZpZyk7XG4gICAgY29uZmlnLm9wdGlvbnMgPSBtaXhpbiA/IG1lcmdlKGNvbmZpZy5vcHRpb25zLCBvcHRpb25zKSA6IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgSHR0cChjb25maWcpO1xuICB9XG5cbiAgaGVhZGVycyhoZWFkZXJWYWx1ZXMpIHtcbiAgICBjb25zdCBjb25maWcgPSBjbG9uZShwcml2YXRlcyh0aGlzKS5jb25maWcpO1xuICAgIGNvbmZpZy5vcHRpb25zLmhlYWRlcnMgPSBtZXJnZShjb25maWcub3B0aW9ucy5oZWFkZXJzLCBoZWFkZXJWYWx1ZXMpO1xuICAgIHJldHVybiBuZXcgSHR0cChjb25maWcpO1xuICB9XG5cbiAgYWNjZXB0KGhlYWRlclZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVycyh7IEFjY2VwdDogaGVhZGVyVmFsdWUgfSk7XG4gIH1cblxuICBjb250ZW50KGhlYWRlclZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVycyh7ICdDb250ZW50LVR5cGUnOiBoZWFkZXJWYWx1ZSB9KTtcbiAgfVxuXG4gIG1vZGUodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zKHsgbW9kZTogdmFsdWUgfSk7XG4gIH1cblxuICBjcmVkZW50aWFscyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBjcmVkZW50aWFsczogdmFsdWUgfSk7XG4gIH1cblxuICBjYWNoZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBjYWNoZTogdmFsdWUgfSk7XG4gIH1cblxuICBpbnRlZ3JpdHkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zKHsgaW50ZWdyaXR5OiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGtlZXBhbGl2ZSh2YWx1ZSA9IHRydWUpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zKHsga2VlcGFsaXZlOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIHJlZGlyZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucyh7IHJlZGlyZWN0OiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGJvZHkoY29udGVudHMpIHtcbiAgICBjb25zdCBjb25maWcgPSBjbG9uZShwcml2YXRlcyh0aGlzKS5jb25maWcpO1xuICAgIGNvbmZpZy5vcHRpb25zLmJvZHkgPSBjb250ZW50cztcbiAgICByZXR1cm4gbmV3IEh0dHAoY29uZmlnKTtcbiAgfVxuXG4gIGF1dGgoaGVhZGVyVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJzKHsgQXV0aG9yaXphdGlvbjogaGVhZGVyVmFsdWUgfSk7XG4gIH1cblxuICBqc29uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudCgnYXBwbGljYXRpb24vanNvbicpLmJvZHkoSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIGZvcm0odmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5ib2R5KGNvbnZlcnRGb3JtVXJsKHZhbHVlKSkuY29udGVudCgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gIH1cblxuICBtZXRob2QodmFsdWUgPSBIdHRwTWV0aG9kcy5HZXQpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zKHsgbWV0aG9kOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2QoSHR0cE1ldGhvZHMuR2V0KS5zZW5kKCk7XG4gIH1cblxuICBwb3N0KCkge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZChIdHRwTWV0aG9kcy5Qb3N0KS5zZW5kKCk7XG4gIH1cblxuICBpbnNlcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kKEh0dHBNZXRob2RzLlB1dCkuc2VuZCgpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZChIdHRwTWV0aG9kcy5QYXRjaCkuc2VuZCgpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZChIdHRwTWV0aG9kcy5EZWxldGUpLnNlbmQoKTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgeyB1cmwsIG9wdGlvbnMsIG1pZGRsZXdhcmUsIHJlc29sdmVycywgY2F0Y2hlcnMgfSA9IHByaXZhdGVzKHRoaXMpLmNvbmZpZztcbiAgICBjb25zdCByZXF1ZXN0ID0gYXBwbHlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpKGZldGNoKTtcbiAgICBjb25zdCB3cmFwcGVyID0gcmVxdWVzdCh1cmwsIG9wdGlvbnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IocmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZG9DYXRjaCA9IChwcm9taXNlKSA9PiB7XG4gICAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoY2F0Y2hlcnMuaGFzKGVyci5zdGF0dXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhdGNoZXJzLmdldChlcnIuc3RhdHVzKShlcnIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXRjaGVycy5oYXMoZXJyLm5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhdGNoZXJzLmdldChlcnIubmFtZSkoZXJyLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgd3JhcFR5cGVQYXJzZXIgPSAoZnVuTmFtZSkgPT4gKGNiKSA9PlxuICAgICAgZnVuTmFtZVxuICAgICAgICA/IGRvQ2F0Y2goXG4gICAgICAgICAgICB3cmFwcGVyXG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UgJiYgcmVzcG9uc2VbZnVuTmFtZV0oKSlcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKHJlc3BvbnNlICYmIGNiICYmIGNiKHJlc3BvbnNlKSkgfHwgcmVzcG9uc2UpXG4gICAgICAgICAgKVxuICAgICAgICA6IGRvQ2F0Y2god3JhcHBlci50aGVuKHJlc3BvbnNlID0+IChyZXNwb25zZSAmJiBjYiAmJiBjYihyZXNwb25zZSkpIHx8IHJlc3BvbnNlKSk7XG5cbiAgICBjb25zdCByZXNwb25zZUNoYWluID0ge1xuICAgICAgcmVzOiB3cmFwVHlwZVBhcnNlcihudWxsKSxcbiAgICAgIGpzb246IHdyYXBUeXBlUGFyc2VyKCdqc29uJylcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc29sdmVycy5yZWR1Y2UoKGNoYWluLCByKSA9PiByKGNoYWluLCBvcHRpb25zKSwgcmVzcG9uc2VDaGFpbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKG1pZGRsZXdhcmVzKSB7XG4gIHJldHVybiAoZmV0Y2hGdW5jdGlvbikgPT4ge1xuICAgIGlmIChtaWRkbGV3YXJlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmZXRjaEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGlmIChtaWRkbGV3YXJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBtaWRkbGV3YXJlc1swXShmZXRjaEZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKG1pZGRsZXdhcmVzLnJlZHVjZVJpZ2h0KFxuICAgICAgKGFjYywgY3VyciwgaWR4KSA9PiAoaWR4ID09PSBtaWRkbGV3YXJlcy5sZW5ndGggLSAyID8gY3VycihhY2MoZmV0Y2hGdW5jdGlvbikpIDogY3VycigoYWNjKSkpXG4gICAgKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZygpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAge30sXG4gICAge1xuICAgICAgdXJsOiAnJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgY2F0Y2hlcnM6IG5ldyBNYXAoKSxcbiAgICAgIHJlc29sdmVyczogW10sXG4gICAgICBtaWRkbGV3YXJlOiBbXVxuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZvcm1VcmwoZm9ybU9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZm9ybU9iamVjdClcbiAgICAubWFwKFxuICAgICAga2V5ID0+XG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICtcbiAgICAgICAgJz0nICtcbiAgICAgICAgYCR7ZW5jb2RlVVJJQ29tcG9uZW50KHR5cGVvZiBmb3JtT2JqZWN0W2tleV0gPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoZm9ybU9iamVjdFtrZXldKSA6IGZvcm1PYmplY3Rba2V5XSl9YFxuICAgIClcbiAgICAuam9pbignJicpO1xufVxuIiwiLyogICovXG5cblxuXG5jb25zdCBldmVudEh1YkZhY3RvcnkgPSAoKSA9PiB7XG4gIGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IE1hcCgpO1xuICBsZXQgc3Vic2NyaWJlckNvdW50ID0gMDtcblxuICAvLyRGbG93Rml4TWVcbiAgcmV0dXJuIHtcbiAgICBwdWJsaXNoOiBmdW5jdGlvbihldmVudCwgLi4uYXJncykge1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChzdWJzY3JpcHRpb25zID0+IHtcbiAgICAgICAgKHN1YnNjcmlwdGlvbnMuZ2V0KGV2ZW50KSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGNyZWF0ZVN1YnNjcmliZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGNvbnRleHQgPSBzdWJzY3JpYmVyQ291bnQrKztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9uOiBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZiAoIXN1YnNjcmliZXJzLmhhcyhjb250ZXh0KSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnMuc2V0KGNvbnRleHQsIG5ldyBNYXAoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBzdWJzY3JpYmVycy5nZXQoY29udGV4dCk7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0KGV2ZW50LCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXIuZ2V0KGV2ZW50KS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgb2ZmOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXJzLmdldChjb250ZXh0KS5kZWxldGUoZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRIdWJGYWN0b3J5O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBhcmdzLnVuc2hpZnQobWV0aG9kKTtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9O1xufTtcbiIsIi8qICAqL1xubGV0IGN1cnJIYW5kbGUgPSAwO1xubGV0IGxhc3RIYW5kbGUgPSAwO1xubGV0IGNhbGxiYWNrcyA9IFtdO1xubGV0IG5vZGVDb250ZW50ID0gMDtcbmxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xubmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4vKipcbiAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGF0ICB0aW1pbmcuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICovXG5leHBvcnQgY29uc3QgcnVuID0gKGNhbGxiYWNrKSA9PiB7XG4gIG5vZGUudGV4dENvbnRlbnQgPSBTdHJpbmcobm9kZUNvbnRlbnQrKyk7XG4gIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgcmV0dXJuIGN1cnJIYW5kbGUrKztcbn07XG5cbi8qKlxuICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYGAgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAqL1xuZXhwb3J0IGNvbnN0IGNhbmNlbCA9IChoYW5kbGUpID0+IHtcbiAgY29uc3QgaWR4ID0gaGFuZGxlIC0gbGFzdEhhbmRsZTtcbiAgaWYgKGlkeCA+PSAwKSB7XG4gICAgaWYgKCFjYWxsYmFja3NbaWR4XSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFzeW5jIGhhbmRsZTogJyArIGhhbmRsZSk7XG4gICAgfVxuICAgIGNhbGxiYWNrc1tpZHhdID0gbnVsbDtcbiAgfVxufTtcblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGNvbnN0IGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBsZXQgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxsYmFja3Muc3BsaWNlKDAsIGxlbik7XG4gIGxhc3RIYW5kbGUgKz0gbGVuO1xufVxuIiwiLyogICovXG5pbXBvcnQgY3JlYXRlU3RvcmFnZSBmcm9tICcuLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgYXJvdW5kIGZyb20gJy4uL2FkdmljZS9hcm91bmQuanMnO1xuaW1wb3J0ICogYXMgbWljcm9UYXNrIGZyb20gJy4uL2RvbS9taWNyb3Rhc2suanMnO1xuXG5jb25zdCBnbG9iYWwgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS90cmFjZXVyLWNvbXBpbGVyL2lzc3Vlcy8xNzA5XG5pZiAodHlwZW9mIGdsb2JhbC5IVE1MRWxlbWVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICBjb25zdCBfSFRNTEVsZW1lbnQgPSBmdW5jdGlvbiBIVE1MRWxlbWVudCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZXNcbiAgfTtcbiAgX0hUTUxFbGVtZW50LnByb3RvdHlwZSA9IGdsb2JhbC5IVE1MRWxlbWVudC5wcm90b3R5cGU7XG4gIGdsb2JhbC5IVE1MRWxlbWVudCA9IF9IVE1MRWxlbWVudDtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCAoYmFzZUNsYXNzKSA9PiB7XG4gIGNvbnN0IGN1c3RvbUVsZW1lbnRzVjFDYWxsYmFja3MgPSBbXG4gICAgJ2Nvbm5lY3RlZENhbGxiYWNrJyxcbiAgICAnZGlzY29ubmVjdGVkQ2FsbGJhY2snLFxuICAgICdhZG9wdGVkQ2FsbGJhY2snLFxuICAgICdhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2snXG4gIF07XG4gIGNvbnN0IHsgZGVmaW5lUHJvcGVydHksIGhhc093blByb3BlcnR5IH0gPSBPYmplY3Q7XG4gIGNvbnN0IHByaXZhdGVzID0gY3JlYXRlU3RvcmFnZSgpO1xuXG4gIGlmICghYmFzZUNsYXNzKSB7XG4gICAgYmFzZUNsYXNzID0gY2xhc3MgZXh0ZW5kcyBnbG9iYWwuSFRNTEVsZW1lbnQge307XG4gIH1cblxuICByZXR1cm4gY2xhc3MgQ3VzdG9tRWxlbWVudCBleHRlbmRzIGJhc2VDbGFzcyB7XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHt9XG5cbiAgICBzdGF0aWMgZGVmaW5lKHRhZ05hbWUpIHtcbiAgICAgIGNvbnN0IHJlZ2lzdHJ5ID0gY3VzdG9tRWxlbWVudHM7XG4gICAgICBpZiAoIXJlZ2lzdHJ5LmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgICBjdXN0b21FbGVtZW50c1YxQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrTWV0aG9kTmFtZSkgPT4ge1xuICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgY2FsbGJhY2tNZXRob2ROYW1lKSkge1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIGNhbGxiYWNrTWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgICB2YWx1ZSgpIHt9LFxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBuZXdDYWxsYmFja05hbWUgPSBjYWxsYmFja01ldGhvZE5hbWUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGNhbGxiYWNrTWV0aG9kTmFtZS5sZW5ndGggLSAnY2FsbGJhY2snLmxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBwcm90b1tjYWxsYmFja01ldGhvZE5hbWVdO1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBjYWxsYmFja01ldGhvZE5hbWUsIHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICAgIHRoaXNbbmV3Q2FsbGJhY2tOYW1lXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZmluYWxpemVDbGFzcygpO1xuICAgICAgICBhcm91bmQoY3JlYXRlQ29ubmVjdGVkQWR2aWNlKCksICdjb25uZWN0ZWQnKSh0aGlzKTtcbiAgICAgICAgYXJvdW5kKGNyZWF0ZURpc2Nvbm5lY3RlZEFkdmljZSgpLCAnZGlzY29ubmVjdGVkJykodGhpcyk7XG4gICAgICAgIGFyb3VuZChjcmVhdGVSZW5kZXJBZHZpY2UoKSwgJ3JlbmRlcicpKHRoaXMpO1xuICAgICAgICByZWdpc3RyeS5kZWZpbmUodGFnTmFtZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGluaXRpYWxpemVkKCkge1xuICAgICAgcmV0dXJuIHByaXZhdGVzKHRoaXMpLmluaXRpYWxpemVkID09PSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgdGhpcy5jb25zdHJ1Y3QoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3QoKSB7fVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkKGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge31cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbiAgICBjb25uZWN0ZWQoKSB7fVxuXG4gICAgZGlzY29ubmVjdGVkKCkge31cblxuICAgIGFkb3B0ZWQoKSB7fVxuXG4gICAgcmVuZGVyKCkge31cblxuICAgIF9vblJlbmRlcigpIHt9XG5cbiAgICBfcG9zdFJlbmRlcigpIHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGVkQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBwcml2YXRlcyhjb250ZXh0KS5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgaWYgKCFwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCkge1xuICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlbmRlckFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocmVuZGVyQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKCFwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RSZW5kZXIgPSBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyaW5nID0gdHJ1ZTtcbiAgICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmluZykge1xuICAgICAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb250ZXh0Ll9vblJlbmRlcihmaXJzdFJlbmRlcik7XG4gICAgICAgICAgICByZW5kZXJDYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGV4dC5fcG9zdFJlbmRlcihmaXJzdFJlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihkaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBwcml2YXRlcyhjb250ZXh0KS5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgICBpZiAoIXByaXZhdGVzKGNvbnRleHQpLmNvbm5lY3RlZCAmJiBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCkge1xuICAgICAgICAgIHByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgYmVoYXZpb3VyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gIVt0eXBlb2Ygd2luZG93LCB0eXBlb2YgZG9jdW1lbnRdLmluY2x1ZGVzKCd1bmRlZmluZWQnKTtcblxuZXhwb3J0IGNvbnN0IGJyb3dzZXIgPSAoZm4sIHJhaXNlID0gdHJ1ZSkgPT4gKC4uLmFyZ3MpID0+IHtcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgfVxuICBpZiAocmFpc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Zm4ubmFtZX0gZm9yIGJyb3dzZXIgdXNlIG9ubHlgKTtcbiAgfVxufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgYmVoYXZpb3VyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQsIG5vZGVUeXBlID0gTm9kZS5FTEVNRU5UX05PREUpID0+IHtcbiAgbGV0IGNoaWxkTm9kZXMgPSBlbGVtZW50LmNoaWxkTm9kZXM7XG4gIGxldCBjaGlsZHJlbiA9IFtdO1xuICBpZiAoY2hpbGROb2RlcyAmJiBjaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICBsZXQgaSA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmIChjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09PSBub2RlVHlwZSkge1xuICAgICAgICBjaGlsZHJlbi51bnNoaWZ0KGNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IGJlZm9yZSBmcm9tICcuLi9hZHZpY2UvYmVmb3JlLmpzJztcbmltcG9ydCBlbGVtZW50Q2hpbGRyZW4gZnJvbSAnLi4vZG9tL2VsZW1lbnQtY2hpbGRyZW4uanMnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChiYXNlQ2xhc3MpID0+IHtcbiAgcmV0dXJuIGNsYXNzIFNsb3RzIGV4dGVuZHMgYmFzZUNsYXNzIHtcblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYmVmb3JlKGNyZWF0ZUJlZm9yZVJlbmRlckFkdmljZSgpLCAnX29uUmVuZGVyJykodGhpcyk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0KCkge1xuICAgICAgc3VwZXIuY29uc3RydWN0KCk7XG4gICAgICB0aGlzLnNsb3RzID0geyBkZWZhdWx0OiBbXSB9O1xuICAgIH1cblxuICAgIHNsb3RzQXNzaWduZWQoKSB7fVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJlZm9yZVJlbmRlckFkdmljZSgpIHtcbiAgICBjb25zdCBoeXBlblJlZ0V4ID0gLy0oW2Etel0pL2c7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oZmlyc3RSZW5kZXIpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKGZpcnN0UmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudENoaWxkcmVuKGNvbnRleHQpO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGNoaWxkLmdldEF0dHJpYnV0ZSA/IGNoaWxkLmdldEF0dHJpYnV0ZSgnc2xvdCcpIDogbnVsbDtcbiAgICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgJiYgYXR0cmlidXRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBhdHRyaWJ1dGUucmVwbGFjZShoeXBlblJlZ0V4LCBtYXRjaCA9PiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2xvdHNbc2xvdF0gPSBjaGlsZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zbG90cy5kZWZhdWx0LnB1c2goY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRleHQuc2xvdHNBc3NpZ25lZCgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pO1xuIiwiLyogICovXG5cbmV4cG9ydCBkZWZhdWx0ICh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlID0gZmFsc2UpID0+IHtcbiAgcmV0dXJuIHBhcnNlKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xufTtcblxuZnVuY3Rpb24gYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICBpZiAodGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlID0gKCkgPT4ge307XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gZXZlbnQgZW1pdHRlcicpO1xufVxuXG5mdW5jdGlvbiBwYXJzZSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gIGlmICh0eXBlLmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgbGV0IGV2ZW50cyA9IHR5cGUuc3BsaXQoL1xccyosXFxzKi8pO1xuICAgIGxldCBoYW5kbGVzID0gZXZlbnRzLm1hcChmdW5jdGlvbih0eXBlKSB7XG4gICAgICByZXR1cm4gYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSAoKSA9PiB7fTtcbiAgICAgICAgbGV0IGhhbmRsZTtcbiAgICAgICAgd2hpbGUgKChoYW5kbGUgPSBoYW5kbGVzLnBvcCgpKSkge1xuICAgICAgICAgIGhhbmRsZS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xufVxuIiwiLyogICovXG5pbXBvcnQgYWZ0ZXIgZnJvbSAnLi4vYWR2aWNlL2FmdGVyLmpzJztcbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4uL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCBsaXN0ZW5FdmVudCwgeyB9IGZyb20gJy4uL2RvbS1ldmVudHMvbGlzdGVuLWV2ZW50LmpzJztcblxuXG5cbi8qKlxuICogTWl4aW4gYWRkcyBDdXN0b21FdmVudCBoYW5kbGluZyB0byBhbiBlbGVtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoYW5kbGVyczogW11cbiAgICB9O1xuICB9KTtcbiAgY29uc3QgZXZlbnREZWZhdWx0UGFyYW1zID0ge1xuICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgIGNhbmNlbGFibGU6IGZhbHNlXG4gIH07XG5cbiAgcmV0dXJuIGNsYXNzIEV2ZW50cyBleHRlbmRzIGJhc2VDbGFzcyB7XG5cbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHtcbiAgICAgIHN1cGVyLmZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGFmdGVyKGNyZWF0ZURpc2Nvbm5lY3RlZEFkdmljZSgpLCAnZGlzY29ubmVjdGVkJykodGhpcyk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGBvbiR7ZXZlbnQudHlwZX1gO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzW2hhbmRsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICB0aGlzW2hhbmRsZV0oZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gICAgICB0aGlzLm93bihsaXN0ZW5FdmVudCh0aGlzLCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkpO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKHR5cGUsIGRhdGEgPSB7fSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0eXBlLCBhc3NpZ24oZXZlbnREZWZhdWx0UGFyYW1zLCB7IGRldGFpbDogZGF0YSB9KSkpO1xuICAgIH1cblxuICAgIG9mZigpIHtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmhhbmRsZXJzLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgICAgaGFuZGxlci5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG93biguLi5oYW5kbGVycykge1xuICAgICAgaGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZURpc2Nvbm5lY3RlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGNvbnRleHQub2ZmKCk7XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qICAqL1xuaW1wb3J0IGJlZm9yZSBmcm9tICcuLi9hZHZpY2UvYmVmb3JlLmpzJztcbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4uL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCAqIGFzIG1pY3JvVGFzayBmcm9tICcuLi9kb20vbWljcm90YXNrLmpzJztcblxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCAoYmFzZUNsYXNzKSA9PiB7XG4gIGNvbnN0IHsgZGVmaW5lUHJvcGVydHksIGtleXMsIGFzc2lnbiB9ID0gT2JqZWN0O1xuICBjb25zdCBhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZXMgPSB7fTtcbiAgY29uc3QgcHJvcGVydHlOYW1lc1RvQXR0cmlidXRlcyA9IHt9O1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoKTtcblxuICBsZXQgcHJvcGVydGllc0NvbmZpZztcbiAgbGV0IGRhdGFIYXNBY2Nlc3NvciA9IHt9O1xuICBsZXQgZGF0YVByb3RvVmFsdWVzID0ge307XG5cbiAgZnVuY3Rpb24gZW5oYW5jZVByb3BlcnR5Q29uZmlnKGNvbmZpZykge1xuICAgIGNvbmZpZy5oYXNPYnNlcnZlciA9ICdvYnNlcnZlcicgaW4gY29uZmlnO1xuICAgIGNvbmZpZy5pc09ic2VydmVyU3RyaW5nID0gY29uZmlnLmhhc09ic2VydmVyICYmIHR5cGVvZiBjb25maWcub2JzZXJ2ZXIgPT09ICdzdHJpbmcnO1xuICAgIGNvbmZpZy5pc1N0cmluZyA9IGNvbmZpZy50eXBlID09PSBTdHJpbmc7XG4gICAgY29uZmlnLmlzTnVtYmVyID0gY29uZmlnLnR5cGUgPT09IE51bWJlcjtcbiAgICBjb25maWcuaXNCb29sZWFuID0gY29uZmlnLnR5cGUgPT09IEJvb2xlYW47XG4gICAgY29uZmlnLmlzT2JqZWN0ID0gY29uZmlnLnR5cGUgPT09IE9iamVjdDtcbiAgICBjb25maWcuaXNBcnJheSA9IGNvbmZpZy50eXBlID09PSBBcnJheTtcbiAgICBjb25maWcuaXNEYXRlID0gY29uZmlnLnR5cGUgPT09IERhdGU7XG4gICAgY29uZmlnLm5vdGlmeSA9ICdub3RpZnknIGluIGNvbmZpZztcbiAgICBjb25maWcucmVhZE9ubHkgPSAncmVhZE9ubHknIGluIGNvbmZpZyA/IGNvbmZpZy5yZWFkT25seSA6IGZhbHNlO1xuICAgIGNvbmZpZy5yZWZsZWN0VG9BdHRyaWJ1dGUgPVxuICAgICAgJ3JlZmxlY3RUb0F0dHJpYnV0ZScgaW4gY29uZmlnXG4gICAgICAgID8gY29uZmlnLnJlZmxlY3RUb0F0dHJpYnV0ZVxuICAgICAgICA6IGNvbmZpZy5pc1N0cmluZyB8fCBjb25maWcuaXNOdW1iZXIgfHwgY29uZmlnLmlzQm9vbGVhbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgIGZvciAobGV0IG5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgaWYgKCFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wZXJ0aWVzLCBuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tuYW1lXTtcbiAgICAgIG91dHB1dFtuYW1lXSA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJyA/IHsgdHlwZTogcHJvcGVydHkgfSA6IHByb3BlcnR5O1xuICAgICAgZW5oYW5jZVByb3BlcnR5Q29uZmlnKG91dHB1dFtuYW1lXSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb25uZWN0ZWRBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBpZiAoT2JqZWN0LmtleXMocHJpdmF0ZXMoY29udGV4dCkuaW5pdGlhbGl6ZVByb3BlcnRpZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXNzaWduKGNvbnRleHQsIHByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVQcm9wZXJ0aWVzKTtcbiAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkuaW5pdGlhbGl6ZVByb3BlcnRpZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVDaGFuZ2VBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGF0dHJpYnV0ZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgY29udGV4dC5fYXR0cmlidXRlVG9Qcm9wZXJ0eShhdHRyaWJ1dGUsIG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJvcGVydGllc0NoYW5nZWRBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykge1xuICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgT2JqZWN0LmtleXMoY2hhbmdlZFByb3BzKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbm90aWZ5LFxuICAgICAgICAgIGhhc09ic2VydmVyLFxuICAgICAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZSxcbiAgICAgICAgICBpc09ic2VydmVyU3RyaW5nLFxuICAgICAgICAgIG9ic2VydmVyXG4gICAgICAgIH0gPSBjb250ZXh0LmNvbnN0cnVjdG9yLmNsYXNzUHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgICAgIGlmIChyZWZsZWN0VG9BdHRyaWJ1dGUpIHtcbiAgICAgICAgICBjb250ZXh0Ll9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBjaGFuZ2VkUHJvcHNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT2JzZXJ2ZXIgJiYgaXNPYnNlcnZlclN0cmluZykge1xuICAgICAgICAgIHRoaXNbb2JzZXJ2ZXJdKGNoYW5nZWRQcm9wc1twcm9wZXJ0eV0sIG9sZFByb3BzW3Byb3BlcnR5XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzT2JzZXJ2ZXIgJiYgdHlwZW9mIG9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkoY29udGV4dCwgW2NoYW5nZWRQcm9wc1twcm9wZXJ0eV0sIG9sZFByb3BzW3Byb3BlcnR5XV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZnkpIHtcbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoYCR7cHJvcGVydHl9LWNoYW5nZWRgLCB7XG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBjaGFuZ2VkUHJvcHNbcHJvcGVydHldLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRQcm9wc1twcm9wZXJ0eV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNsYXNzIFByb3BlcnRpZXMgZXh0ZW5kcyBiYXNlQ2xhc3Mge1xuXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jbGFzc1Byb3BlcnRpZXMpLm1hcCgocHJvcGVydHkpID0+IHRoaXMucHJvcGVydHlOYW1lVG9BdHRyaWJ1dGUocHJvcGVydHkpKSB8fCBbXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHtcbiAgICAgIHN1cGVyLmZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGJlZm9yZShjcmVhdGVDb25uZWN0ZWRBZHZpY2UoKSwgJ2Nvbm5lY3RlZCcpKHRoaXMpO1xuICAgICAgYmVmb3JlKGNyZWF0ZUF0dHJpYnV0ZUNoYW5nZUFkdmljZSgpLCAnYXR0cmlidXRlQ2hhbmdlZCcpKHRoaXMpO1xuICAgICAgYmVmb3JlKGNyZWF0ZVByb3BlcnRpZXNDaGFuZ2VkQWR2aWNlKCksICdwcm9wZXJ0aWVzQ2hhbmdlZCcpKHRoaXMpO1xuICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZSkge1xuICAgICAgbGV0IHByb3BlcnR5ID0gYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWVzW2F0dHJpYnV0ZV07XG4gICAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgIC8vIENvbnZlcnQgYW5kIG1lbW9pemUuXG4gICAgICAgIGNvbnN0IGh5cGVuUmVnRXggPSAvLShbYS16XSkvZztcbiAgICAgICAgcHJvcGVydHkgPSBhdHRyaWJ1dGUucmVwbGFjZShoeXBlblJlZ0V4LCBtYXRjaCA9PiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWVzW2F0dHJpYnV0ZV0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJvcGVydHlOYW1lVG9BdHRyaWJ1dGUocHJvcGVydHkpIHtcbiAgICAgIGxldCBhdHRyaWJ1dGUgPSBwcm9wZXJ0eU5hbWVzVG9BdHRyaWJ1dGVzW3Byb3BlcnR5XTtcbiAgICAgIGlmICghYXR0cmlidXRlKSB7XG4gICAgICAgIC8vIENvbnZlcnQgYW5kIG1lbW9pemUuXG4gICAgICAgIGNvbnN0IHVwcGVyY2FzZVJlZ0V4ID0gLyhbQS1aXSkvZztcbiAgICAgICAgYXR0cmlidXRlID0gcHJvcGVydHkucmVwbGFjZSh1cHBlcmNhc2VSZWdFeCwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXNbcHJvcGVydHldID0gYXR0cmlidXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGNsYXNzUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghcHJvcGVydGllc0NvbmZpZykge1xuICAgICAgICBjb25zdCBnZXRQcm9wZXJ0aWVzQ29uZmlnID0gKCkgPT4gcHJvcGVydGllc0NvbmZpZyB8fCB7fTtcbiAgICAgICAgbGV0IGNoZWNrT2JqID0gbnVsbDtcbiAgICAgICAgbGV0IGxvb3AgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlIChsb29wKSB7XG4gICAgICAgICAgY2hlY2tPYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hlY2tPYmogPT09IG51bGwgPyB0aGlzIDogY2hlY2tPYmopO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFjaGVja09iaiB8fFxuICAgICAgICAgICAgIWNoZWNrT2JqLmNvbnN0cnVjdG9yIHx8XG4gICAgICAgICAgICBjaGVja09iai5jb25zdHJ1Y3RvciA9PT0gSFRNTEVsZW1lbnQgfHxcbiAgICAgICAgICAgIGNoZWNrT2JqLmNvbnN0cnVjdG9yID09PSBGdW5jdGlvbiB8fFxuICAgICAgICAgICAgY2hlY2tPYmouY29uc3RydWN0b3IgPT09IE9iamVjdCB8fFxuICAgICAgICAgICAgY2hlY2tPYmouY29uc3RydWN0b3IgPT09IGNoZWNrT2JqLmNvbnN0cnVjdG9yLmNvbnN0cnVjdG9yXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsb29wID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjaGVja09iaiwgJ3Byb3BlcnRpZXMnKSkge1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgcHJvcGVydGllc0NvbmZpZyA9IGFzc2lnbihcbiAgICAgICAgICAgICAgZ2V0UHJvcGVydGllc0NvbmZpZygpLCAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgIG5vcm1hbGl6ZVByb3BlcnRpZXMoY2hlY2tPYmoucHJvcGVydGllcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgcHJvcGVydGllc0NvbmZpZyA9IGFzc2lnbihcbiAgICAgICAgICAgIGdldFByb3BlcnRpZXNDb25maWcoKSwgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgbm9ybWFsaXplUHJvcGVydGllcyh0aGlzLnByb3BlcnRpZXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnRpZXNDb25maWc7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHRoaXMuY2xhc3NQcm9wZXJ0aWVzO1xuICAgICAga2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIHByb3BlcnR5KSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHNldHVwIHByb3BlcnR5ICcke3Byb3BlcnR5fScsIHByb3BlcnR5IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHByb3BlcnRpZXNbcHJvcGVydHldLnZhbHVlO1xuICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGF0YVByb3RvVmFsdWVzW3Byb3BlcnR5XSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdG8uX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHByb3BlcnRpZXNbcHJvcGVydHldLnJlYWRPbmx5KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgIHN1cGVyLmNvbnN0cnVjdCgpO1xuICAgICAgcHJpdmF0ZXModGhpcykuZGF0YSA9IHt9O1xuICAgICAgcHJpdmF0ZXModGhpcykuc2VyaWFsaXppbmcgPSBmYWxzZTtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmluaXRpYWxpemVQcm9wZXJ0aWVzID0ge307XG4gICAgICBwcml2YXRlcyh0aGlzKS5kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICBwcml2YXRlcyh0aGlzKS5kYXRhT2xkID0gbnVsbDtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFJbnZhbGlkID0gZmFsc2U7XG4gICAgICB0aGlzLl9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKCk7XG4gICAgICB0aGlzLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIHByb3BlcnRpZXNDaGFuZ2VkKFxuICAgICAgY3VycmVudFByb3BzLFxuICAgICAgY2hhbmdlZFByb3BzLFxuICAgICAgb2xkUHJvcHMgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICkge31cblxuICAgIF9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSkge1xuICAgICAgaWYgKCFkYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldKSB7XG4gICAgICAgIGRhdGFIYXNBY2Nlc3Nvcltwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wZXJ0eSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IHJlYWRPbmx5XG4gICAgICAgICAgICA/ICgpID0+IHt9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0UHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBwcml2YXRlcyh0aGlzKS5kYXRhW3Byb3BlcnR5XTtcbiAgICB9XG5cbiAgICBfc2V0UHJvcGVydHkocHJvcGVydHksIG5ld1ZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5faXNWYWxpZFByb3BlcnR5VmFsdWUocHJvcGVydHksIG5ld1ZhbHVlKSkge1xuICAgICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhgaW52YWxpZCB2YWx1ZSAke25ld1ZhbHVlfSBmb3IgcHJvcGVydHkgJHtwcm9wZXJ0eX0gb2Zcblx0XHRcdFx0XHR0eXBlICR7dGhpcy5jb25zdHJ1Y3Rvci5jbGFzc1Byb3BlcnRpZXNbcHJvcGVydHldLnR5cGUubmFtZX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcygpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGFQcm90b1ZhbHVlcykuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPVxuICAgICAgICAgIHR5cGVvZiBkYXRhUHJvdG9WYWx1ZXNbcHJvcGVydHldID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGRhdGFQcm90b1ZhbHVlc1twcm9wZXJ0eV0uY2FsbCh0aGlzKVxuICAgICAgICAgICAgOiBkYXRhUHJvdG9WYWx1ZXNbcHJvcGVydHldO1xuICAgICAgICB0aGlzLl9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgT2JqZWN0LmtleXMoZGF0YUhhc0FjY2Vzc29yKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgcHJpdmF0ZXModGhpcykuaW5pdGlhbGl6ZVByb3BlcnRpZXNbcHJvcGVydHldID0gdGhpc1twcm9wZXJ0eV07XG4gICAgICAgICAgZGVsZXRlIHRoaXNbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICBpZiAoIXByaXZhdGVzKHRoaXMpLnNlcmlhbGl6aW5nKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5jb25zdHJ1Y3Rvci5hdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZShhdHRyaWJ1dGUpO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUocHJvcGVydHksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaXNWYWxpZFByb3BlcnR5VmFsdWUocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eVR5cGUgPSB0aGlzLmNvbnN0cnVjdG9yLmNsYXNzUHJvcGVydGllc1twcm9wZXJ0eV0udHlwZTtcbiAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpc1ZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiBwcm9wZXJ0eVR5cGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc1ZhbGlkID0gYCR7dHlwZW9mIHZhbHVlfWAgPT09IHByb3BlcnR5VHlwZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG5cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIHByaXZhdGVzKHRoaXMpLnNlcmlhbGl6aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuY29uc3RydWN0b3IucHJvcGVydHlOYW1lVG9BdHRyaWJ1dGUocHJvcGVydHkpO1xuICAgICAgdmFsdWUgPSB0aGlzLl9zZXJpYWxpemVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBwcml2YXRlcyh0aGlzKS5zZXJpYWxpemluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9kZXNlcmlhbGl6ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgY29uc3QgeyBpc051bWJlciwgaXNBcnJheSwgaXNCb29sZWFuLCBpc0RhdGUsIGlzU3RyaW5nLCBpc09iamVjdCB9ID0gdGhpcy5jb25zdHJ1Y3Rvci5jbGFzc1Byb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgaWYgKGlzQm9vbGVhbikge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IDAgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0IHx8IGlzQXJyYXkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gKGlzQXJyYXkgPyBudWxsIDoge30pIDogSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGF0ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfc2VyaWFsaXplVmFsdWUocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eUNvbmZpZyA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgICAgIGNvbnN0IHsgaXNCb29sZWFuLCBpc09iamVjdCwgaXNBcnJheSB9ID0gcHJvcGVydHlDb25maWc7XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QgfHwgaXNBcnJheSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUudG9TdHJpbmcoKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgbGV0IG9sZCA9IHByaXZhdGVzKHRoaXMpLmRhdGFbcHJvcGVydHldO1xuICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLl9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICBpZiAoIXByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nKSB7XG4gICAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhT2xkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIG9sZCBpcyBjYXB0dXJlZCBmcm9tIHRoZSBsYXN0IHR1cm5cbiAgICAgICAgaWYgKHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgJiYgIShwcm9wZXJ0eSBpbiBwcml2YXRlcyh0aGlzKS5kYXRhT2xkKSkge1xuICAgICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGRbcHJvcGVydHldID0gb2xkO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuXG4gICAgX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCFwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCA9IHRydWU7XG4gICAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCkge1xuICAgICAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YUludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2ZsdXNoUHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gcHJpdmF0ZXModGhpcykuZGF0YTtcbiAgICAgIGNvbnN0IGNoYW5nZWRQcm9wcyA9IHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nO1xuICAgICAgY29uc3Qgb2xkID0gcHJpdmF0ZXModGhpcykuZGF0YU9sZDtcblxuICAgICAgaWYgKHRoaXMuX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKSkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXNDaGFuZ2VkKHByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UoXG4gICAgICBjdXJyZW50UHJvcHMsXG4gICAgICBjaGFuZ2VkUHJvcHMsXG4gICAgICBvbGRQcm9wcyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihjaGFuZ2VkUHJvcHMpO1xuICAgIH1cblxuICAgIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gU3RyaWN0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIG9sZCAhPT0gdmFsdWUgJiZcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICAgICAgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICk7XG4gICAgfVxuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKHRlbXBsYXRlKSA9PiB7XG4gIGlmICgnY29udGVudCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKSkge1xuICAgIHJldHVybiBkb2N1bWVudC5pbXBvcnROb2RlKHRlbXBsYXRlLmNvbnRlbnQsIHRydWUpO1xuICB9XG5cbiAgbGV0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICBsZXQgY2hpbGRyZW4gPSB0ZW1wbGF0ZS5jaGlsZE5vZGVzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY2hpbGRyZW5baV0uY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxuICByZXR1cm4gZnJhZ21lbnQ7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoZWxlbWVudCkgPT4ge1xuICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG59O1xuIiwiLyogICovXG5pbXBvcnQgY3JlYXRlU3RvcmFnZSBmcm9tICcuLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgYWZ0ZXIgZnJvbSAnLi4vYWR2aWNlL2FmdGVyLmpzJztcblxuXG5cbmV4cG9ydCBkZWZhdWx0IChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKCk7XG5cbiAgcmV0dXJuIGNsYXNzIFN0YXRlIGV4dGVuZHMgYmFzZUNsYXNzIHtcbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHtcbiAgICAgIHN1cGVyLmZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGFmdGVyKGNyZWF0ZUJlZm9yZVJlbmRlckFkdmljZSgpLCAnX29uUmVuZGVyJykodGhpcyk7XG4gICAgICBhZnRlcihjcmVhdGVBZnRlclJlbmRlckFkdmljZSgpLCAnX3Bvc3RSZW5kZXInKSh0aGlzKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3QoKSB7XG4gICAgICBzdXBlci5jb25zdHJ1Y3QoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIH1cblxuICAgIGdldCBkZWZhdWx0U3RhdGUoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIGFzc2lnbih7fSwgcHJpdmF0ZXModGhpcykuc3RhdGUpO1xuICAgIH1cblxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0U3RhdGUpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBuZXh0U3RhdGUpIHtcbiAgICAgICAgaWYgKG5leHRTdGF0ZVtrZXldICE9PSBwcml2YXRlcyh0aGlzKS5zdGF0ZVtrZXldKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShjaGFuZ2VzKSB7XG4gICAgICBjb25zdCBuZXh0U3RhdGUgPSBhc3NpZ24oe30sIHByaXZhdGVzKHRoaXMpLnN0YXRlLCBjaGFuZ2VzKTtcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwcml2YXRlcyh0aGlzKS5zdGF0ZTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPSBwcmV2aW91c1N0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFN0YXRlKTtcblxuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgcHJpdmF0ZXModGhpcykuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudFdpbGxSZW5kZXIobmV3U3RhdGUpIHt9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBjb21wb25lbnREaWRSZW5kZXIocHJldmlvdXNTdGF0ZSkge31cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudFdpbGxVcGRhdGUobmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpIHt9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNTdGF0ZSkge31cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVCZWZvcmVSZW5kZXJBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZpcnN0UmVuZGVyKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChmaXJzdFJlbmRlcikge1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudFdpbGxSZW5kZXIodGhpcy5zdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudFdpbGxVcGRhdGUodGhpcy5zdGF0ZSwgYXNzaWduKHt9LCBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJlZFN0YXRlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFmdGVyUmVuZGVyQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihmaXJzdFJlbmRlcikge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyZWRTdGF0ZTtcbiAgICAgIHByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmVkU3RhdGUgPSBwcml2YXRlcyhjb250ZXh0KS5zdGF0ZTtcbiAgICAgIGlmIChmaXJzdFJlbmRlcikge1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudERpZFJlbmRlcihwcmV2aW91c1N0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzU3RhdGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG4iLCIvKiAgKi9cbmltcG9ydCBjbGFzc0J1aWxkZXIgZnJvbSAnLi4vY2xhc3MtYnVpbGRlci5qcyc7XG5pbXBvcnQgY3VzdG9tRWxlbWVudCwgeyB9IGZyb20gJy4vY3VzdG9tLWVsZW1lbnQuanMnO1xuaW1wb3J0IHByb3BlcnRpZXMsIHsgfSBmcm9tICcuL2N1c3RvbS1lbGVtZW50LXByb3BlcnRpZXMuanMnO1xuaW1wb3J0IGV2ZW50cywgeyB9IGZyb20gJy4vY3VzdG9tLWVsZW1lbnQtZXZlbnRzLmpzJztcblxuXG5leHBvcnQgZGVmYXVsdCAoYmFzZUNsYXNzID0gY3VzdG9tRWxlbWVudCgpKSA9PiB7XG4gIHJldHVybiBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBjbGFzc0J1aWxkZXIoYmFzZUNsYXNzKS53aXRoKGV2ZW50cywgcHJvcGVydGllcykge1xuICAgIHByb3BlcnRpZXNDaGFuZ2VkKFxuICAgICAgY3VycmVudFByb3BzLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICBjaGFuZ2VkUHJvcHMsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIG9sZFByb3BzIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKHBhc3NUaHJvdWdoKSA9PiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiByZXNvbHZlKHBhc3NUaHJvdWdoKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhc3NUaHJvdWdoKTtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCB0ZW1wbGF0ZUNvbnRlbnQgZnJvbSAnLi90ZW1wbGF0ZS1jb250ZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKGh0bWwpID0+IHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sLnRyaW0oKTtcbiAgY29uc3QgZnJhZyA9IHRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZSk7XG4gIGlmIChmcmFnICYmIGZyYWcuZmlyc3RDaGlsZCkge1xuICAgIHJldHVybiBmcmFnLmZpcnN0Q2hpbGQ7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlRWxlbWVudCBmb3IgJHtodG1sfWApO1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG5vZGUpID0+IHtcbiAgbGV0IHNpYmxpbmdzID0gW107XG4gIGlmIChub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBsZXQgc2libGluZyA9IG5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIGlmIChzaWJsaW5nLm5vZGVUeXBlID09PSAxICYmIHNpYmxpbmcgIT09IG5vZGUpIHtcbiAgICAgICAgc2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChzaWJsaW5nLm5leHRTaWJsaW5nICYmIHNpYmxpbmcubmV4dFNpYmxpbmcgIT09IG51bGwgJiYgKHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nKSk7XG4gIH1cblxuICByZXR1cm4gc2libGluZ3M7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoY2hpbGQsIHBhcmVudCkgPT4ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB3aGlsZSAoY2hpbGQucGFyZW50Tm9kZSAmJiAoY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlKSAmJiBjaGlsZCAhPT0gcGFyZW50KSB7fVxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICByZXR1cm4gQm9vbGVhbihjaGlsZCk7XG59O1xuIiwiLyogICovXG5pbXBvcnQgaXMgZnJvbSAnLi4vdHlwZS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIGxpc3RlbkV2ZW50IH0gZnJvbSAnLi4vZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQuanMnO1xuaW1wb3J0IHJlbW92ZUVsZW1lbnQgZnJvbSAnLi9yZW1vdmUtZWxlbWVudC5qcyc7XG5cblxuXG5leHBvcnQgZGVmYXVsdCAoZG9tRW50cnlQb2ludCkgPT4ge1xuICBjb25zdCBsYXN0RG9tRW50cnlQb2ludCA9IGRvbUVudHJ5UG9pbnQuY2xvbmVOb2RlKHRydWUpO1xuICBsZXQgcm91dGVzID0ge307XG4gIGxldCBoYXNoRXZlbnRIYW5kbGVyID0gbnVsbDtcbiAgbGV0IGxhc3RSb3V0ZUhhbmRsZXIgPSBudWxsO1xuXG4gIGNvbnN0IG5hdmlnYXRlID0gKGhhc2hVcmwgPSAnJykgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaFVybDtcbiAgfTtcblxuICBjb25zdCByZWxvYWQgPSAoKSA9PiBoYW5kbGVSb3V0aW5nKCk7XG5cbiAgY29uc3Qgb3RoZXJ3aXNlID0gKHJvdXRlSGFuZGxlcikgPT4ge1xuICAgIHJvdXRlc1snKiddID0gcm91dGVIYW5kbGVyO1xuICB9O1xuXG4gIGNvbnN0IGFkZFJvdXRlID0gKGhhc2hVcmwsIHJvdXRlSGFuZGxlciwgZGF0YSkgPT4ge1xuICAgIHJvdXRlc1toYXNoVXJsXSA9IHJvdXRlSGFuZGxlcjtcbiAgICByb3V0ZXNbaGFzaFVybF0uZGF0YSA9IGRhdGE7XG4gICAgcmV0dXJuIHsgc3RhcnQsIHJlbG9hZCwgYWRkUm91dGUsIG90aGVyd2lzZSwgbmF2aWdhdGUgfTtcbiAgfTtcblxuICBjb25zdCBpbml0aWFsaXplRG9tRWxlbWVudCA9ICgpID0+IHtcbiAgICBpZiAoIWRvbUVudHJ5UG9pbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRvbUNsb25lID0gbGFzdERvbUVudHJ5UG9pbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGlmIChkb21FbnRyeVBvaW50ICYmIGRvbUVudHJ5UG9pbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgZG9tRW50cnlQb2ludC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShkb21DbG9uZSwgZG9tRW50cnlQb2ludCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRWxlbWVudChkb21FbnRyeVBvaW50KTtcbiAgICBkb21FbnRyeVBvaW50ID0gZG9tQ2xvbmU7XG4gIH07XG5cbiAgY29uc3QgZGlzcG9zZUxhc3RSb3V0ZSA9ICgpID0+IHtcbiAgICBpZiAobGFzdFJvdXRlSGFuZGxlciAmJiAhaXMudW5kZWZpbmVkKGxhc3RSb3V0ZUhhbmRsZXIuZGlzcG9zZSkpIHtcbiAgICAgIGxhc3RSb3V0ZUhhbmRsZXIuZGlzcG9zZShkb21FbnRyeVBvaW50KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUm91dGluZyA9ICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0Um91dGVJZGVudGlmaWVyID0gJyonO1xuICAgIGNvbnN0IGN1cnJlbnRIYXNoID0gbG9jYXRpb24uaGFzaC5zbGljZSgxKTtcblxuICAgIGNvbnN0IG1heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIgPSBmaW5kTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIoY3VycmVudEhhc2gsIE9iamVjdC5rZXlzKHJvdXRlcykpO1xuICAgIGxldCByb3V0ZVBhcmFtcyA9IHt9O1xuICAgIGlmIChtYXliZU1hdGNoaW5nUm91dGVJZGVudGlmaWVyKSB7XG4gICAgICByb3V0ZVBhcmFtcyA9IGV4dHJhY3RSb3V0ZVBhcmFtcyhtYXliZU1hdGNoaW5nUm91dGVJZGVudGlmaWVyLCBjdXJyZW50SGFzaCk7XG4gICAgfVxuXG4gICAgY29uc3Qgcm91dGVIYW5kbGVyID1cbiAgICAgIE9iamVjdC5rZXlzKHJvdXRlcykuaW5kZXhPZihtYXliZU1hdGNoaW5nUm91dGVJZGVudGlmaWVyKSA+IC0xXG4gICAgICAgID8gcm91dGVzW21heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXJdXG4gICAgICAgIDogcm91dGVzW2RlZmF1bHRSb3V0ZUlkZW50aWZpZXJdO1xuXG4gICAgaWYgKHJvdXRlSGFuZGxlcikge1xuICAgICAgZGlzcG9zZUxhc3RSb3V0ZSgpO1xuICAgICAgbGFzdFJvdXRlSGFuZGxlciA9IHJvdXRlSGFuZGxlcjtcbiAgICAgIGluaXRpYWxpemVEb21FbGVtZW50KCk7XG4gICAgICByb3V0ZUhhbmRsZXIoZG9tRW50cnlQb2ludCwgcm91dGVQYXJhbXMsIHJvdXRlSGFuZGxlci5kYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gICAgaGFzaEV2ZW50SGFuZGxlciA9IGxpc3RlbkV2ZW50KHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBoYW5kbGVSb3V0aW5nKTtcbiAgfTtcblxuICBpZiAoaGFzaEV2ZW50SGFuZGxlcikge1xuICAgIGhhc2hFdmVudEhhbmRsZXIucmVtb3ZlKCk7XG4gIH1cblxuICByZXR1cm4geyBzdGFydCwgYWRkUm91dGUsIG90aGVyd2lzZSwgbmF2aWdhdGUsIHJlbG9hZCB9O1xufTtcblxuZnVuY3Rpb24gcGFyc2VSb3V0ZVBhcmFtVG9Db3JyZWN0VHlwZShwYXJhbVZhbHVlKSB7XG4gIGlmICghaXNOYU4ocGFyYW1WYWx1ZSkpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQocGFyYW1WYWx1ZSwgMTApO1xuICB9XG4gIGlmIChwYXJhbVZhbHVlID09PSAndHJ1ZScgfHwgcGFyYW1WYWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHBhcmFtVmFsdWUpO1xuICB9XG4gIHJldHVybiBwYXJhbVZhbHVlO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0Um91dGVQYXJhbXMocm91dGVJZGVudGlmaWVyLCBjdXJyZW50SGFzaCkge1xuICBjb25zdCBzcGxpdHRlZEhhc2ggPSBjdXJyZW50SGFzaC5zcGxpdCgnLycpO1xuICBjb25zdCBzcGxpdHRlZFJvdXRlSWRlbnRpZmllciA9IHJvdXRlSWRlbnRpZmllci5zcGxpdCgnLycpO1xuXG4gIHJldHVybiBzcGxpdHRlZFJvdXRlSWRlbnRpZmllclxuICAgIC5tYXAoKHJvdXRlSWRlbnRpZmllclRva2VuLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHJvdXRlSWRlbnRpZmllclRva2VuLmluZGV4T2YoJzonLCAwKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCByb3V0ZVBhcmFtID0ge307XG4gICAgICBjb25zdCBrZXkgPSByb3V0ZUlkZW50aWZpZXJUb2tlbi5zdWJzdHIoMSwgcm91dGVJZGVudGlmaWVyVG9rZW4ubGVuZ3RoIC0gMSk7XG4gICAgICByb3V0ZVBhcmFtW2tleV0gPSBzcGxpdHRlZEhhc2hbaW5kZXhdO1xuICAgICAgcmV0dXJuIHJvdXRlUGFyYW07XG4gICAgfSlcbiAgICAuZmlsdGVyKHAgPT4gcCAhPT0gbnVsbClcbiAgICAucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgIGlmIChjdXJyKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGN1cnIpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgYWNjW2tleV0gPSBwYXJzZVJvdXRlUGFyYW1Ub0NvcnJlY3RUeXBlKGN1cnJba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGZpbmRNYXRjaGluZ1JvdXRlSWRlbnRpZmllcihjdXJyZW50SGFzaCwgcm91dGVLZXlzKSB7XG4gIGNvbnN0IHNwbGl0dGVkSGFzaCA9IGN1cnJlbnRIYXNoLnNwbGl0KCcvJyk7XG4gIGNvbnN0IGZpcnN0SGFzaFRva2VuID0gc3BsaXR0ZWRIYXNoWzBdO1xuXG4gIHJldHVybiByb3V0ZUtleXMuZmlsdGVyKHJvdXRlS2V5ID0+IHtcbiAgICBjb25zdCBzcGxpdHRlZFJvdXRlS2V5ID0gcm91dGVLZXkuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBzdGF0aWNSb3V0ZVRva2Vuc0FyZUVxdWFsID1cbiAgICAgIHNwbGl0dGVkUm91dGVLZXlcbiAgICAgICAgLm1hcCgocm91dGVUb2tlbiwgaSkgPT4ge1xuICAgICAgICAgIGlmIChyb3V0ZVRva2VuLmluZGV4T2YoJzonLCAwKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVUb2tlbiA9PT0gc3BsaXR0ZWRIYXNoW2ldO1xuICAgICAgICB9KVxuICAgICAgICAucmVkdWNlKChjb3VudEludmFsaWQsIGN1cnJlbnRWYWxpZGF0aW9uU3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoY3VycmVudFZhbGlkYXRpb25TdGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICsrY291bnRJbnZhbGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY291bnRJbnZhbGlkO1xuICAgICAgICB9LCAwKSA9PT0gMDtcblxuICAgIHJldHVybiAoXG4gICAgICByb3V0ZUtleS5pbmRleE9mKGZpcnN0SGFzaFRva2VuLCAwKSAhPT0gLTEgJiZcbiAgICAgIHN0YXRpY1JvdXRlVG9rZW5zQXJlRXF1YWwgJiZcbiAgICAgIHNwbGl0dGVkSGFzaC5sZW5ndGggPT09IHNwbGl0dGVkUm91dGVLZXkubGVuZ3RoXG4gICAgKTtcbiAgfSlbMF07XG59XG4iLCIvKiAgKi9cbmltcG9ydCBsaXN0ZW5FdmVudCwgeyB9IGZyb20gJy4vbGlzdGVuLWV2ZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUgPSBmYWxzZSkgPT4ge1xuICBsZXQgaGFuZGxlID0gbGlzdGVuRXZlbnQoXG4gICAgdGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGhhbmRsZS5yZW1vdmUoKTtcbiAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgY2FwdHVyZVxuICApO1xuICByZXR1cm4gaGFuZGxlO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IGxpc3RlbkV2ZW50LCB7IH0gZnJvbSAnLi9saXN0ZW4tZXZlbnQuanMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IChcbiAgdGFyZ2V0LFxuICB0eXBlLFxuICBsaXN0ZW5lcixcbiAgY2FwdHVyZSA9IGZhbHNlXG4pID0+IHtcbiAgbGV0IHBhdXNlZCA9IGZhbHNlO1xuICBsZXQgaGFuZGxlID0gbGlzdGVuRXZlbnQoXG4gICAgdGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGlmICghcGF1c2VkKSB7XG4gICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FwdHVyZVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlKCkge1xuICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgIH0sXG4gICAgcGF1c2UoKSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lKCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBiZWhhdmlvdXIuY2FsbCh0aGlzLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAob2JqLCBrZXksIGRlZmF1bHRWYWx1ZSA9IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoa2V5LmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9ialtrZXldICE9PSAndW5kZWZpbmVkJyA/IG9ialtrZXldIDogZGVmYXVsdFZhbHVlO1xuICB9XG4gIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KCcuJyk7XG4gIGNvbnN0IGxlbmd0aCA9IHBhcnRzLmxlbmd0aDtcbiAgbGV0IG9iamVjdCA9IG9iajtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3BhcnRzW2ldXTtcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iamVjdCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKGtleS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgZGVwdGggPSBwYXJ0cy5sZW5ndGggLSAxO1xuICBsZXQgb2JqZWN0ID0gb2JqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwdGg7IGkrKykge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0W3BhcnRzW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iamVjdFtwYXJ0c1tpXV0gPSB7fTtcbiAgICB9XG4gICAgb2JqZWN0ID0gb2JqZWN0W3BhcnRzW2ldXTtcbiAgfVxuICBvYmplY3RbcGFydHNbZGVwdGhdXSA9IHZhbHVlO1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCByZXZpdmVyID0gKGssIHYpID0+IHYpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpLCByZXZpdmVyKTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG8pID0+XG4gIE9iamVjdC5rZXlzKG8pLnJlZHVjZSgobSwgaykgPT4gbS5zZXQoaywgb1trXSksIG5ldyBNYXAoKSk7XG4iXSwibmFtZXMiOlsicHJldlRpbWVJZCIsInByZXZVbmlxdWVJZCIsInByZWZpeCIsIm5ld1VuaXF1ZUlkIiwiRGF0ZSIsIm5vdyIsInVuaXF1ZUlkIiwiU3RyaW5nIiwiZnJlZXplIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsImhhc093blByb3BlcnR5Iiwid3JhcHBlZE1peGluS2V5IiwiYXBwbGllZE1peGluS2V5IiwiY2FjaGVkQXBwbGljYXRpb25LZXkiLCJjcmVhdGVNaXhpbiIsIm1peGluIiwid3JhcCIsInN1cGVyQ2xhc3MiLCJvIiwiaXNBcHBsaWNhdGlvbk9mIiwiaGFzTWl4aW4iLCJwcm90b3R5cGUiLCJkZWR1cGVNaXhpbiIsImNhY2hlZEFwcGxpY2F0aW9uIiwiTWFwIiwiYXBwbGljYXRpb24iLCJnZXQiLCJzZXQiLCJjYWNoZU1peGluIiwidW53cmFwIiwiYXBwbHlNaXhpbiIsImRlY2xhcmVNaXhpbiIsIkN0b3IiLCJtaXhpbnMiLCJtYXAiLCJyZWR1Y2UiLCJrIiwibSIsIndyYXBwZXIiLCJwcm90byIsImNhbGwiLCJjcmVhdG9yIiwiY3JlYXRlIiwiYmluZCIsInN0b3JlIiwiV2Vha01hcCIsIm9iaiIsInZhbHVlIiwiYXJyIiwiZm4iLCJCb29sZWFuIiwic29tZSIsImV2ZXJ5IiwiZG9BbGxBcGkiLCJwYXJhbXMiLCJhbGwiLCJkb0FueUFwaSIsImFueSIsInRvU3RyaW5nIiwidHlwZXMiLCJsZW4iLCJsZW5ndGgiLCJ0eXBlQ2FjaGUiLCJ0eXBlUmVnZXhwIiwiY2hlY2tzIiwiaSIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImdldFNyY1R5cGUiLCJzcmMiLCJzZXR1cCIsImdldFR5cGUiLCJtYXRjaGVzIiwibWF0Y2giLCJBcnJheSIsImlzQXJyYXkiLCJjbG9uZSIsImNpcmN1bGFycyIsImNsb25lcyIsImlzIiwidW5kZWZpbmVkIiwibnVsbCIsImJvb2xlYW4iLCJudW1iZXIiLCJzdHJpbmciLCJpc1ByaW1pdGl2ZSIsImZ1bmN0aW9uIiwiY29udGV4dCIsImhhbmRsZXJzIiwidGhpcyIsImdldFRpbWUiLCJSZWdFeHAiLCJmcm9tIiwiZW50cmllcyIsIlNldCIsInZhbHVlcyIsImhlYWRlcnMiLCJIZWFkZXJzIiwibmFtZSIsImFwcGVuZCIsIkJsb2IiLCJwdXNoIiwia2V5IiwiaWR4IiwiZmluZEluZGV4IiwiX3RoaXMiLCJhcmdzIiwiYXBwbHkiLCJjbG9uZXIiLCJhcnJheVJlcGxhY2VTdHJhdGVneSIsInNvdXJjZSIsInRhcmdldCIsIm9wdHMiLCJhcnJheU1lcmdlIiwicmVzdWx0IiwibWVyZ2UiLCJwb3AiLCJmYWN0b3J5Iiwia2V5cyIsImNvbmNhdCIsImZvckVhY2giLCJtZXJnZXIiLCJIdHRwTWV0aG9kcyIsInByaXZhdGVzIiwiY3JlYXRlU3RvcmFnZSIsIkh0dHBFcnJvciIsInJlc3BvbnNlIiwiX0Vycm9yIiwic3RhdHVzIiwidXJsIiwiRXJyb3IiLCJIdHRwIiwiY29uZmlnIiwiY2F0Y2hlciIsImVycm9ySWQiLCJjYXRjaGVycyIsIm1pZGRsZXdhcmUiLCJjbGVhciIsInJlcGxhY2UiLCJvcHRpb25zIiwiYXNzaWduIiwiaGVhZGVyVmFsdWVzIiwiYWNjZXB0IiwiaGVhZGVyVmFsdWUiLCJBY2NlcHQiLCJjb250ZW50IiwiQ29udGVudC1UeXBlIiwibW9kZSIsImNyZWRlbnRpYWxzIiwiY2FjaGUiLCJpbnRlZ3JpdHkiLCJrZWVwYWxpdmUiLCJyZWRpcmVjdCIsImJvZHkiLCJjb250ZW50cyIsImF1dGgiLCJBdXRob3JpemF0aW9uIiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJmb3JtIiwiZm9ybU9iamVjdCIsImVuY29kZVVSSUNvbXBvbmVudCIsImJhYmVsSGVscGVycy50eXBlb2YiLCJqb2luIiwibWV0aG9kIiwiR2V0Iiwic2VuZCIsInBvc3QiLCJQb3N0IiwiaW5zZXJ0IiwiUHV0IiwidXBkYXRlIiwiUGF0Y2giLCJkZWxldGUiLCJEZWxldGUiLCJtaWRkbGV3YXJlcyIsInJlc29sdmVycyIsImZldGNoRnVuY3Rpb24iLCJyZWR1Y2VSaWdodCIsImFjYyIsImN1cnIiLCJmZXRjaCIsInJlcXVlc3QiLCJ0aGVuIiwib2siLCJkb0NhdGNoIiwicHJvbWlzZSIsImNhdGNoIiwiaGFzIiwiZXJyIiwiX3RoaXMyIiwid3JhcFR5cGVQYXJzZXIiLCJmdW5OYW1lIiwiY2IiLCJyZXNwb25zZUNoYWluIiwiY2hhaW4iLCJyIiwiYmVoYXZpb3VyIiwibWV0aG9kTmFtZXMiLCJrbGFzcyIsImRlZmluZVByb3BlcnR5IiwibWV0aG9kTmFtZSIsInVuc2hpZnQiLCJjdXJySGFuZGxlIiwibGFzdEhhbmRsZSIsImNhbGxiYWNrcyIsIm5vZGVDb250ZW50Iiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJNdXRhdGlvbk9ic2VydmVyIiwic3BsaWNlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJydW4iLCJjYWxsYmFjayIsInRleHRDb250ZW50IiwiaGFuZGxlIiwiZ2xvYmFsIiwiZGVmYXVsdFZpZXciLCJIVE1MRWxlbWVudCIsIl9IVE1MRWxlbWVudCIsImJhc2VDbGFzcyIsImN1c3RvbUVsZW1lbnRzVjFDYWxsYmFja3MiLCJfYmFzZUNsYXNzIiwiY29uc3RydWN0IiwiZmluYWxpemVDbGFzcyIsImRlZmluZSIsInRhZ05hbWUiLCJyZWdpc3RyeSIsImN1c3RvbUVsZW1lbnRzIiwiY2FsbGJhY2tNZXRob2ROYW1lIiwibmV3Q2FsbGJhY2tOYW1lIiwic3Vic3RyaW5nIiwib3JpZ2luYWxNZXRob2QiLCJjb25uZWN0ZWRDYWxsYmFjayIsImNvbm5lY3RlZCIsImluaXRpYWxpemVkIiwicmVuZGVyIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW5kZXJDYWxsYmFjayIsInJlbmRlcmluZyIsImZpcnN0UmVuZGVyIiwiX29uUmVuZGVyIiwiX3Bvc3RSZW5kZXIiLCJhdHRyaWJ1dGVDaGFuZ2VkIiwiYXR0cmlidXRlTmFtZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJkaXNjb25uZWN0ZWQiLCJhZG9wdGVkIiwicmV0dXJuVmFsdWUiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJpbmNsdWRlcyIsImVsZW1lbnQiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJjaGlsZE5vZGVzIiwiY2hpbGRyZW4iLCJyYWlzZSIsImJyb3dzZXIiLCJoeXBlblJlZ0V4IiwiZWxlbWVudENoaWxkcmVuIiwiY2hpbGQiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJzbG90IiwidG9VcHBlckNhc2UiLCJzbG90cyIsImRlZmF1bHQiLCJzbG90c0Fzc2lnbmVkIiwibGlzdGVuZXIiLCJjYXB0dXJlIiwiaW5kZXhPZiIsImV2ZW50cyIsInNwbGl0IiwiaGFuZGxlcyIsImFkZExpc3RlbmVyIiwicmVtb3ZlIiwicGFyc2UiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50RGVmYXVsdFBhcmFtcyIsIm9mZiIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJvbiIsIm93biIsImxpc3RlbkV2ZW50IiwiZGlzcGF0Y2giLCJkYXRhIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiaGFuZGxlciIsImF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lcyIsInByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXMiLCJwcm9wZXJ0aWVzQ29uZmlnIiwiZGF0YUhhc0FjY2Vzc29yIiwiZGF0YVByb3RvVmFsdWVzIiwibm9ybWFsaXplUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJvdXRwdXQiLCJwcm9wZXJ0eSIsImhhc09ic2VydmVyIiwiaXNPYnNlcnZlclN0cmluZyIsIm9ic2VydmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsIk51bWJlciIsImlzQm9vbGVhbiIsImlzT2JqZWN0IiwiaXNEYXRlIiwibm90aWZ5IiwicmVhZE9ubHkiLCJyZWZsZWN0VG9BdHRyaWJ1dGUiLCJpbml0aWFsaXplUHJvcGVydGllcyIsIl9mbHVzaFByb3BlcnRpZXMiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN1cnJlbnRQcm9wcyIsImNoYW5nZWRQcm9wcyIsIm9sZFByb3BzIiwiY29uc3RydWN0b3IiLCJjbGFzc1Byb3BlcnRpZXMiLCJfcHJvcGVydHlUb0F0dHJpYnV0ZSIsImNyZWF0ZVByb3BlcnRpZXMiLCJhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZSIsInByb3BlcnR5TmFtZVRvQXR0cmlidXRlIiwicHJvcGVydHlWYWx1ZSIsIl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yIiwic2VyaWFsaXppbmciLCJkYXRhUGVuZGluZyIsImRhdGFPbGQiLCJkYXRhSW52YWxpZCIsIl9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzIiwiX2luaXRpYWxpemVQcm9wZXJ0aWVzIiwicHJvcGVydGllc0NoYW5nZWQiLCJfZ2V0UHJvcGVydHkiLCJfc2V0UHJvcGVydHkiLCJfaXNWYWxpZFByb3BlcnR5VmFsdWUiLCJfc2V0UGVuZGluZ1Byb3BlcnR5IiwiX2ludmFsaWRhdGVQcm9wZXJ0aWVzIiwibG9nIiwiX3RoaXMzIiwiX3RoaXM0IiwiX2Rlc2VyaWFsaXplVmFsdWUiLCJwcm9wZXJ0eVR5cGUiLCJfc2VyaWFsaXplVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJwcm9wZXJ0eUNvbmZpZyIsIm9sZCIsImNoYW5nZWQiLCJfc2hvdWxkUHJvcGVydHlDaGFuZ2UiLCJfdGhpczUiLCJwcm9wcyIsIl9zaG91bGRQcm9wZXJ0aWVzQ2hhbmdlIiwiX3RoaXM2IiwiZ2V0UHJvcGVydGllc0NvbmZpZyIsImNoZWNrT2JqIiwibG9vcCIsIkZ1bmN0aW9uIiwidGVtcGxhdGUiLCJjcmVhdGVFbGVtZW50IiwiaW1wb3J0Tm9kZSIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwic3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVyQ291bnQiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaWJlciIsImNvbXBvbmVudFdpbGxSZW5kZXIiLCJzdGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJyZW5kZXJlZFN0YXRlIiwicHJldmlvdXNTdGF0ZSIsImNvbXBvbmVudERpZFJlbmRlciIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFN0YXRlIiwiZGVmYXVsdFN0YXRlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwibmV4dFN0YXRlIiwiY2hhbmdlcyIsIm5ld1N0YXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzQnVpbGRlciIsIndpdGgiLCJwYXNzVGhyb3VnaCIsInJlYWR5U3RhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJ0cmltIiwiZnJhZyIsInRlbXBsYXRlQ29udGVudCIsImZpcnN0Q2hpbGQiLCJzaWJsaW5ncyIsInBhcmVudE5vZGUiLCJzaWJsaW5nIiwibmV4dFNpYmxpbmciLCJwYXJlbnQiLCJkb21FbnRyeVBvaW50IiwibGFzdERvbUVudHJ5UG9pbnQiLCJyb3V0ZXMiLCJoYXNoRXZlbnRIYW5kbGVyIiwibGFzdFJvdXRlSGFuZGxlciIsIm5hdmlnYXRlIiwiaGFzaFVybCIsImxvY2F0aW9uIiwiaGFzaCIsInJlbG9hZCIsImhhbmRsZVJvdXRpbmciLCJvdGhlcndpc2UiLCJyb3V0ZUhhbmRsZXIiLCJjdXJyZW50SGFzaCIsInNsaWNlIiwibWF5YmVNYXRjaGluZ1JvdXRlSWRlbnRpZmllciIsInJvdXRlS2V5cyIsInNwbGl0dGVkSGFzaCIsImZpcnN0SGFzaFRva2VuIiwiZmlsdGVyIiwic3BsaXR0ZWRSb3V0ZUtleSIsInJvdXRlS2V5Iiwic3RhdGljUm91dGVUb2tlbnNBcmVFcXVhbCIsInJvdXRlVG9rZW4iLCJjb3VudEludmFsaWQiLCJjdXJyZW50VmFsaWRhdGlvblN0YXRlIiwiZmluZE1hdGNoaW5nUm91dGVJZGVudGlmaWVyIiwicm91dGVQYXJhbXMiLCJyb3V0ZUlkZW50aWZpZXIiLCJyb3V0ZUlkZW50aWZpZXJUb2tlbiIsImluZGV4Iiwicm91dGVQYXJhbSIsInN1YnN0ciIsInAiLCJwYXJhbVZhbHVlIiwiaXNOYU4iLCJwYXJzZUludCIsImV4dHJhY3RSb3V0ZVBhcmFtcyIsImRpc3Bvc2UiLCJkb21DbG9uZSIsImluc2VydEJlZm9yZSIsInN0YXJ0IiwiYWRkUm91dGUiLCJwYXVzZWQiLCJkZWZhdWx0VmFsdWUiLCJwYXJ0cyIsIm9iamVjdCIsImRlcHRoIiwicmV2aXZlciIsInYiXSwibWFwcGluZ3MiOiJxTUFFQSxJQUFJQSxFQUFhLEVBQ2JDLEVBQWUsYUFFSEMsT0FDVkMsRUFBY0MsS0FBS0MsTUFDbkJGLElBQWdCSCxJQUNoQkMsS0FFV0UsSUFDRSxPQUdiRyxLQUFjQyxPQUFPSixHQUFlSSxPQUFPTixVQUMzQ0MsTUFDWUEsTUFBVUksR0FFbkJBLG1nQ0NmREUsRUFBMkRDLE9BQTNERCxPQUFRRSxFQUFtREQsT0FBbkRDLGVBQWdCQyxFQUFtQ0YsT0FBbkNFLGVBQWdCQyxFQUFtQkgsT0FBbkJHLGVBRzFDQyxFQUFrQlAsRUFBUyxpQkFHM0JRLEVBQWtCUixFQUFTLGlCQUczQlMsRUFBdUJULEVBQVMsc0JBR3pCVSxFQUFjLFNBQUNDLFVBNkg1QixTQUFxQkEsVUFDWkMsRUFDTEQsRUFDQSxTQUFDRSxVQWxDTCxTQUFrQkMsRUFBR0gsUUFDTixPQUFORyxHQUFZLElBQ2JDLEVBQWdCRCxFQUFHSCxVQUNkLElBRUxOLEVBQWVTLFVBRWQsRUEyQllFLENBQVNILEVBQVdJLFVBQVdOLEdBQVNFLEVBQWFGLEVBQU1FLEtBaEkxQ0ssQ0ErSXRDLFNBQW9CUCxVQUNYQyxFQUFLRCxFQUFPLFNBQUNFLE9BQ2RNLEVBQW9CTixFQUFXSixHQUM5QlUsTUFDaUJOLEVBQVdKLEdBQXdCLElBQUlXLFNBSXpEQyxFQUFjRixFQUFrQkcsSUFBSVgsVUFDbkNVLE1BQ1dWLEVBQU1FLEtBQ0ZVLElBQUlaLEVBQU9VLElBRXhCQSxJQTVKdUNHLENBaUhsRCxTQUFzQmIsVUFDYkMsRUFBS0QsRUFBTyxTQUFDRSxVQXREdEIsU0FBb0JBLEVBQVlGLE9BQzFCVSxFQUFjVixFQUFNRSxVQUNWUSxFQUFZSixVQUNwQlQsR0FBbUJpQixFQUFPZCxHQUN6QlUsRUFrRDRCSyxDQUFXYixFQUFZRixLQWxIQ2dCLENBQWFoQix1QkFFMURpQiw2R0FDZDFCLDhDQUNVMkIsZ0RBQ0NBLEVBQU9DLElBQUksU0FBQ25CLFVBQVVELEVBQVlDLEtBQVFvQixPQUFPLFNBQUNDLEVBQUdDLFVBQU1BLEVBQUVELElBQUlKLE9Bb0I5RSxTQUFTaEIsRUFBS0QsRUFBT3VCLFlBQ0pBLEVBQVN2QixHQUNuQkEsRUFBTUosT0FDSEEsR0FBbUJJLEdBRXBCdUIsRUFZVCxTQUFTVCxFQUFPUyxVQUNQQSxFQUFRM0IsSUFBb0IyQixFQXFDckMsU0FBU25CLEVBQWdCb0IsRUFBT3hCLFVBQ3ZCTCxFQUFlOEIsS0FBS0QsRUFBTzNCLElBQW9CMkIsRUFBTTNCLEtBQXFCaUIsRUFBT2Qsd0JDL0YxRTBCLHlEQUFVbEMsT0FBT21DLE9BQU9DLEtBQUssS0FBTSxTQUM3Q0MsRUFBUSxJQUFJQyxlQUNULFNBQUNDLE9BQ0ZDLEVBQVFILEVBQU1sQixJQUFJb0IsVUFDakJDLEtBQ0dwQixJQUFJbUIsRUFBTUMsRUFBUU4sRUFBUUssSUFFM0JDLGVDUEtDLE9BQUtDLHlEQUFLQyxlQUFZRixFQUFJRyxLQUFLRixlQ0EvQkQsT0FBS0MseURBQUtDLGVBQVlGLEVBQUlJLE1BQU1ILElDSzFDSSxFQUFXLFNBQUNKLFVBQU8sc0NBQUlLLGdEQUFXQyxFQUFJRCxFQUFRTCxLQUM5Q08sRUFBVyxTQUFDUCxVQUFPLHNDQUFJSyxnREFBV0csRUFBSUgsRUFBUUwsS0FDOUNTLEVBQVduRCxPQUFPYyxVQUFVcUMsU0FDNUJDLEdBQ0osTUFDQSxNQUNBLFNBQ0EsUUFDQSxTQUNBLFNBQ0EsT0FDQSxTQUNBLFdBQ0EsVUFDQSxTQUNBLE9BQ0EsWUFDQSxZQUNBLFFBQ0EsVUFDQSxXQUNBLFVBQ0EsUUFFSUMsRUFBTUQsRUFBTUUsT0FDWkMsS0FDQUMsRUFBYSxrQkFpQm5CLG1CQUNNQyxnQkFDS0MsT0FDREMsRUFBT1AsRUFBTU0sR0FBR0UsZ0JBQ2ZELEdBQVEsbUJBQU9FLEVBQVdDLEtBQVNILEtBQ25DQSxHQUFNWCxJQUFNRixFQUFTVyxFQUFPRSxNQUM1QkEsR0FBTVQsSUFBTUQsRUFBU1EsRUFBT0UsS0FKNUJELEVBQUlMLEVBQUtLLE9BQVRBLFVBTUZELEVBdkJPTSxHQUVIQyxFQUFVLFNBQUNGLFVBQVFELEVBQVdDLElBRTNDLFNBQVNELEVBQVdDLE9BQ2RILEVBQU9SLEVBQVNsQixLQUFLNkIsT0FDcEJQLEVBQVVJLEdBQU8sS0FDaEJNLEVBQVVOLEVBQUtPLE1BQU1WLEdBQ3JCVyxNQUFNQyxRQUFRSCxJQUFZQSxFQUFRWCxPQUFTLE1BQ25DSyxHQUFRTSxFQUFRLEdBQUdMLHNCQUcxQkwsRUFBVUksa0JDM0NIRyxVQUFRTyxFQUFNUCxVQUU5QixTQUFTTyxFQUFNUCxPQUFLUSw0REFBZ0JDLG1FQUU5QkMsRUFBR0MsVUFBVVgsSUFBUVUsRUFBR0UsS0FBS1osSUFNbkMsU0FBcUJBLFVBQ1pVLEVBQUdHLFFBQVFiLElBQVFVLEVBQUdJLE9BQU9kLElBQVFVLEVBQUdLLE9BQU9mLEdBUGJnQixDQUFZaEIsSUFBUVUsRUFBR08sU0FBU2pCLEdBQ2hFQSxFQVNYLFNBQWdCSCxFQUFNcUIsT0FDZEMsMEJBRUssSUFBSXRGLEtBQUt1RixLQUFLQyxxQ0FHZCxJQUFJQyxPQUFPRiwrQkFHWEEsS0FBS3ZELElBQUkwQywwQkFHVCxJQUFJcEQsSUFBSWtELE1BQU1rQixLQUFLSCxLQUFLSSxtQ0FHeEIsSUFBSUMsSUFBSXBCLE1BQU1rQixLQUFLSCxLQUFLTSxzQ0FHeEJOLEtBQUtiLG9DQUdMYSxLQUFLYixvQ0FHUm9CLEVBQVUsSUFBSUMsVUFDUVIsS0FBS0ksNERBQVMsNkZBQTlCSyxPQUFNbkQsU0FDTm9ELE9BQU9ELEVBQU1uRCxVQUVoQmlELDBCQUdBLElBQUlJLE1BQU1YLE9BQVN2QixLQUFNdUIsS0FBS3ZCLHFDQUVoQ1csNERBQWdCQyw4REFDWHVCLEtBQUtaLFVBQ1QzQyxFQUFNdkMsT0FBT21DLE9BQU8rQyxRQUNuQlksS0FBS3ZELGtCQUNId0QsT0FDSEMsRUFBTTFCLEVBQVUyQixVQUFVLFNBQUN2QyxVQUFNQSxJQUFNd0MsRUFBS0gsT0FDNUNBLEdBQU9DLEdBQU8sRUFBSXpCLEVBQU95QixHQUFPM0IsRUFBTTZCLEVBQUtILEdBQU16QixFQUFXQyxRQUY3RCxJQUFJd0IsS0FBT2IsT0FBUGEsVUFJRnhELE9BR1BvQixLQUFRc0IsRUFBVSxTQUNkdkMsRUFBS3VDLEVBQVN0QixzQkE3Q1V3QywwREE4Q3ZCekQsRUFBRzBELE1BQU1wQixFQUFTbUIsVUFFcEJuQixFQXZEQXFCLENBQU9yQyxFQUFRRixHQUFNQSxFQUFLUSxFQUFXQyxHQ0x2QyxJQUFNK0IsRUFBdUIsU0FBQ0MsRUFBUUMsVUFBV25DLEVBQU1tQyxNQUV2QyxlQUFDQywwREFBU0MsV0FBWUosVUFBMkIsc0NBQ25FSCxpREFFQ1EsU0FFS2pELEVBQUl5QyxFQUFLN0MsT0FBUUksRUFBSSxJQUFLQSxJQUN4QmtELEVBQU1ULEVBQUtVLE1BQU9GLEVBQVFGLFVBRzlCRSxHQUdNRyxHQUVmLFNBQVNGLEVBQU1MLEVBQVFDLEVBQVFDLE1BQ3pCakMsRUFBR0MsVUFBVStCLFVBQ1JuQyxFQUFNa0MsT0FHWDVDLEVBQU9LLEVBQVF1QyxVQUNmNUMsSUFBU0ssRUFBUXdDLEdBTXZCLFNBQWdCN0MsRUFBTTRDLEVBQVFDLEVBQVFDLE9BQzlCeEIseUJBRUkwQixLQUVBSSxVQUNJL0csT0FBTytHLEtBQUtSLFVBQ1p2RyxPQUFPK0csS0FBS1AsYUFHakJELE9BQU9TLE9BQU9ELEVBQUtQLFFBQVFTLFFBQVEsU0FBQ2xCLEtBQ2hDQSxHQUFPYSxFQUFNTCxFQUFPUixHQUFNUyxFQUFPVCxHQUFNVSxLQUd6Q0UsMkJBSUFGLEVBQUtDLFdBQVdOLE1BQU0sTUFBT0csRUFBUUMsU0FJNUM3QyxLQUFRc0IsU0FDSEEsRUFBU3RCLFlBRVhVLEVBQU1tQyxHQTlCSlUsQ0FBT3ZELEVBQU00QyxFQUFRQyxFQUFRQyxHQUUvQnBDLEVBQU1tQyxPQ3BCRlcsRUFBY25ILE9BQU9ELFlBQzNCLFdBQ0MsV0FDRCxZQUNFLGVBQ0MsV0FLSnFILEVBQVdDLElBRVhDLHlCQUNRQywwQkFDVkMsWUFBU0QsRUFBU0UsZUFBY0YsRUFBU0csZUFDcEMvQixLQUFPLGNBQ1A0QixTQUFXQSxxQkFKSUksT0FRbEJDLHdCQUNRQyxlQUNEM0MsTUFBTTJDLE9BQVNBLHFCQUcxQkMsaUJBQVFDLEVBQVNELE9BQ1RELEVBQVN4RCxFQUFNK0MsRUFBU2xDLE1BQU0yQyxpQkFDN0JHLFNBQVM1RyxJQUFJMkcsRUFBU0QsR0FDdEIsSUFBSUYsRUFBS0MsZ0JBR2xCSSxvQkFBV0EsT0FBWUMsMERBQ2ZMLEVBQVN4RCxFQUFNK0MsRUFBU2xDLE1BQU0yQyxpQkFDN0JJLFdBQWFDLEVBQVFELEVBQWFKLEVBQU9JLFdBQVdqQixPQUFPaUIsR0FDM0QsSUFBSUwsRUFBS0MsZ0JBR2xCSCxhQUFJQSxPQUFLUywwREFDRE4sRUFBU3hELEVBQU0rQyxFQUFTbEMsTUFBTTJDLGlCQUM3QkgsSUFBTVMsRUFBVVQsRUFBTUcsRUFBT0gsSUFBTUEsRUFDbkMsSUFBSUUsRUFBS0MsZ0JBR2xCTyxpQkFBUUEsT0FBUzVILDZEQUNUcUgsRUFBU3hELEVBQU0rQyxFQUFTbEMsTUFBTTJDLGlCQUM3Qk8sUUFBVTVILEVBQVFvRyxFQUFNaUIsRUFBT08sUUFBU0EsR0FBV3BJLE9BQU9xSSxVQUFXRCxHQUNyRSxJQUFJUixFQUFLQyxnQkFHbEJwQyxpQkFBUTZDLE9BQ0FULEVBQVN4RCxFQUFNK0MsRUFBU2xDLE1BQU0yQyxpQkFDN0JPLFFBQVEzQyxRQUFVbUIsRUFBTWlCLEVBQU9PLFFBQVEzQyxRQUFTNkMsR0FDaEQsSUFBSVYsRUFBS0MsZ0JBR2xCVSxnQkFBT0MsVUFDRXRELEtBQUtPLFNBQVVnRCxPQUFRRCxpQkFHaENFLGlCQUFRRixVQUNDdEQsS0FBS08sU0FBVWtELGVBQWdCSCxpQkFHeENJLGNBQUtwRyxVQUNJMEMsS0FBS2tELFNBQVVRLEtBQU1wRyxpQkFHOUJxRyxxQkFBWXJHLFVBQ0gwQyxLQUFLa0QsU0FBVVMsWUFBYXJHLGlCQUdyQ3NHLGVBQU10RyxVQUNHMEMsS0FBS2tELFNBQVVVLE1BQU90RyxpQkFHL0J1RyxtQkFBVXZHLFVBQ0QwQyxLQUFLa0QsU0FBVVcsVUFBV3ZHLGlCQUduQ3dHLHlCQUFVeEcsb0VBQ0QwQyxLQUFLa0QsU0FBVVksVUFBV3hHLGlCQUduQ3lHLGtCQUFTekcsVUFDQTBDLEtBQUtrRCxTQUFVYSxTQUFVekcsaUJBR2xDMEcsY0FBS0MsT0FDR3RCLEVBQVN4RCxFQUFNK0MsRUFBU2xDLE1BQU0yQyxpQkFDN0JPLFFBQVFjLEtBQU9DLEVBQ2YsSUFBSXZCLEVBQUtDLGdCQUdsQnVCLGNBQUtaLFVBQ0l0RCxLQUFLTyxTQUFVNEQsY0FBZWIsaUJBR3ZDYyxjQUFLOUcsVUFDSTBDLEtBQUt3RCxRQUFRLG9CQUFvQlEsS0FBS0ssS0FBS0MsVUFBVWhILGlCQUc5RGlILGNBQUtqSCxVQUNJMEMsS0FBS2dFLE1BaUdRUSxFQWpHWWxILEVBa0czQnhDLE9BQU8rRyxLQUFLMkMsR0FDaEIvSCxJQUNDLG1CQUNFZ0ksbUJBQW1CNUQsR0FDbkIsSUFDRzRELG1CQUE4QyxXQUEzQkMsRUFBT0YsRUFBVzNELElBQW9Cd0QsS0FBS0MsVUFBVUUsRUFBVzNELElBQVEyRCxFQUFXM0QsTUFFNUc4RCxLQUFLLE9BekdrQ25CLFFBQVEscUNBaUdwRCxJQUF3QmdCLGVBOUZ0Qkksc0JBQU90SCx5REFBUTJFLEVBQVk0QyxXQUNsQjdFLEtBQUtrRCxTQUFVMEIsT0FBUXRILGlCQUdoQ3JCLHNCQUNTK0QsS0FBSzRFLE9BQU8zQyxFQUFZNEMsS0FBS0Msb0JBR3RDQyx1QkFDUy9FLEtBQUs0RSxPQUFPM0MsRUFBWStDLE1BQU1GLG9CQUd2Q0cseUJBQ1NqRixLQUFLNEUsT0FBTzNDLEVBQVlpRCxLQUFLSixvQkFHdENLLHlCQUNTbkYsS0FBSzRFLE9BQU8zQyxFQUFZbUQsT0FBT04sb0JBR3hDTyx5QkFDU3JGLEtBQUs0RSxPQUFPM0MsRUFBWXFELFFBQVFSLG9CQUd6Q0Esb0JBeUN1QlMsV0F4Q3FDckQsRUFBU2xDLE1BQU0yQyxPQUFqRUgsSUFBQUEsSUFBS1UsSUFBQUEsUUFBU0gsSUFBQUEsV0FBWXlDLElBQUFBLFVBQVcxQyxJQUFBQSxTQUV2Q2pHLEdBc0NlMEksRUF2Q1d4QyxFQXdDM0IsU0FBQzBDLFVBQ3FCLElBQXZCRixFQUFZbkgsT0FDUHFILEVBR2tCLElBQXZCRixFQUFZbkgsT0FDUG1ILEVBQVksR0FBR0UsR0FHaEJGLEVBQVlHLFlBQ2xCLFNBQUNDLEVBQUtDLEVBQU05RSxVQUFTQSxJQUFReUUsRUFBWW5ILE9BQVMsRUFBSXdILEVBQUtELEVBQUlGLElBQWtCRyxFQUFNRCxPQWxEN0NFLE1BQzVCQyxDQUFRdEQsRUFBS1UsR0FBUzZDLEtBQUssU0FBQzFELE9BQ3JDQSxFQUFTMkQsU0FDTixJQUFJNUQsRUFBVUMsVUFFZkEsSUFHSDRELEVBQVUsU0FBQ0MsVUFDUkEsRUFBUUMsTUFBTSxlQUNmckQsRUFBU3NELElBQUlDLEVBQUk5RCxlQUNaTyxFQUFTN0csSUFBSW9LLEVBQUk5RCxPQUFqQk8sQ0FBeUJ1RCxFQUFLQyxNQUVuQ3hELEVBQVNzRCxJQUFJQyxFQUFJNUYsYUFDWnFDLEVBQVM3RyxJQUFJb0ssRUFBSTVGLEtBQWpCcUMsQ0FBdUJ1RCxFQUFLQyxTQUUvQkQsS0FJSkUsRUFBaUIsU0FBQ0MsVUFBWSxTQUFDQyxVQUUvQlIsRUFESk8sRUFFTTNKLEVBRUdrSixLQUFLLG1CQUFZMUQsR0FBWUEsRUFBU21FLE9BQ3RDVCxLQUFLLG1CQUFhMUQsR0FBWW9FLEdBQU1BLEVBQUdwRSxJQUFjQSxJQUVsRHhGLEVBQVFrSixLQUFLLG1CQUFhMUQsR0FBWW9FLEdBQU1BLEVBQUdwRSxJQUFjQSxPQUVyRXFFLE9BQ0NILEVBQWUsV0FDZEEsRUFBZSxnQkFHaEJmLEVBQVU5SSxPQUFPLFNBQUNpSyxFQUFPQyxVQUFNQSxFQUFFRCxFQUFPekQsSUFBVXdELFNDNUs3RCxlQ0hnQkcsOEJBQWNDLDBEQUNyQixTQUFTQyxXQUNSakssRUFBUWlLLEVBQU1uTCxVQUNkdUMsRUFBTTJJLEVBQVkxSSxPQUNoQjRJLEVBQW1CbE0sT0FBbkJrTSwwQkFDQ3hJLE9BQ0R5SSxFQUFhSCxFQUFZdEksR0FDekJvRyxFQUFTOUgsRUFBTW1LLEtBQ05uSyxFQUFPbUssU0FDYixzQ0FBWWhHLDJDQUNaaUcsUUFBUXRDLEtBQ0gxRCxNQUFNbEIsS0FBTWlCLGNBRWQsS0FSTHpDLEVBQUksRUFBR0EsRUFBSUwsRUFBS0ssTUFBaEJBLFVBV0Z1SSxJQ2hCUEksRUFBYSxFQUNiQyxFQUFhLEVBQ2JDLEtBQ0FDLEVBQWMsRUFDZEMsRUFBT0MsU0FBU0MsZUFBZSxJQUNuQyxJQUFJQyxpQkE2QkosbUJBQ1F2SixFQUFNa0osRUFBVWpKLE9BQ2JJLEVBQUksRUFBR0EsRUFBSUwsRUFBS0ssSUFBSyxLQUN4QmlJLEVBQUtZLEVBQVU3SSxNQUNmaUksR0FBb0IsbUJBQVBBLFVBR2IsTUFBT0osY0FDSSxpQkFDSEEsT0FLSnNCLE9BQU8sRUFBR3hKLE1BQ05BLElBNUNZeUosUUFBUUwsR0FBUU0sZUFBZSxJQVFwRCxJQUFNQyxFQUFNLFNBQUNDLFlBQ2JDLFlBQWNwTixPQUFPME0sT0FDaEIxRyxLQUFLbUgsR0FDUlosdUNBUWEsU0FBQ2MsT0FDZm5ILEVBQU1tSCxFQUFTYixLQUNqQnRHLEdBQU8sRUFBRyxLQUNQdUcsRUFBVXZHLFNBQ1AsSUFBSTJCLE1BQU0seUJBQTJCd0YsS0FFbkNuSCxHQUFPLFNDMUJmb0gsRUFBU1YsU0FBU1csWUFHeEIsR0FBa0MsbUJBQXZCRCxFQUFPRSxZQUE0QixLQUN0Q0MsRUFBZSxlQUdSek0sVUFBWXNNLEVBQU9FLFlBQVl4TSxZQUNyQ3dNLFlBQWNDLGlCQUlQQyxPQUNSQyxHQUNKLG9CQUNBLHVCQUNBLGtCQUNBLDRCQUVNdkIsRUFBbUNsTSxPQUFuQ2tNLGVBQWdCL0wsRUFBbUJILE9BQW5CRyxlQUNsQmlILEVBQVdDLFdBRVptRyxpR0FDdUJKLEVBQU9FLDRFQWdEbEJuSCxzREFDYnVILDZCQUFTdkgsY0FDSndILDhCQXpDQUMsNkJBRUFDLGdCQUFPQyxPQUNOQyxFQUFXQyxtQkFDWkQsRUFBUzVNLElBQUkyTSxHQUFVLEtBQ3BCOUwsRUFBUWtELEtBQUtwRSxZQUNPbUcsUUFBUSxTQUFDZ0gsR0FDNUI5TixFQUFlOEIsS0FBS0QsRUFBT2lNLE1BQ2ZqTSxFQUFPaU0sb0NBRU4sUUFHWkMsRUFBa0JELEVBQW1CRSxVQUN6QyxFQUNBRixFQUFtQjNLLE9BQVMsV0FBV0EsUUFFbkM4SyxFQUFpQnBNLEVBQU1pTSxLQUNkak0sRUFBT2lNLFNBQ2Isc0NBQVk5SCw4Q0FDWitILEdBQWlCOUgsTUFBTWxCLEtBQU1pQixLQUNuQkMsTUFBTWxCLEtBQU1pQixrQkFFZixXQUlieUgsa0JBcUNGLFNBQVNTLEtBQ0VuSixNQUNFb0osV0FBWSxFQUN6QmxILEVBRldsQyxNQUVPcUosZ0JBRlBySixNQUdJcUosYUFBYyxJQUNkdE0sS0FKSmlELE1BQUFBLEtBS05zSixXQTFDd0IsYUFBYXRKLFFBa0UxQyxTQUFTdUosT0FDUnpKLEVBQVVFLE9BQ1BGLEdBQVNzSixXQUFZLElBQ2hCLFlBQ1BsSCxFQUFTcEMsR0FBU3NKLFdBQWFsSCxFQUFTcEMsR0FBU3VKLGdCQUMzQ3ZKLEdBQVN1SixhQUFjLElBQ1h0TSxLQUFLK0MsT0F2RU8sZ0JBQWdCRSxRQStDaEQsU0FBU3dKLE9BQ1IxSixFQUFVRSxTQUNYa0MsRUFBU3BDLEdBQVMySixVQUFXLEtBQzFCQyxPQUE4Q25LLElBQWhDMkMsRUFBU3BDLEdBQVMySixZQUM3QjNKLEdBQVMySixXQUFZLElBQ2hCLFdBQ1J2SCxFQUFTcEMsR0FBUzJKLGNBQ1gzSixHQUFTMkosV0FBWSxJQUN0QkUsVUFBVUQsS0FDSDNNLEtBQUsrQyxLQUNaOEosWUFBWUYsUUF4REssVUFBVTFKLFFBQzlCMkksT0FBT0MsRUFBUzVJLHNEQUtXLElBQS9Ca0MsRUFBU2xDLE1BQU1xSixrRkFReEJaLG1DQUdBb0IsMEJBQWlCQyxFQUFlQyxFQUFVQyxpQkFHMUNaLG1DQUVBYSxzQ0FFQUMsaUNBRUFaLGdDQUVBSyxtQ0FFQUMsNEJBbEVpQ3RCLGdCQzlCckJ6Qiw4QkFBY0MsMERBQ3JCLFNBQVNDLFdBQ1JqSyxFQUFRaUssRUFBTW5MLFVBQ2R1QyxFQUFNMkksRUFBWTFJLE9BQ2hCNEksRUFBbUJsTSxPQUFuQmtNLDBCQUNDeEksT0FDRHlJLEVBQWFILEVBQVl0SSxHQUN6Qm9HLEVBQVM5SCxFQUFNbUssS0FDTm5LLEVBQU9tSyxTQUNiLHNDQUFZaEcsNkNBQ1hrSixFQUFjdkYsRUFBTzFELE1BQU1sQixLQUFNaUIsWUFDN0JDLE1BQU1sQixLQUFNaUIsR0FDZmtKLGFBRUMsS0FUTDNMLEVBQUksRUFBR0EsRUFBSUwsRUFBS0ssTUFBaEJBLFVBWUZ1SSxJQ2pCRXFELHlCQUFxQkMscUJBQUFBLDRCQUFlN0MsdUJBQUFBLFdBQVU4QyxTQUFTLHlCQ0FwRHpELDhCQUFjQywwREFDckIsU0FBU0MsV0FDUmpLLEVBQVFpSyxFQUFNbkwsVUFDZHVDLEVBQU0ySSxFQUFZMUksT0FDaEI0SSxFQUFtQmxNLE9BQW5Ca00sMEJBQ0N4SSxPQUNEeUksRUFBYUgsRUFBWXRJLEdBQ3pCb0csRUFBUzlILEVBQU1tSyxLQUNObkssRUFBT21LLFNBQ2Isc0NBQVloRyxrREFDUEMsTUFBTWxCLEtBQU1pQixHQUNmMkQsRUFBTzFELE1BQU1sQixLQUFNaUIsY0FFbEIsS0FSTHpDLEVBQUksRUFBR0EsRUFBSUwsRUFBS0ssTUFBaEJBLFVBV0Z1SSxnQkNoQkt3RCxPQUFTQyx5REFBV0MsS0FBS0MsYUFDbkNDLEVBQWFKLEVBQVFJLFdBQ3JCQyxRQUNBRCxHQUFjQSxFQUFXdk0sT0FBUyxVQUNoQ0ksRUFBSW1NLEVBQVd2TSxPQUNaSSxLQUNEbU0sRUFBV25NLEdBQUdnTSxXQUFhQSxLQUNwQnRELFFBQVF5RCxFQUFXbk0sV0FJM0JvTSxNRlRjLFNBQUNwTixPQUFJcU4sb0VBQWlCLGNBQ3ZDVCxVQUNLNU0sNkJBRUxxTixRQUNJLElBQUlwSSxNQUFTakYsRUFBR2lELCtCR0FYcUssQ0FBUSxTQUFDeEMsb0dBR2JJLDZCQWNEcUMsSUFiRXJDLDZCQWFGcUMsRUFBYSxZQUVaLFNBQVNyQixPQUNSNUosRUFBVUUsUUFDWjBKLEVBQWEsS0FDVGtCLEVBQVdJLEdBQWdCbEwsS0FDeEJpQyxRQUFRLFNBQUNrSixPQUNWQyxFQUFZRCxFQUFNRSxhQUFlRixFQUFNRSxhQUFhLFFBQVUsUUFDM0MsaUJBQWRELEdBQTBCQSxFQUFVOU0sT0FBUyxFQUFHLEtBQ25EZ04sRUFBT0YsRUFBVWpJLFFBQVE4SCxFQUFZLG1CQUFTL0wsRUFBTSxHQUFHcU0sa0JBQ3JEQyxNQUFNRixHQUFRSCxTQUVkSyxNQUFNQyxRQUFRM0ssS0FBS3FLLE9BR3ZCTyxtQkEzQnlCLGFBQWF4TCxtQkFHbER5SSxpQ0FDUUEsMEJBQ0Q2QyxPQUFVQyx5QkFHakJDLDhCQVp5QmxELGlCQ1BiaEgsRUFBUTdDLEVBQU1nTixVQWlCOUIsU0FBZW5LLEVBQVE3QyxFQUFNZ04sRUFBVUMsTUFDakNqTixFQUFLa04sUUFBUSxNQUFRLEVBQUcsS0FDdEJDLEVBQVNuTixFQUFLb04sTUFBTSxXQUNwQkMsRUFBVUYsRUFBT25QLElBQUksU0FBU2dDLFVBQ3pCc04sR0FBWXpLLEVBQVE3QyxFQUFNZ04sRUFBVUMsbUNBSXBDTSxPQUFTLHFCQUNWL0QsU0FDSUEsRUFBUzZELEVBQVFuSyxTQUNoQnFLLGtCQUtSRCxHQUFZekssRUFBUTdDLEVBQU1nTixFQUFVQyxHQWhDcENPLENBQU0zSyxFQUFRN0MsRUFBTWdOLDREQUc3QixTQUFTTSxHQUFZekssRUFBUTdDLEVBQU1nTixFQUFVQyxNQUN2Q3BLLEVBQU80SywwQkFDRkEsaUJBQWlCek4sRUFBTWdOLEVBQVVDLFdBRTlCLGdCQUNETSxPQUFTLGVBQ1BHLG9CQUFvQjFOLEVBQU1nTixFQUFVQyxXQUkzQyxJQUFJakosTUFBTSxtRENORjZGLE9BQ05uRixFQUFXckksT0FBWHFJLE9BQ0ZqQixFQUFXQyxFQUFjLGlDQUt6QmlLLFlBQ0ssY0FDRyxvR0FLTDFELDJCQUNDQSw0QkFrQ0QsV0FDVzFJLEtBQ1JxTSxPQW5DMEIsZ0JBQWdCck0sbUJBR3BEc00scUJBQVlDLE9BQ0p0RSxPQUFjc0UsRUFBTTlOLEtBQ0UsbUJBQWpCdUIsS0FBS2lJLFNBRVRBLEdBQVFzRSxnQkFJakJDLFlBQUcvTixFQUFNZ04sRUFBVUMsUUFDWmUsSUFBSUMsR0FBWTFNLEtBQU12QixFQUFNZ04sRUFBVUMsaUJBRzdDaUIsa0JBQVNsTyxPQUFNbU8saUVBQ1JDLGNBQWMsSUFBSUMsWUFBWXJPLEVBQU0wRSxFQUFPaUosR0FBc0JXLE9BQVFILG1CQUdoRlAsaUJBQ1dyTSxNQUFNRCxTQUFTZ0MsUUFBUSxTQUFDaUwsS0FDdkJoQix3QkFJWlMsaURBQU8xTSwyQ0FDSWdDLFFBQVEsU0FBQ2lMLEtBQ1AxRyxHQUFNdkcsU0FBU2EsS0FBS29NLFNBL0JQMUUsZ0JDYmRBLE9BQ050QixFQUFpQ2xNLE9BQWpDa00sZUFBZ0JuRixFQUFpQi9HLE9BQWpCK0csS0FBTXNCLEVBQVdySSxPQUFYcUksT0FDeEI4SixLQUNBQyxLQUNBaEwsRUFBV0MsSUFFYmdMLFNBQ0FDLEtBQ0FDLGNBbUJLQyxFQUFvQkMsT0FqQkU1SyxFQWtCdkI2SyxTQUNELElBQUkvTSxLQUFROE0sS0FDVnpTLE9BQU9HLGVBQWU4QixLQUFLd1EsRUFBWTlNLFFBR3RDZ04sRUFBV0YsRUFBVzlNLEtBQ3JCQSxHQUE0QixtQkFBYmdOLEdBQTRCaFAsS0FBTWdQLEdBQWFBLEdBeEIxQzlLLEVBeUJMNkssRUFBTy9NLElBeEJ4QmlOLFlBQWMsYUFBYy9LLElBQzVCZ0wsaUJBQW1CaEwsRUFBTytLLGFBQTBDLGlCQUFwQi9LLEVBQU9pTCxXQUN2REMsU0FBV2xMLEVBQU9sRSxPQUFTN0QsU0FDM0JrVCxTQUFXbkwsRUFBT2xFLE9BQVNzUCxTQUMzQkMsVUFBWXJMLEVBQU9sRSxPQUFTaEIsVUFDNUJ3USxTQUFXdEwsRUFBT2xFLE9BQVMzRCxTQUMzQm9FLFFBQVV5RCxFQUFPbEUsT0FBU1EsUUFDMUJpUCxPQUFTdkwsRUFBT2xFLE9BQVNoRSxPQUN6QjBULE9BQVMsV0FBWXhMLElBQ3JCeUwsU0FBVyxhQUFjekwsR0FBU0EsRUFBT3lMLFdBQ3pDQyxtQkFDTCx1QkFBd0IxTCxFQUNwQkEsRUFBTzBMLG1CQUNQMUwsRUFBT2tMLFVBQVlsTCxFQUFPbUwsVUFBWW5MLEVBQU9xTCxpQkFhNUNSLG1HQThEQTlFLDJCQUNDQSw0QkEzREQsV0FFRDVOLE9BQU8rRyxLQUFLSyxFQURBbEMsTUFDa0JzTyxzQkFBc0JsUSxPQUFTLE1BRGpENEIsS0FFRWtDLEVBRkZsQyxNQUVvQnNPLHdCQUZwQnRPLE1BR0lzTyx5QkFISnRPLEtBS1J1TyxvQkFzRHdCLGFBQWF2TyxTQWpEeEMsU0FBU2tMLEVBQVduQixFQUFVQyxHQUUvQkQsSUFBYUMsR0FERGhLLEtBRU53TyxxQkFBcUJ0RCxFQUFXbEIsSUErQ0osb0JBQW9CaEssU0F6Q3JELFNBQVN5TyxFQUFjQyxFQUFjQyxjQUN0QzdPLEVBQVVFLFlBQ1A2QixLQUFLNk0sR0FBYzNNLFFBQVEsU0FBQzBMLFNBTzdCM04sRUFBUThPLFlBQVlDLGdCQUFnQnBCLEdBTHRDVSxJQUFBQSxPQUNBVCxJQUFBQSxZQUNBVyxJQUFBQSxtQkFDQVYsSUFBQUEsaUJBQ0FDLElBQUFBLFNBRUVTLEtBQ01TLHFCQUFxQnJCLEVBQVVpQixFQUFhakIsSUFFbERDLEdBQWVDLElBQ1pDLEdBQVVjLEVBQWFqQixHQUFXa0IsRUFBU2xCLElBQ3ZDQyxHQUFtQyxtQkFBYkUsS0FDdEIxTSxNQUFNcEIsR0FBVTRPLEVBQWFqQixHQUFXa0IsRUFBU2xCLEtBRXhEVSxLQUNNdEIsY0FDTixJQUFJQyxZQUFlVywrQkFFTGlCLEVBQWFqQixZQUNia0IsRUFBU2xCLFVBbUJXLHFCQUFxQnpOLFdBQ3hEK08sc0JBR0FDLGlDQUF3QjlELE9BQ3pCdUMsRUFBV1IsRUFBeUIvQixPQUNuQ3VDLEVBQVUsR0FHRnZDLEVBQVVqSSxRQURGLFlBQ3NCLG1CQUFTakUsRUFBTSxHQUFHcU0sa0JBQ2xDSCxHQUFhdUMsU0FFakNBLEtBR0Z3QixpQ0FBd0J4QixPQUN6QnZDLEVBQVlnQyxFQUEwQk8sT0FDckN2QyxFQUFXLEdBR0Z1QyxFQUFTeEssUUFERSxXQUNzQixPQUFPdkUsZ0JBQzFCK08sR0FBWXZDLFNBRWpDQSxLQXdDRjZELGdDQUNDalMsRUFBUWtELEtBQUtwRSxVQUNiMlIsRUFBYXZOLEtBQUs2TyxrQkFDbkJ0QixHQUFZeEwsUUFBUSxTQUFDMEwsTUFDcEIzUyxPQUFPRyxlQUFlOEIsS0FBS0QsRUFBTzJRLFNBQzlCLElBQUloTCxtQ0FBbUNnTCxvQ0FFekN5QixFQUFnQjNCLEVBQVdFLEdBQVVuUSxXQUNyQmlDLElBQWxCMlAsTUFDY3pCLEdBQVl5QixLQUV4QkMsd0JBQXdCMUIsRUFBVUYsRUFBV0UsR0FBVVcseUJBSWpFM0YsaUNBQ1FBLHVCQUNHekksTUFBTTRNLFVBQ041TSxNQUFNb1AsYUFBYyxJQUNwQnBQLE1BQU1zTywwQkFDTnRPLE1BQU1xUCxZQUFjLE9BQ3BCclAsTUFBTXNQLFFBQVUsT0FDaEJ0UCxNQUFNdVAsYUFBYyxPQUN4QkMsa0NBQ0FDLHFDQUdQQywyQkFDRWpCLEVBQ0FDLEVBQ0FDLGlCQUdGUSxpQ0FBd0IxQixFQUFVVyxHQUMzQmhCLEVBQWdCSyxPQUNIQSxJQUFZLElBQ2J6TixLQUFNeU4sZUFDUCxnQkFDRSx3QkFFTHpOLEtBQUsyUCxhQUFhbEMsUUFFdEJXLEVBQ0QsYUFDQSxTQUFTcEUsUUFDRjRGLGFBQWFuQyxFQUFVekQsb0JBTXhDMkYsc0JBQWFsQyxVQUNKdkwsRUFBU2xDLE1BQU00TSxLQUFLYSxnQkFHN0JtQyxzQkFBYW5DLEVBQVV6RCxHQUNqQmhLLEtBQUs2UCxzQkFBc0JwQyxFQUFVekQsR0FDbkNoSyxLQUFLOFAsb0JBQW9CckMsRUFBVXpELFNBQ2hDK0YsZ0NBSUNDLHFCQUFxQmhHLG1CQUF5QnlELHlCQUNsRHpOLEtBQUs0TyxZQUFZQyxnQkFBZ0JwQixHQUFVaFAsS0FBS2dDLG1CQUl4RCtPLHdEQUNTM04sS0FBS3dMLEdBQWlCdEwsUUFBUSxTQUFDMEwsT0FDOUJuUSxFQUNpQyxtQkFBOUIrUCxFQUFnQkksR0FDbkJKLEVBQWdCSSxHQUFVMVEsS0FBS2tULEdBQy9CNUMsRUFBZ0JJLEtBQ2pCbUMsYUFBYW5DLEVBQVVuUSxrQkFJaENtUyxtREFDUzVOLEtBQUt1TCxHQUFpQnJMLFFBQVEsU0FBQzBMLEdBQ2hDM1MsT0FBT0csZUFBZThCLEtBQUttVCxFQUFNekMsT0FDMUJ5QyxHQUFNNUIscUJBQXFCYixHQUFZeUMsRUFBS3pDLFVBQzlDeUMsRUFBS3pDLG1CQUtsQmUsOEJBQXFCdEQsRUFBVzVOLE9BQ3pCNEUsRUFBU2xDLE1BQU1vUCxZQUFhLEtBQ3pCM0IsRUFBV3pOLEtBQUs0TyxZQUFZSSx3QkFBd0I5RCxRQUNyRHVDLEdBQVl6TixLQUFLbVEsa0JBQWtCMUMsRUFBVW5RLGlCQUl0RHVTLCtCQUFzQnBDLEVBQVVuUSxPQUN4QjhTLEVBQWVwUSxLQUFLNE8sWUFBWUMsZ0JBQWdCcEIsR0FBVWhQLFdBRTNDLHFCQUFWbkIsZ0JBQUFBLElBQ0NBLGFBQWlCOFMsRUFFakIsYUFBVTlTLGdCQUFBQSxNQUFZOFMsRUFBYTNQLEtBQUsvQiwyQkFLdERvUSw4QkFBcUJyQixFQUFVblEsS0FDcEIwQyxNQUFNb1AsYUFBYyxNQUN2QmxFLEVBQVlsTCxLQUFLNE8sWUFBWUssd0JBQXdCeEIsUUFFN0NsTyxPQUROUyxLQUFLcVEsZ0JBQWdCNUMsRUFBVW5RLFNBRWhDZ1QsZ0JBQWdCcEYsR0FDWmxMLEtBQUttTCxhQUFhRCxLQUFlNU4sUUFDckNpVCxhQUFhckYsRUFBVzVOLEtBRXRCMEMsTUFBTW9QLGFBQWMsZUFHL0JlLDJCQUFrQjFDLEVBQVVuUSxTQUMyQzBDLEtBQUs0TyxZQUFZQyxnQkFBZ0JwQixHQUE5RkssSUFBQUEsU0FBVTVPLElBQUFBLFFBQVM4TyxJQUFBQSxVQUFXRSxJQUFBQSxPQUFRTCxJQUFBQSxTQUFVSSxJQUFBQSxnQkFDcERELElBQ2dCLE9BQVYxUSxRQUE0QmlDLElBQVZqQyxFQUNqQndRLElBQ1MsT0FBVnhRLFFBQTRCaUMsSUFBVmpDLEVBQXNCLEVBQUl5USxPQUFPelEsR0FDbER1USxJQUNTLE9BQVZ2USxRQUE0QmlDLElBQVZqQyxFQUFzQixHQUFLMUMsT0FBTzBDLEdBQ25EMlEsR0FBWS9PLElBQ0gsT0FBVjVCLFFBQTRCaUMsSUFBVmpDLEVBQXVCNEIsRUFBVSxRQUFhbUYsS0FBSzRILE1BQU0zTyxHQUMxRTRRLE1BQ1MsT0FBVjVRLFFBQTRCaUMsSUFBVmpDLEVBQXNCLEdBQUssSUFBSTdDLEtBQUs2QyxJQUV6REEsZUFHVCtTLHlCQUFnQjVDLEVBQVVuUSxPQUNsQmtULEVBQWlCeFEsS0FBSzRPLFlBQVlDLGdCQUFnQnBCLEdBQ2hETyxFQUFpQ3dDLEVBQWpDeEMsVUFBV0MsRUFBc0J1QyxFQUF0QnZDLFNBQVUvTyxFQUFZc1IsRUFBWnRSLGVBRXpCOE8sRUFDSzFRLEVBQVEsUUFBS2lDLEVBRWxCME8sR0FBWS9PLEVBQ1BtRixLQUFLQyxVQUFVaEgsS0FHaEJBLEVBQVFBLEVBQU1XLGdCQUFhc0IsZUFJckN1USw2QkFBb0JyQyxFQUFVblEsT0FDeEJtVCxFQUFNdk8sRUFBU2xDLE1BQU00TSxLQUFLYSxHQUMxQmlELEVBQVUxUSxLQUFLMlEsc0JBQXNCbEQsRUFBVW5RLEVBQU9tVCxVQUN0REMsSUFDR3hPLEVBQVNsQyxNQUFNcVAsZ0JBQ1RyUCxNQUFNcVAsaUJBQ05yUCxNQUFNc1AsYUFHYnBOLEVBQVNsQyxNQUFNc1AsU0FBYTdCLEtBQVl2TCxFQUFTbEMsTUFBTXNQLFlBQ2hEdFAsTUFBTXNQLFFBQVE3QixHQUFZZ0QsS0FFNUJ6USxNQUFNNE0sS0FBS2EsR0FBWW5RLElBQ3ZCMEMsTUFBTXFQLFlBQVk1QixHQUFZblEsR0FFbENvVCxlQUdUWCw0Q0FDTzdOLEVBQVNsQyxNQUFNdVAsZ0JBQ1R2UCxNQUFNdVAsYUFBYyxJQUNmLFdBQ1JyTixFQUFTME8sR0FBTXJCLGdCQUNScUIsR0FBTXJCLGFBQWMsSUFDeEJoQixvQ0FNYkEsZ0NBQ1FzQyxFQUFRM08sRUFBU2xDLE1BQU00TSxLQUN2QjhCLEVBQWV4TSxFQUFTbEMsTUFBTXFQLFlBQzlCb0IsRUFBTXZPLEVBQVNsQyxNQUFNc1AsUUFFdkJ0UCxLQUFLOFEsd0JBQXdCRCxFQUFPbkMsRUFBYytCLE9BQzNDelEsTUFBTXFQLFlBQWMsT0FDcEJyUCxNQUFNc1AsUUFBVSxVQUNwQkksa0JBQWtCbUIsRUFBT25DLEVBQWMrQixpQkFJaERLLGlDQUNFckMsRUFDQUMsRUFDQUMsVUFFT2xSLFFBQVFpUixnQkFHakJpQywrQkFBc0JsRCxFQUFVblEsRUFBT21ULGNBRzNCblQsT0FFQ21ULEdBQU9uVCxHQUFVQSx5RUFoUnJCeEMsT0FBTytHLEtBQUs3QixLQUFLNk8saUJBQWlCcFMsSUFBSSxTQUFDZ1IsVUFBYXNELEVBQUs5Qix3QkFBd0J4QixxREFrQ25GTixFQUFrQixTQUNmNkQsRUFBc0Isa0JBQU03RCxPQUM5QjhELEVBQVcsS0FDWEMsR0FBTyxFQUVKQSxNQUNNcFcsT0FBT0UsZUFBNEIsT0FBYmlXLEVBQW9CalIsS0FBT2lSLEtBR3pEQSxFQUFTckMsYUFDVnFDLEVBQVNyQyxjQUFnQnhHLGFBQ3pCNkksRUFBU3JDLGNBQWdCdUMsVUFDekJGLEVBQVNyQyxjQUFnQjlULFFBQ3pCbVcsRUFBU3JDLGNBQWdCcUMsRUFBU3JDLFlBQVlBLGlCQUV2QyxHQUVMOVQsT0FBT0csZUFBZThCLEtBQUtrVSxFQUFVLGtCQUVwQjlOLEVBQ2pCNk4sTUFDb0JDLEVBQVMxRCxjQUkvQnZOLEtBQUt1TixlQUVZcEssRUFDakI2TixNQUNvQmhSLEtBQUt1TixxQkFJeEJKLFNBdEVxQjdFLGdCQ3JHbEI4SSxNQUNWLFlBQWE1SixTQUFTNkosY0FBYyxtQkFDL0I3SixTQUFTOEosV0FBV0YsRUFBUzVOLFNBQVMsV0FHM0MrTixFQUFXL0osU0FBU2dLLHlCQUNwQjVHLEVBQVd3RyxFQUFTekcsV0FDZm5NLEVBQUksRUFBR0EsRUFBSW9NLEVBQVN4TSxPQUFRSSxNQUMxQmlULFlBQVk3RyxFQUFTcE0sR0FBR2tULFdBQVUsV0FFdENILGVDVk9oSCxHQUNWQSxFQUFRb0gsaUJBQ0ZBLGNBQWNDLFlBQVlySCxnRWRlakIsSUFBSTdILEVBbUxoQjVILE9BQU9xSSxlQUdMLHVCQUVLLElBQUlwSCxvREN0TUksZUFDaEI4VixFQUFjLElBQUk5VixJQUNwQitWLEVBQWtCLGlCQUlYLFNBQVN2Riw4QkFBVXRMLDREQUNkYyxRQUFRLGFBQ2pCZ1EsRUFBYzlWLElBQUlzUSxRQUFjeEssUUFBUSwyQkFDM0JkLE9BR1RqQix1QkFFUyxlQUNaRixFQUFVZ1MsY0FFUixTQUFTdkYsRUFBT3hFLEdBQ2I4SixFQUFZekwsSUFBSXRHLE1BQ1A1RCxJQUFJNEQsRUFBUyxJQUFJL0QsU0FHekJpVyxFQUFhSCxFQUFZNVYsSUFBSTZELFVBQzlCa1MsRUFBVzVMLElBQUltRyxNQUNQclEsSUFBSXFRLFFBR050USxJQUFJc1EsR0FBTzNMLEtBQUttSCxHQUNwQi9ILFVBRUosU0FBU3VNLFlBRUF0USxJQUFJNkQsR0FBU3VGLE9BQU9rSCxHQUN6QnZNLGNBRUEsYUFDS3FGLE9BQU92RiwrRGNsQ2J3SSxPQUNObkYsRUFBV3JJLE9BQVhxSSxPQUNGakIsRUFBV0MscUdBR1J1RywyQkFDQ0EsNEJBc0RELFNBQVNnQixHQUVWQSxFQURZMUosS0FFTmlTLG9CQUFvQmpTLEtBQUtrUyxPQUZuQmxTLEtBSU5tUyxvQkFBb0JuUyxLQUFLa1MsTUFBTy9PLEtBQVdqQixFQUpyQ2xDLE1BSXVEb1MsaUJBMURyQyxhQUFhcFMsU0FnRTFDLFNBQVMwSixPQUVSMkksRUFBZ0JuUSxFQURObEMsTUFDd0JvUyxnQkFEeEJwUyxNQUVFb1MsY0FBZ0JsUSxFQUZsQmxDLE1BRW9Da1MsTUFDaER4SSxFQUhZMUosS0FJTnNTLG1CQUFtQkQsR0FKYnJTLEtBTU51UyxtQkFBbUJGLElBdEVJLGVBQWVyUyxtQkFHbER5SSxpQ0FDUUEsMEJBQ0QrSixTQUFTeFMsS0FBS3lTLDJCQVdyQkMsK0JBQXNCQyxPQUNmLElBQUk5UixLQUFPOFIsS0FDVkEsRUFBVTlSLEtBQVNxQixFQUFTbEMsTUFBTWtTLE1BQU1yUixVQUNuQyxTQUdKLGVBR1QyUixrQkFBU0ksT0FDREQsRUFBWXhQLEtBQVdqQixFQUFTbEMsTUFBTWtTLE1BQU9VLFNBRWpCclQsSUFEWjJDLEVBQVNsQyxNQUFNa1MsT0FDVWxTLEtBQUswUyxzQkFBc0JDLFFBRy9EM1MsTUFBTWtTLE1BQVFTLEVBQ25CM1MsS0FBS3FKLGtCQUNGQyx1QkFNWDJJLDZCQUFvQlksaUJBR3BCUCw0QkFBbUJELGlCQUduQkYsNkJBQW9CVSxFQUFVUixpQkFHOUJFLDRCQUFtQkYsMkZBbkNWbFAsS0FBV2pCLEVBQVNsQyxNQUFNa1MsY0FqQlY1SiwwSENIYkEseURBQVl3SywrR0FFeEJwRCwyQkFDRWpCLE9BSUl6TyxLQUFLcUosa0JBQ0ZDLGFBUG9CeUosRUFBYXpLLEdBQVcwSyxLQUFLcEgsR0FBUTJCLDZDQ1B0RDBGLFNBQ2MsWUFBeEJ6TCxTQUFTMEwsV0FDSixJQUFJQyxRQUFRLFNBQUNDLFlBQ1RsSCxpQkFBaUIsbUJBQW9CLGtCQUFNa0gsRUFBUUgsT0FJekRFLFFBQVFDLFFBQVFILDZCQ0xUSSxPQUNSakMsRUFBVzVKLFNBQVM2SixjQUFjLGNBQy9CaUMsVUFBWUQsRUFBS0UsV0FDcEJDLEVBQU9DLEdBQWdCckMsTUFDekJvQyxHQUFRQSxFQUFLRSxrQkFDUkYsRUFBS0UsaUJBRVIsSUFBSWpSLHFDQUFxQzRRLCtCQ1RqQzlMLE9BQ1ZvTSxRQUNBcE0sRUFBS3FNLFlBQWNyTSxFQUFLcU0sV0FBV0YsV0FBWSxLQUM3Q0csRUFBVXRNLEVBQUtxTSxXQUFXRixjQUVILElBQXJCRyxFQUFRckosVUFBa0JxSixJQUFZdE0sS0FDL0IzRyxLQUFLaVQsU0FFVEEsRUFBUUMsYUFBdUMsT0FBeEJELEVBQVFDLGNBQXlCRCxFQUFVQSxFQUFRQyxxQkFHOUVILHFEQ1hPMUksRUFBTzhJLFFBRWQ5SSxFQUFNMkksYUFBZTNJLEVBQVFBLEVBQU0ySSxhQUFlM0ksSUFBVThJLFdBRTVEdFcsUUFBUXdOLHNFQ0VEK0ksT0FDUkMsRUFBb0JELEVBQWN0QyxXQUFVLEdBQzlDd0MsS0FDQUMsRUFBbUIsS0FDbkJDLEVBQW1CLEtBRWpCQyxFQUFXLGVBQUNDLHlEQUFVLFVBQ25CQyxTQUFTQyxLQUFPRixHQUduQkcsRUFBUyxrQkFBTUMsS0FFZkMsRUFBWSxTQUFDQyxLQUNWLEtBQU9BLEdBNkJWRixFQUFnQixlQUVkRyxFQUFjTixTQUFTQyxLQUFLTSxNQUFNLEdBRWxDQyxFQWtFVixTQUFxQ0YsRUFBYUcsT0FDMUNDLEVBQWVKLEVBQVloSixNQUFNLEtBQ2pDcUosRUFBaUJELEVBQWEsVUFFN0JELEVBQVVHLE9BQU8sZ0JBQ2hCQyxFQUFtQkMsRUFBU3hKLE1BQU0sS0FDbEN5SixFQWFRLElBWlpGLEVBQ0czWSxJQUFJLFNBQUM4WSxFQUFZL1csVUFDb0IsSUFBaEMrVyxFQUFXNUosUUFBUSxJQUFLLElBR3JCNEosSUFBZU4sRUFBYXpXLEtBRXBDOUIsT0FBTyxTQUFDOFksRUFBY0MsVUFDVSxJQUEzQkEsS0FDQUQsRUFFR0EsR0FDTixVQUdvQyxJQUF6Q0gsRUFBUzFKLFFBQVF1SixFQUFnQixJQUNqQ0ksR0FDQUwsRUFBYTdXLFNBQVdnWCxFQUFpQmhYLFNBRTFDLEdBNUZvQ3NYLENBQTRCYixFQUFhL1osT0FBTytHLEtBQUtxUyxJQUN0RnlCLEtBQ0FaLE1Bc0NSLFNBQTRCYSxFQUFpQmYsT0FDckNJLEVBQWVKLEVBQVloSixNQUFNLFlBQ1ArSixFQUFnQi9KLE1BQU0sS0FHbkRwUCxJQUFJLFNBQUNvWixFQUFzQkMsT0FDb0IsSUFBMUNELEVBQXFCbEssUUFBUSxJQUFLLFVBQzdCLFNBRUhvSyxLQUNBbFYsRUFBTWdWLEVBQXFCRyxPQUFPLEVBQUdILEVBQXFCelgsT0FBUyxZQUM5RHlDLEdBQU9vVSxFQUFhYSxHQUN4QkMsSUFFUlosT0FBTyxtQkFBVyxPQUFOYyxJQUNadlosT0FBTyxTQUFDaUosRUFBS0MsVUFDUkEsVUFDSy9ELEtBQUsrRCxHQUFNN0QsUUFBUSxZQTNCbEMsSUFBc0NtVSxJQTZCeEJyVixJQTdCd0JxVixFQTZCWXRRLEVBQUsvRSxHQTVCaERzVixNQUFNRCxHQUdRLFNBQWZBLEdBQXdDLFVBQWZBLEVBQ3BCN1IsS0FBSzRILE1BQU1pSyxHQUViQSxFQUxFRSxTQUFTRixFQUFZLE9BOEJuQnZRLE9BM0RPMFEsQ0FBbUJ0QixFQUE4QkYsUUFHM0RELEVBQ0o5WixPQUFPK0csS0FBS3FTLEdBQVF2SSxRQUFRb0osSUFBaUMsRUFDekRiLEVBQU9hLEdBQ1BiLEVBWnlCLEtBYzNCVSxJQXBCQVIsSUFBcUI5VSxFQUFHQyxVQUFVNlUsRUFBaUJrQyxZQUNwQ0EsUUFBUXRDLEtBcUJOWSxFQXJDTSxjQUN0QlosRUFBY3JDLG1CQUliNEUsRUFBV3RDLEVBQWtCdkMsV0FBVSxHQUN6Q3NDLEdBQWlCQSxFQUFjckMsaUJBQ25CQSxjQUFjNkUsYUFBYUQsRUFBVXZDLE1BR3ZDQSxLQUNFdUMsUUE0QkR2QyxFQUFlMkIsRUFBYWYsRUFBYWhJLFFBSXBENkosRUFBUSxhQUNPL0osR0FBWXJDLE9BQVEsYUFBY3FLLFdBR25EUCxLQUNlbkksVUFHVnlLLFFBQU9DLFNBekRDLFNBQVhBLEVBQVlwQyxFQUFTTSxFQUFjaEksWUFDaEMwSCxHQUFXTSxJQUNYTixHQUFTMUgsS0FBT0EsR0FDZDZKLFFBQU9oQyxTQUFRaUMsV0FBVS9CLFlBQVdOLGFBc0RyQk0sWUFBV04sV0FBVUksdURDN0VqQ25ULEVBQVE3QyxFQUFNZ04sT0FBVUMsMERBQ2xDekQsRUFBU3lFLEdBQ1hwTCxFQUNBN0MsRUFDQSxhQUNTdU4sb0NBR1ROLFVBRUt6RCw0QkNSUDNHLEVBQ0E3QyxFQUNBZ04sT0FDQUMsMERBRUlpTCxHQUFTLEVBQ1QxTyxFQUFTeUUsR0FDWHBMLEVBQ0E3QyxFQUNBLFdBQ09rWSw4QkFJUGpMLDhCQUtTTSw4QkFHRSx3QkFHQSxxRkM3QkNuRiw4QkFBY0MsMERBQ3JCLFNBQVNDLFdBQ1JqSyxFQUFRaUssRUFBTW5MLFVBQ2R1QyxFQUFNMkksRUFBWTFJLE9BQ2hCNEksRUFBbUJsTSxPQUFuQmtNLDBCQUNDeEksT0FDRHlJLEVBQWFILEVBQVl0SSxHQUN6Qm9HLEVBQVM5SCxFQUFNbUssS0FDTm5LLEVBQU9tSyxTQUNiLDBDQUFZaEcsZ0RBRVIyRCxFQUFPMUQsTUFBTWxCLEtBQU1pQixHQUMxQixNQUFPb0YsS0FDR3RKLEtBQUtpRCxLQUFNcUcsZUFHZixLQVhMN0gsRUFBSSxFQUFHQSxFQUFJTCxFQUFLSyxNQUFoQkEsVUFjRnVJLG9DQ25CSzFKLEVBQUt3RCxPQUFLK1YsOERBQWVyWCxNQUNiLElBQXRCc0IsRUFBSThLLFFBQVEsaUJBQ2EsSUFBYnRPLEVBQUl3RCxHQUF1QnhELEVBQUl3RCxHQUFPK1YsVUFFaERDLEVBQVFoVyxFQUFJZ0wsTUFBTSxLQUNsQnpOLEVBQVN5WSxFQUFNelksT0FDakIwWSxFQUFTelosRUFFSm1CLEVBQUksRUFBR0EsRUFBSUosRUFBUUksWUFFSixPQURic1ksRUFBT0QsRUFBTXJZLG1CQUVYb1ksVUFJTkUsbUJDZk96WixFQUFLd0QsRUFBS3ZELE9BQ0UsSUFBdEJ1RCxFQUFJOEssUUFBUSxjQUlWa0wsRUFBUWhXLEVBQUlnTCxNQUFNLEtBQ2xCa0wsRUFBUUYsRUFBTXpZLE9BQVMsRUFDekIwWSxFQUFTelosRUFFSm1CLEVBQUksRUFBR0EsRUFBSXVZLEVBQU92WSxTQUNPLElBQXJCc1ksRUFBT0QsRUFBTXJZLFFBQ2ZxWSxFQUFNclksVUFFTnNZLEVBQU9ELEVBQU1yWSxNQUVqQnFZLEVBQU1FLElBQVV6WixTQWJqQnVELEdBQU92RCw0Q0NGQ0EsT0FBTzBaLHlEQUFVLFNBQUNyYSxFQUFHc2EsVUFBTUEsVUFBTTVTLEtBQUs0SCxNQUFNNUgsS0FBS0MsVUFBVWhILEdBQVEwWiwyQkNBbkV2YixVQUNkWCxPQUFPK0csS0FBS3BHLEdBQUdpQixPQUFPLFNBQUNFLEVBQUdELFVBQU1DLEVBQUVWLElBQUlTLEVBQUdsQixFQUFFa0IsS0FBSyxJQUFJWiJ9

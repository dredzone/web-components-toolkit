!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VoyaUtilityToolkit={})}(this,function(t){"use strict";var e=0,n=0,r=function(t){var r=Date.now();r===e?++n:(e=r,n=0);var o=""+String(r)+String(n);return t&&(o=t+"_"+o),o},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},c=Object.freeze,f=Object.setPrototypeOf,l=Object.getPrototypeOf,p=Object.hasOwnProperty,h=r("_wrappedMixin"),d=r("_appliedMixin"),y=r("_cachedApplication"),v=function(t){return function(t){return b(t,function(e){return function(t,e){for(;null!==t;){if(O(t,e))return!0;t=l(t)}return!1}(e.prototype,t)?e:t(e)})}(function(t){return b(t,function(e){var n=e[y];n||(n=e[y]=new Map);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r})}(function(t){return b(t,function(e){return function(t,e){var n=e(t);return n.prototype[d]=m(e),n}(e,t)})}(t)))},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return function t(){i(this,t)}}();return c({with:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(t){return v(t)}).reduce(function(t,e){return e(t)},t)}})};function b(t,e){return f(e,t),t[h]||(t[h]=t),e}function m(t){return t[h]||t}function O(t,e){return p.call(t,d)&&t[d]===m(e)}var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create.bind(null,null,{}),e=new WeakMap;return function(n){var r=e.get(n);return r||e.set(n,r=t(n)),r}},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.some(e)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.every(e)},j=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return E(n,t)}},A=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return P(n,t)}},C=Object.prototype.toString,_=["Map","Set","Symbol","Array","Object","String","Date","RegExp","Function","Boolean","Number","Null","Undefined","Arguments","Error","Request","Response","Headers","Blob"],S=_.length,z={},T=/\s([a-zA-Z]+)/,N=function(){for(var t={},e=function(e){var n=_[e].toLowerCase();t[n]=function(t){return x(t)===n},t[n].all=j(t[n]),t[n].any=A(t[n])},n=S;n--;)e(n);return t}(),k=function(t){return x(t)};function x(t){var e=C.call(t);if(!z[e]){var n=e.match(T);Array.isArray(n)&&n.length>1&&(z[e]=n[1].toLowerCase())}return z[e]}var R=function(t){return M(t,[],[])};function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return N.undefined(t)||N.null(t)||function(t){return N.boolean(t)||N.number(t)||N.string(t)}(t)||N.function(t)?t:function(t,e){var n={date:function(){return new Date(this.getTime())},regexp:function(){return new RegExp(this)},array:function(){return this.map(M)},map:function(){return new Map(Array.from(this.entries()))},set:function(){return new Set(Array.from(this.values()))},request:function(){return this.clone()},response:function(){return this.clone()},headers:function(){for(var t=new Headers,e=this.entries,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var o;if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var i=o,u=i[0],a=i[1];t.append(u,a)}return t},blob:function(){return new Blob([this],{type:this.type})},object:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.push(this);var r=Object.create(this);n.push(r);var o=function(o){var i=e.findIndex(function(e){return e===t[o]});r[o]=i>-1?n[i]:M(t[o],e,n)};for(var i in this)o(i);return r}};if(t in n){for(var r=n[t],o=arguments.length,i=Array(o>2?o-2:0),u=2;u<o;u++)i[u-2]=arguments[u];return r.apply(e,i)}return e}(k(t),t,e,n)}var D=function(t,e){return R(e)},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arrayMerge:D};return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=void 0,i=n.length;i>0;--i)o=B(n.pop(),o,t);return o}}();function B(t,e,n){if(N.undefined(e))return R(t);var r=k(t);return r===k(e)?function(t,e,n,r){var o={object:function(){var t={},o={source:Object.keys(e),target:Object.keys(n)};return o.source.concat(o.target).forEach(function(o){t[o]=B(e[o],n[o],r)}),t},array:function(){return r.arrayMerge.apply(null,[e,n])}};if(t in o)return o[t]();return R(n)}(r,t,e,n):R(e)}var U=Object.freeze({Get:"GET",Post:"POST",Put:"PUT",Patch:"PATCH",Delete:"DELETE"}),V=w(),H=function(t){function e(n){i(this,e);var r=s(this,t.call(this,n.status+" for "+n.url));return r.name="HttpError",r.response=n,r}return a(e,t),e}(Error),I=function(){function t(e){i(this,t),V(this).config=e}return t.prototype.catcher=function(e,n){var r=R(V(this).config);return r.catchers.set(e,n),new t(r)},t.prototype.middleware=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=R(V(this).config);return r.middleware=n?e:r.middleware.concat(e),new t(r)},t.prototype.url=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=R(V(this).config);return r.url=n?e:r.url+e,new t(r)},t.prototype.options=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=R(V(this).config);return r.options=n?L(r.options,e):Object.assign({},e),new t(r)},t.prototype.headers=function(e){var n=R(V(this).config);return n.options.headers=L(n.options.headers,e),new t(n)},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){return this.headers({"Content-Type":t})},t.prototype.mode=function(t){return this.options({mode:t})},t.prototype.credentials=function(t){return this.options({credentials:t})},t.prototype.cache=function(t){return this.options({cache:t})},t.prototype.integrity=function(t){return this.options({integrity:t})},t.prototype.keepalive=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.options({keepalive:t})},t.prototype.redirect=function(t){return this.options({redirect:t})},t.prototype.body=function(e){var n=R(V(this).config);return n.options.body=e,new t(n)},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.json=function(t){return this.content("application/json").body(JSON.stringify(t))},t.prototype.form=function(t){return this.body((e=t,Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent("object"===o(e[t])?JSON.stringify(e[t]):e[t])}).join("&"))).content("application/x-www-form-urlencoded");var e},t.prototype.method=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.Get;return this.options({method:t})},t.prototype.get=function(){return this.method(U.Get).send()},t.prototype.post=function(){return this.method(U.Post).send()},t.prototype.insert=function(){return this.method(U.Put).send()},t.prototype.update=function(){return this.method(U.Patch).send()},t.prototype.delete=function(){return this.method(U.Delete).send()},t.prototype.send=function(){var t,e=this,n=V(this).config,r=n.url,o=n.options,i=n.middleware,u=n.resolvers,a=n.catchers,s=(t=i,function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight(function(n,r,o){return o===t.length-2?r(n(e)):r(n)})})(fetch)(r,o).then(function(t){if(!t.ok)throw new H(t);return t}),c=function(t){return t.catch(function(t){if(a.has(t.status))return a.get(t.status)(t,e);if(a.has(t.name))return a.get(t.name)(t,e);throw t})},f=function(t){return function(e){return c(t?s.then(function(e){return e&&e[t]()}).then(function(t){return t&&e&&e(t)||t}):s.then(function(t){return t&&e&&e(t)||t}))}},l={res:f(null),json:f("json")};return u.reduce(function(t,e){return e(t,o)},l)},t}();var J=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.unshift(u),t.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},W=0,G=0,F=[],q=0,Z=document.createTextNode("");new MutationObserver(function(){for(var t=F.length,e=0;e<t;e++){var n=F[e];if(n&&"function"==typeof n)try{n()}catch(t){setTimeout(function(){throw t})}}F.splice(0,t),G+=t}).observe(Z,{characterData:!0});var $=function(t){return Z.textContent=String(q++),F.push(t),W++};var K=Object.freeze({run:$,cancel:function(t){var e=t-G;if(e>=0){if(!F[e])throw new Error("invalid async handle: "+t);F[e]=null}}}),Q=document.defaultView;if("function"!=typeof Q.HTMLElement){var X=function(){};X.prototype=Q.HTMLElement.prototype,Q.HTMLElement=X}var Y=function(t){var e=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"],n=Object.defineProperty,r=Object.hasOwnProperty,o=w();return t||(t=function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e}(Q.HTMLElement)),function(t){function c(){i(this,c);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=s(this,t.call.apply(t,[this].concat(n)));return o.construct(),o}return a(c,t),c.finalizeClass=function(){},c.define=function(t){var i=customElements;if(!i.get(t)){var u=this.prototype;e.forEach(function(t){r.call(u,t)||n(u,t,{value:function(){},configurable:!0});var e=t.substring(0,t.length-"callback".length),o=u[t];n(u,t,{value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this[e].apply(this,n),o.apply(this,n)},configurable:!0})}),this.finalizeClass(),J(function(t){o(this).connected=!0,o(this).initialized||(o(this).initialized=!0,t.call(this),this.render())},"connected")(this),J(function(t){var e=this;o(e).connected=!1,$(function(){!o(e).connected&&o(e).initialized&&(o(e).initialized=!1,t.call(e))})},"disconnected")(this),J(function(t){var e=this;if(!o(e).rendering){var n=void 0===o(e).rendering;o(e).rendering=!0,$(function(){o(e).rendering&&(o(e).rendering=!1,e._onRender(n),t.call(e),e._postRender(n))})}},"render")(this),i.define(t,this)}},u(c,[{key:"initialized",get:function(){return!0===o(this).initialized}}],[{key:"observedAttributes",get:function(){return[]}}]),c.prototype.construct=function(){},c.prototype.attributeChanged=function(t,e,n){},c.prototype.connected=function(){},c.prototype.disconnected=function(){},c.prototype.adopted=function(){},c.prototype.render=function(){},c.prototype._onRender=function(){},c.prototype._postRender=function(){},c}(t)},tt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=u.apply(this,n);return t.apply(this,n),o},writable:!0})},a=0;a<o;a++)u(a);return e}},et=!["undefined"==typeof window?"undefined":o(window),"undefined"==typeof document?"undefined":o(document)].includes("undefined"),nt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),u.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Node.ELEMENT_NODE,n=t.childNodes,r=[];if(n&&n.length>0)for(var o=n.length;o--;)n[o].nodeType===e&&r.unshift(n[o]);return r},ot=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){if(et)return t.apply(void 0,arguments);if(e)throw new Error(t.name+" for browser use only")}}(function(t){return function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.finalizeClass=function(){var e;t.finalizeClass.call(this),nt((e=/-([a-z])/g,function(t){var n=this;if(t){var r=rt(n);r.forEach(function(t){var r=t.getAttribute?t.getAttribute("slot"):null;if("string"==typeof r&&r.length>0){var o=r.replace(e,function(t){return t[1].toUpperCase()});n.slots[o]=t}else n.slots.default.push(t)}),n.slotsAssigned()}}),"_onRender")(this)},e.prototype.construct=function(){t.prototype.construct.call(this),this.slots={default:[]}},e.prototype.slotsAssigned=function(){},e}(t)}),it=function(t,e,n){return function(t,e,n,r){if(e.indexOf(",")>-1){var o=e.split(/\s*,\s*/),i=o.map(function(e){return ut(t,e,n,r)});return{remove:function(){this.remove=function(){};for(var t=void 0;t=i.pop();)t.remove()}}}return ut(t,e,n,r)}(t,e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])};function ut(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),{remove:function(){this.remove=function(){},t.removeEventListener(e,n,r)}};throw new Error("target must be an event emitter")}var at=function(t){var e=Object.assign,n=w(function(){return{handlers:[]}}),r={bubbles:!1,cancelable:!1};return function(t){function o(){return i(this,o),s(this,t.apply(this,arguments))}return a(o,t),o.finalizeClass=function(){t.finalizeClass.call(this),tt(function(){this.off()},"disconnected")(this)},o.prototype.handleEvent=function(t){var e="on"+t.type;"function"==typeof this[e]&&this[e](t)},o.prototype.on=function(t,e,n){this.own(it(this,t,e,n))},o.prototype.dispatch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dispatchEvent(new CustomEvent(t,e(r,{detail:n})))},o.prototype.off=function(){n(this).handlers.forEach(function(t){t.remove()})},o.prototype.own=function(){for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];r.forEach(function(e){n(t).handlers.push(e)})},o}(t)},st=function(t){var e=Object.defineProperty,n=Object.keys,r=Object.assign,c={},f={},l=w(),p=void 0,h={},d={};function y(t){var e,n={};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var o=t[r];n[r]="function"==typeof o?{type:o}:o,(e=n[r]).hasObserver="observer"in e,e.isObserverString=e.hasObserver&&"string"==typeof e.observer,e.isString=e.type===String,e.isNumber=e.type===Number,e.isBoolean=e.type===Boolean,e.isObject=e.type===Object,e.isArray=e.type===Array,e.isDate=e.type===Date,e.notify="notify"in e,e.readOnly="readOnly"in e&&e.readOnly,e.reflectToAttribute="reflectToAttribute"in e?e.reflectToAttribute:e.isString||e.isNumber||e.isBoolean}return n}return function(t){function v(){return i(this,v),s(this,t.apply(this,arguments))}return a(v,t),v.finalizeClass=function(){t.finalizeClass.call(this),nt(function(){Object.keys(l(this).initializeProperties).length>0&&(r(this,l(this).initializeProperties),l(this).initializeProperties={}),this._flushProperties()},"connected")(this),nt(function(t,e,n){e!==n&&this._attributeToProperty(t,n)},"attributeChanged")(this),nt(function(t,e,n){var r=this,o=this;Object.keys(e).forEach(function(t){var i=o.constructor.classProperties[t],u=i.notify,a=i.hasObserver,s=i.reflectToAttribute,c=i.isObserverString,f=i.observer;s&&o._propertyToAttribute(t,e[t]),a&&c?r[f](e[t],n[t]):a&&"function"==typeof f&&f.apply(o,[e[t],n[t]]),u&&o.dispatchEvent(new CustomEvent(t+"-changed",{detail:{newValue:e[t],oldValue:n[t]}}))})},"propertiesChanged")(this),this.createProperties()},v.attributeToPropertyName=function(t){var e=c[t];if(!e){e=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),c[t]=e}return e},v.propertyNameToAttribute=function(t){var e=f[t];if(!e){e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),f[t]=e}return e},v.createProperties=function(){var t=this.prototype,e=this.classProperties;n(e).forEach(function(n){if(Object.hasOwnProperty.call(t,n))throw new Error("Unable to setup property '"+n+"', property already exists");var r=e[n].value;void 0!==r&&(d[n]=r),t._createPropertyAccessor(n,e[n].readOnly)})},v.prototype.construct=function(){t.prototype.construct.call(this),l(this).data={},l(this).serializing=!1,l(this).initializeProperties={},l(this).dataPending=null,l(this).dataOld=null,l(this).dataInvalid=!1,this._initializeProtoProperties(),this._initializeProperties()},v.prototype.propertiesChanged=function(t,e,n){},v.prototype._createPropertyAccessor=function(t,n){h[t]||(h[t]=!0,e(this,t,{enumerable:!0,configurable:!0,get:function(){return this._getProperty(t)},set:n?function(){}:function(e){this._setProperty(t,e)}}))},v.prototype._getProperty=function(t){return l(this).data[t]},v.prototype._setProperty=function(t,e){this._isValidPropertyValue(t,e)?this._setPendingProperty(t,e)&&this._invalidateProperties():console.log("invalid value "+e+" for property "+t+" of\n\t\t\t\t\ttype "+this.constructor.classProperties[t].type.name)},v.prototype._initializeProtoProperties=function(){var t=this;Object.keys(d).forEach(function(e){var n="function"==typeof d[e]?d[e].call(t):d[e];t._setProperty(e,n)})},v.prototype._initializeProperties=function(){var t=this;Object.keys(h).forEach(function(e){Object.hasOwnProperty.call(t,e)&&(l(t).initializeProperties[e]=t[e],delete t[e])})},v.prototype._attributeToProperty=function(t,e){if(!l(this).serializing){var n=this.constructor.attributeToPropertyName(t);this[n]=this._deserializeValue(n,e)}},v.prototype._isValidPropertyValue=function(t,e){var n=this.constructor.classProperties[t].type;return"object"===(void 0===e?"undefined":o(e))?e instanceof n:""+(void 0===e?"undefined":o(e))===n.name.toLowerCase()},v.prototype._propertyToAttribute=function(t,e){l(this).serializing=!0;var n=this.constructor.propertyNameToAttribute(t);void 0===(e=this._serializeValue(t,e))?this.removeAttribute(n):this.getAttribute(n)!==e&&this.setAttribute(n,e),l(this).serializing=!1},v.prototype._deserializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isNumber,o=n.isArray,i=n.isBoolean,u=n.isDate,a=n.isString,s=n.isObject;return i?e=null!==e&&void 0!==e:r?e=null===e||void 0===e?0:Number(e):a?e=null===e||void 0===e?"":String(e):s||o?e=null===e||void 0===e?o?null:{}:JSON.parse(e):u&&(e=null===e||void 0===e?"":new Date(e)),e},v.prototype._serializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isBoolean,o=n.isObject,i=n.isArray;return r?e?"":void 0:o||i?JSON.stringify(e):e=e?e.toString():void 0},v.prototype._setPendingProperty=function(t,e){var n=l(this).data[t],r=this._shouldPropertyChange(t,e,n);return r&&(l(this).dataPending||(l(this).dataPending={},l(this).dataOld={}),!l(this).dataOld||t in l(this).dataOld||(l(this).dataOld[t]=n),l(this).data[t]=e,l(this).dataPending[t]=e),r},v.prototype._invalidateProperties=function(){var t=this;l(this).dataInvalid||(l(this).dataInvalid=!0,$(function(){l(t).dataInvalid&&(l(t).dataInvalid=!1,t._flushProperties())}))},v.prototype._flushProperties=function(){var t=l(this).data,e=l(this).dataPending,n=l(this).dataOld;this._shouldPropertiesChange(t,e,n)&&(l(this).dataPending=null,l(this).dataOld=null,this.propertiesChanged(t,e,n))},v.prototype._shouldPropertiesChange=function(t,e,n){return Boolean(e)},v.prototype._shouldPropertyChange=function(t,e,n){return n!==e&&(n==n||e==e)},u(v,null,[{key:"observedAttributes",get:function(){var t=this;return Object.keys(this.classProperties).map(function(e){return t.propertyNameToAttribute(e)})||[]}},{key:"classProperties",get:function(){if(!p){for(var t=function(){return p||{}},e=null,n=!0;n;)(e=Object.getPrototypeOf(null===e?this:e))&&e.constructor&&e.constructor!==HTMLElement&&e.constructor!==Function&&e.constructor!==Object&&e.constructor!==e.constructor.constructor||(n=!1),Object.hasOwnProperty.call(e,"properties")&&(p=r(t(),y(e.properties)));this.properties&&(p=r(t(),y(this.properties)))}return p}}]),v}(t)},ct=function(t){if("content"in document.createElement("template"))return document.importNode(t.content,!0);for(var e=document.createDocumentFragment(),n=t.childNodes,r=0;r<n.length;r++)e.appendChild(n[r].cloneNode(!0));return e},ft=function(t){t.parentElement&&t.parentElement.removeChild(t)};t.classBuilder=g,t.createStorage=w,t.http=function(){return new I(Object.assign({},{url:"",options:{},catchers:new Map,resolvers:[],middleware:[]}))},t.is=N,t.customElement=Y,t.customElementState=function(t){var e=Object.assign,n=w();return function(t){function r(){return i(this,r),s(this,t.apply(this,arguments))}return a(r,t),r.finalizeClass=function(){t.finalizeClass.call(this),tt(function(t){t?this.componentWillRender(this.state):this.componentWillUpdate(this.state,e({},n(this).renderedState))},"_onRender")(this),tt(function(t){var e=n(this).renderedState;n(this).renderedState=n(this).state,t?this.componentDidRender(e):this.componentDidUpdate(e)},"_postRender")(this)},r.prototype.construct=function(){t.prototype.construct.call(this),this.setState(this.defaultState)},r.prototype.shouldComponentUpdate=function(t){for(var e in t)if(t[e]!==n(this).state[e])return!0;return!1},r.prototype.setState=function(t){var r=e({},n(this).state,t);(void 0===n(this).state||this.shouldComponentUpdate(r))&&(n(this).state=r,this.initialized&&this.render())},r.prototype.componentWillRender=function(t){},r.prototype.componentDidRender=function(t){},r.prototype.componentWillUpdate=function(t,e){},r.prototype.componentDidUpdate=function(t){},u(r,[{key:"defaultState",get:function(){return{}}},{key:"state",get:function(){return e({},n(this).state)}}]),r}(t)},t.customElementSlots=ot,t.customElementEvents=at,t.customElementProperties=st,t.customElementComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return function(t){function e(){return i(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.prototype.propertiesChanged=function(t,e,n){this.initialized&&this.render()},e}(g(t).with(at,st))},t.microTask=K,t.documentReady=function(t){return"loading"===document.readyState?new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e(t)})}):Promise.resolve(t)},t.createElement=function(t){var e=document.createElement("template");e.innerHTML=t.trim();var n=ct(e);if(n&&n.firstChild)return n.firstChild;throw new Error("Unable to createElement for "+t)},t.elementSiblings=function(t){var e=[];if(t.parentNode&&t.parentNode.firstChild){var n=t.parentNode.firstChild;do{1===n.nodeType&&n!==t&&e.push(n)}while(n.nextSibling&&null!==n.nextSibling&&(n=n.nextSibling))}return e},t.removeElement=ft,t.isDescendantElement=function(t,e){for(;t.parentNode&&(t=t.parentNode)&&t!==e;);return Boolean(t)},t.elementChildren=rt,t.templateContent=ct,t.createRouter=function(t){var e=t.cloneNode(!0),n={},r=null,o=null,i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.location.hash=t},u=function(){return s()},a=function(t){n["*"]=t},s=function(){var r=location.hash.slice(1),i=function(t,e){var n=t.split("/"),r=n[0];return e.filter(function(t){var e=t.split("/"),o=0===e.map(function(t,e){return-1!==t.indexOf(":",0)||t===n[e]}).reduce(function(t,e){return!1===e&&++t,t},0);return-1!==t.indexOf(r,0)&&o&&n.length===e.length})[0]}(r,Object.keys(n)),u={};i&&(u=function(t,e){var n=e.split("/");return t.split("/").map(function(t,e){if(-1===t.indexOf(":",0))return null;var r={},o=t.substr(1,t.length-1);return r[o]=n[e],r}).filter(function(t){return null!==t}).reduce(function(t,e){return e&&Object.keys(e).forEach(function(n){var r;t[n]=(r=e[n],isNaN(r)?"true"===r||"false"===r?JSON.parse(r):r:parseInt(r,10))}),t},{})}(i,r));var a=Object.keys(n).indexOf(i)>-1?n[i]:n["*"];a&&(o&&!N.undefined(o.dispose)&&o.dispose(t),o=a,function(){if(t.parentElement){var n=e.cloneNode(!0);t&&t.parentElement&&t.parentElement.insertBefore(n,t),ft(t),t=n}}(),a(t,u,a.data))},c=function(){r=it(window,"hashchange",s)};return r&&r.remove(),{start:c,addRoute:function t(e,r,o){return n[e]=r,n[e].data=o,{start:c,reload:u,addRoute:t,otherwise:a,navigate:i}},otherwise:a,navigate:i,reload:u}},t.listenEvent=it,t.listenEventOnce=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=it(t,e,function(){o.remove(),n.apply(void 0,arguments)},r);return o},t.pausableEvent=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!1,i=it(t,e,function(){o||n.apply(void 0,arguments)},r);return{remove:function(){i.remove()},pause:function(){o=!0},resume:function(){o=!1}}},t.adviceBefore=nt,t.adviceAround=J,t.adviceAfter=tt,t.adviceAfterThrow=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){try{for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return u.apply(this,n)}catch(e){t.call(this,e)}},writable:!0})},a=0;a<o;a++)u(a);return e}},t.any=P,t.all=E,t.dget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(-1===e.indexOf("."))return void 0!==t[e]?t[e]:n;for(var r=e.split("."),o=r.length,i=t,u=0;u<o;u++)if(void 0===(i=i[r[u]]))return void(i=n);return i},t.dset=function(t,e,n){if(-1!==e.indexOf(".")){for(var r=e.split("."),o=r.length-1,i=t,u=0;u<o;u++)void 0===i[r[u]]&&(i[r[u]]={}),i=i[r[u]];i[r[o]]=n}else t[e]=n},t.clone=R,t.merge=L,t.jsonClone=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return e};return JSON.parse(JSON.stringify(t),e)},t.objectToMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91bmlxdWUtaWQuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci5qcyIsIi4uLy4uL2xpYi9jcmVhdGUtc3RvcmFnZS5qcyIsIi4uLy4uL2xpYi9hcnJheS9hbnkuanMiLCIuLi8uLi9saWIvYXJyYXkvYWxsLmpzIiwiLi4vLi4vbGliL3R5cGUuanMiLCIuLi8uLi9saWIvb2JqZWN0L2Nsb25lLmpzIiwiLi4vLi4vbGliL29iamVjdC9tZXJnZS5qcyIsIi4uLy4uL2xpYi9odHRwLmpzIiwiLi4vLi4vbGliL2FkdmljZS9hcm91bmQuanMiLCIuLi8uLi9saWIvZG9tL21pY3JvdGFzay5qcyIsIi4uLy4uL2xpYi93ZWItY29tcG9uZW50cy9jdXN0b20tZWxlbWVudC5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYWZ0ZXIuanMiLCIuLi8uLi9saWIvZW52aXJvbm1lbnQuanMiLCIuLi8uLi9saWIvYWR2aWNlL2JlZm9yZS5qcyIsIi4uLy4uL2xpYi9kb20vZWxlbWVudC1jaGlsZHJlbi5qcyIsIi4uLy4uL2xpYi93ZWItY29tcG9uZW50cy9jdXN0b20tZWxlbWVudC1zbG90cy5qcyIsIi4uLy4uL2xpYi9kb20tZXZlbnRzL2xpc3Rlbi1ldmVudC5qcyIsIi4uLy4uL2xpYi93ZWItY29tcG9uZW50cy9jdXN0b20tZWxlbWVudC1ldmVudHMuanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtcHJvcGVydGllcy5qcyIsIi4uLy4uL2xpYi9kb20vdGVtcGxhdGUtY29udGVudC5qcyIsIi4uLy4uL2xpYi9kb20vcmVtb3ZlLWVsZW1lbnQuanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtc3RhdGUuanMiLCIuLi8uLi9saWIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtY29tcG9uZW50LmpzIiwiLi4vLi4vbGliL2RvbS9kb2N1bWVudC1yZWFkeS5qcyIsIi4uLy4uL2xpYi9kb20vY3JlYXRlLWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtc2libGluZ3MuanMiLCIuLi8uLi9saWIvZG9tL2lzLWRlc2NlbmRhbnQtZWxlbWVudC5qcyIsIi4uLy4uL2xpYi9kb20vcm91dGVyLmpzIiwiLi4vLi4vbGliL2RvbS1ldmVudHMvbGlzdGVuLWV2ZW50LW9uY2UuanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9wYXVzYWJsZS1ldmVudC5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYWZ0ZXItdGhyb3cuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RnZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RzZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2pzb24tY2xvbmUuanMiLCIuLi8uLi9saWIvb2JqZWN0L29iamVjdC10by1tYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogICovXG5cbmxldCBwcmV2VGltZUlkID0gMDtcbmxldCBwcmV2VW5pcXVlSWQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCAocHJlZml4KSA9PiB7XG4gIGxldCBuZXdVbmlxdWVJZCA9IERhdGUubm93KCk7XG4gIGlmIChuZXdVbmlxdWVJZCA9PT0gcHJldlRpbWVJZCkge1xuICAgICsrcHJldlVuaXF1ZUlkO1xuICB9IGVsc2Uge1xuICAgIHByZXZUaW1lSWQgPSBuZXdVbmlxdWVJZDtcbiAgICBwcmV2VW5pcXVlSWQgPSAwO1xuICB9XG5cbiAgbGV0IHVuaXF1ZUlkID0gYCR7U3RyaW5nKG5ld1VuaXF1ZUlkKX0ke1N0cmluZyhwcmV2VW5pcXVlSWQpfWA7XG4gIGlmIChwcmVmaXgpIHtcbiAgICB1bmlxdWVJZCA9IGAke3ByZWZpeH1fJHt1bmlxdWVJZH1gO1xuICB9XG4gIHJldHVybiB1bmlxdWVJZDtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCB1bmlxdWVJZCBmcm9tICcuL3VuaXF1ZS1pZC5qcyc7XG5cbmNvbnN0IHsgZnJlZXplLCBzZXRQcm90b3R5cGVPZiwgZ2V0UHJvdG90eXBlT2YsIGhhc093blByb3BlcnR5IH0gPSBPYmplY3Q7XG5cbi8vIHVzZWQgYnkgd3JhcCgpIGFuZCB1bndyYXAoKVxuY29uc3Qgd3JhcHBlZE1peGluS2V5ID0gdW5pcXVlSWQoJ193cmFwcGVkTWl4aW4nKTtcblxuLy8gdXNlZCBieSBhcHBseU1peGluKCkgYW5kIGlzQXBwbGljYXRpb25PZigpXG5jb25zdCBhcHBsaWVkTWl4aW5LZXkgPSB1bmlxdWVJZCgnX2FwcGxpZWRNaXhpbicpO1xuXG4vLyB1c2VkIGJ5IGNhY2hlIG1peGluIGRlY29yYXRvclxuY29uc3QgY2FjaGVkQXBwbGljYXRpb25LZXkgPSB1bmlxdWVJZCgnX2NhY2hlZEFwcGxpY2F0aW9uJyk7XG5cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1peGluID0gKG1peGluKSA9PiBkZWR1cGVNaXhpbihjYWNoZU1peGluKGRlY2xhcmVNaXhpbihtaXhpbikpKTtcblxuZXhwb3J0IGRlZmF1bHQgKEN0b3IgPSBjbGFzcyB7fSkgPT5cbiAgZnJlZXplKHtcbiAgICB3aXRoKC4uLm1peGlucykge1xuICAgICAgcmV0dXJuIG1peGlucy5tYXAoKG1peGluKSA9PiBjcmVhdGVNaXhpbihtaXhpbikpLnJlZHVjZSgoaywgbSkgPT4gbShrKSwgQ3Rvcik7XG4gICAgfVxuICB9KTtcblxuLyoqXG4gKiBTZXRzIHVwIHRoZSBmdW5jdGlvbiBgbWl4aW5gIHRvIGJlIHdyYXBwZWQgYnkgdGhlIGZ1bmN0aW9uIGB3cmFwcGVyYCwgd2hpbGVcbiAqIGFsbG93aW5nIHByb3BlcnRpZXMgb24gYG1peGluYCB0byBiZSBhdmFpbGFibGUgdmlhIGB3cmFwcGVyYCwgYW5kIGFsbG93aW5nXG4gKiBgd3JhcHBlcmAgdG8gYmUgdW53cmFwcGVkIHRvIGdldCB0byB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gKlxuICogYHdyYXBgIGRvZXMgdHdvIHRoaW5nczpcbiAqICAgMS4gU2V0cyB0aGUgcHJvdG90eXBlIG9mIGBtaXhpbmAgdG8gYHdyYXBwZXJgIHNvIHRoYXQgcHJvcGVydGllcyBzZXQgb25cbiAqICAgICAgYG1peGluYCBpbmhlcml0ZWQgYnkgYHdyYXBwZXJgLlxuICogICAyLiBTZXRzIGEgc3BlY2lhbCBwcm9wZXJ0eSBvbiBgbWl4aW5gIHRoYXQgcG9pbnRzIGJhY2sgdG8gYG1peGluYCBzbyB0aGF0XG4gKiAgICAgIGl0IGNhbiBiZSByZXRyZWl2ZWQgZnJvbSBgd3JhcHBlcmBcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIEEgbWl4aW4gZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgQSBmdW5jdGlvbiB0aGF0IHdyYXBzIHtAbGluayBtaXhpbn1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBgd3JhcHBlcmBcbiAqL1xuZnVuY3Rpb24gd3JhcChtaXhpbiwgd3JhcHBlcikge1xuICBzZXRQcm90b3R5cGVPZih3cmFwcGVyLCBtaXhpbik7XG4gIGlmICghbWl4aW5bd3JhcHBlZE1peGluS2V5XSkge1xuICAgIG1peGluW3dyYXBwZWRNaXhpbktleV0gPSBtaXhpbjtcbiAgfVxuICByZXR1cm4gd3JhcHBlcjtcbn1cblxuLyoqXG4gKiBVbndyYXBzIHRoZSBmdW5jdGlvbiBgd3JhcHBlcmAgdG8gcmV0dXJuIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3cmFwcGVkIGJ5XG4gKiBvbmUgb3IgbW9yZSBjYWxscyB0byBgd3JhcGAuIFJldHVybnMgYHdyYXBwZXJgIGlmIGl0J3Mgbm90IGEgd3JhcHBlZFxuICogZnVuY3Rpb24uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIEEgd3JhcHBlZCBtaXhpbiBwcm9kdWNlZCBieSB7QGxpbmsgd3JhcH1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgb3JpZ2luYWxseSB3cmFwcGVkIG1peGluXG4gKi9cbmZ1bmN0aW9uIHVud3JhcCh3cmFwcGVyKSB7XG4gIHJldHVybiB3cmFwcGVyW3dyYXBwZWRNaXhpbktleV0gfHwgd3JhcHBlcjtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIGBtaXhpbmAgdG8gYHN1cGVyY2xhc3NgLlxuICpcbiAqIGBhcHBseWAgc3RvcmVzIGEgcmVmZXJlbmNlIGZyb20gdGhlIG1peGluIGFwcGxpY2F0aW9uIHRvIHRoZSB1bndyYXBwZWQgbWl4aW5cbiAqIHRvIG1ha2UgYGlzQXBwbGljYXRpb25PZmAgYW5kIGBoYXNNaXhpbmAgd29yay5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bGwgZm9yIG1peGluIHdyYXBwZXJzIHRoYXQgd2FudCB0byBhdXRvbWF0aWNhbGx5IGVuYWJsZVxuICoge0BsaW5rIGhhc01peGlufSBzdXBwb3J0LlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJDbGFzcyBBIGNsYXNzIG9yIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gdG8gYXBwbHlcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIHN1YmNsYXNzIG9mIGBzdXBlcmNsYXNzYCBwcm9kdWNlZCBieSBgbWl4aW5gXG4gKi9cbmZ1bmN0aW9uIGFwcGx5TWl4aW4oc3VwZXJDbGFzcywgbWl4aW4pIHtcbiAgbGV0IGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gIGNvbnN0IHByb3RvID0gYXBwbGljYXRpb24ucHJvdG90eXBlO1xuICBwcm90b1thcHBsaWVkTWl4aW5LZXldID0gdW53cmFwKG1peGluKTtcbiAgcmV0dXJuIGFwcGxpY2F0aW9uO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmZiBgcHJvdG9gIGlzIGEgcHJvdG90eXBlIGNyZWF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uIG9mXG4gKiBgbWl4aW5gIHRvIGEgc3VwZXJjbGFzcy5cbiAqXG4gKiBgaXNBcHBsaWNhdGlvbk9mYCB3b3JrcyBieSBjaGVja2luZyB0aGF0IGBwcm90b2AgaGFzIGEgcmVmZXJlbmNlIHRvIGBtaXhpbmBcbiAqIGFzIGNyZWF0ZWQgYnkgYGFwcGx5YC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBBIHByb3RvdHlwZSBvYmplY3QgY3JlYXRlZCBieSB7QGxpbmsgYXBwbHl9LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gQSBtaXhpbiBmdW5jdGlvbiB1c2VkIHdpdGgge0BsaW5rIGFwcGx5fS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgYHByb3RvYCBpcyBhIHByb3RvdHlwZSBjcmVhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbiBvZlxuICogYG1peGluYCB0byBhIHN1cGVyY2xhc3NcbiAqL1xuZnVuY3Rpb24gaXNBcHBsaWNhdGlvbk9mKHByb3RvLCBtaXhpbikge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgYXBwbGllZE1peGluS2V5KSAmJiBwcm90b1thcHBsaWVkTWl4aW5LZXldID09PSB1bndyYXAobWl4aW4pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmZiBgb2AgaGFzIGFuIGFwcGxpY2F0aW9uIG9mIGBtaXhpbmAgb24gaXRzIHByb3RvdHlwZVxuICogY2hhaW4uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gbyBBbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIEEgbWl4aW4gYXBwbGllZCB3aXRoIHtAbGluayBhcHBseX1cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgYG9gIGhhcyBhbiBhcHBsaWNhdGlvbiBvZiBgbWl4aW5gIG9uIGl0cyBwcm90b3R5cGVcbiAqIGNoYWluXG4gKi9cbmZ1bmN0aW9uIGhhc01peGluKG8sIG1peGluKSB7XG4gIHdoaWxlIChvICE9PSBudWxsKSB7XG4gICAgaWYgKGlzQXBwbGljYXRpb25PZihvLCBtaXhpbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvID0gZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgYmFzaWMgbWl4aW4gZGVjb3JhdG9yIHRoYXQgYXBwbGllcyB0aGUgbWl4aW4gd2l0aCB7QGxpbmsgYXBwbHlNaXhpbn0gc28gdGhhdCBpdFxuICogY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgaXNBcHBsaWNhdGlvbk9mfSwge0BsaW5rIGhhc01peGlufSBhbmQgdGhlIG90aGVyXG4gKiBtaXhpbiBkZWNvcmF0b3IgZnVuY3Rpb25zLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIHdyYXBcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIG5ldyBtaXhpbiBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWNsYXJlTWl4aW4obWl4aW4pIHtcbiAgcmV0dXJuIHdyYXAobWl4aW4sIChzdXBlckNsYXNzKSA9PiBhcHBseU1peGluKHN1cGVyQ2xhc3MsIG1peGluKSk7XG59XG5cbi8qKlxuICogRGVjb3JhdGVzIGBtaXhpbmAgc28gdGhhdCBpdCBvbmx5IGFwcGxpZXMgaWYgaXQncyBub3QgYWxyZWFkeSBvbiB0aGVcbiAqIHByb3RvdHlwZSBjaGFpbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiB0byB3cmFwIHdpdGggZGVkdXBsaWNhdGlvbiBiZWhhdmlvclxuICogQHJldHVybiB7RnVuY3Rpb259IGEgbmV3IG1peGluIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlZHVwZU1peGluKG1peGluKSB7XG4gIHJldHVybiB3cmFwKFxuICAgIG1peGluLFxuICAgIChzdXBlckNsYXNzKSA9PiAoaGFzTWl4aW4oc3VwZXJDbGFzcy5wcm90b3R5cGUsIG1peGluKSA/IHN1cGVyQ2xhc3MgOiBtaXhpbihzdXBlckNsYXNzKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBEZWNvcmF0ZSB0aGUgZ2l2ZW4gbWl4aW4gY2xhc3Mgd2l0aCBhIFwiY2FjaGVkIGRlY29yYXRvclwiLlxuICpcbiAqIE1ldGhvZCB3aWxsIGVuc3VyZSB0aGF0IGlmIHRoZSBnaXZlbiBtaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQsXG4gKiB0aGVuIGl0IHdpbGwgYmUgcmV0dXJuZWQgLyBhcHBsaWVkIGEgc2luZ2xlIHRpbWUsIHJhdGhlciB0aGFuIG11bHRpcGxlXG4gKiB0aW1lcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpblxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjYWNoZU1peGluKG1peGluKSB7XG4gIHJldHVybiB3cmFwKG1peGluLCAoc3VwZXJDbGFzcykgPT4ge1xuICAgIGxldCBjYWNoZWRBcHBsaWNhdGlvbiA9IHN1cGVyQ2xhc3NbY2FjaGVkQXBwbGljYXRpb25LZXldO1xuICAgIGlmICghY2FjaGVkQXBwbGljYXRpb24pIHtcbiAgICAgIGNhY2hlZEFwcGxpY2F0aW9uID0gc3VwZXJDbGFzc1tjYWNoZWRBcHBsaWNhdGlvbktleV0gPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGxldCBhcHBsaWNhdGlvbiA9IGNhY2hlZEFwcGxpY2F0aW9uLmdldChtaXhpbik7XG4gICAgaWYgKCFhcHBsaWNhdGlvbikge1xuICAgICAgYXBwbGljYXRpb24gPSBtaXhpbihzdXBlckNsYXNzKTtcbiAgICAgIGNhY2hlZEFwcGxpY2F0aW9uLnNldChtaXhpbiwgYXBwbGljYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gYXBwbGljYXRpb247XG4gIH0pO1xufVxuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoY3JlYXRvciA9IE9iamVjdC5jcmVhdGUuYmluZChudWxsLCBudWxsLCB7fSkpID0+IHtcbiAgbGV0IHN0b3JlID0gbmV3IFdlYWtNYXAoKTtcbiAgcmV0dXJuIChvYmopID0+IHtcbiAgICBsZXQgdmFsdWUgPSBzdG9yZS5nZXQob2JqKTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBzdG9yZS5zZXQob2JqLCAodmFsdWUgPSBjcmVhdG9yKG9iaikpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGFyciwgZm4gPSBCb29sZWFuKSA9PiBhcnIuc29tZShmbik7XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChhcnIsIGZuID0gQm9vbGVhbikgPT4gYXJyLmV2ZXJ5KGZuKTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgYWxsLCBhbnkgfSBmcm9tICcuL2FycmF5LmpzJztcblxuXG5cblxuY29uc3QgZG9BbGxBcGkgPSAoZm4pID0+ICguLi5wYXJhbXMpID0+IGFsbChwYXJhbXMsIGZuKTtcbmNvbnN0IGRvQW55QXBpID0gKGZuKSA9PiAoLi4ucGFyYW1zKSA9PiBhbnkocGFyYW1zLCBmbik7XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0eXBlcyA9IFtcbiAgJ01hcCcsXG4gICdTZXQnLFxuICAnU3ltYm9sJyxcbiAgJ0FycmF5JyxcbiAgJ09iamVjdCcsXG4gICdTdHJpbmcnLFxuICAnRGF0ZScsXG4gICdSZWdFeHAnLFxuICAnRnVuY3Rpb24nLFxuICAnQm9vbGVhbicsXG4gICdOdW1iZXInLFxuICAnTnVsbCcsXG4gICdVbmRlZmluZWQnLFxuICAnQXJndW1lbnRzJyxcbiAgJ0Vycm9yJyxcbiAgJ1JlcXVlc3QnLFxuICAnUmVzcG9uc2UnLFxuICAnSGVhZGVycycsXG4gICdCbG9iJ1xuXTtcbmNvbnN0IGxlbiA9IHR5cGVzLmxlbmd0aDtcbmNvbnN0IHR5cGVDYWNoZSA9IHt9O1xuY29uc3QgdHlwZVJlZ2V4cCA9IC9cXHMoW2EtekEtWl0rKS87XG5cbmV4cG9ydCBkZWZhdWx0IChzZXR1cCgpKTtcblxuZXhwb3J0IGNvbnN0IGdldFR5cGUgPSAoc3JjKSA9PiBnZXRTcmNUeXBlKHNyYyk7XG5cbmZ1bmN0aW9uIGdldFNyY1R5cGUoc3JjKSB7XG4gIGxldCB0eXBlID0gdG9TdHJpbmcuY2FsbChzcmMpO1xuICBpZiAoIXR5cGVDYWNoZVt0eXBlXSkge1xuICAgIGxldCBtYXRjaGVzID0gdHlwZS5tYXRjaCh0eXBlUmVnZXhwKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtYXRjaGVzKSAmJiBtYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHR5cGVDYWNoZVt0eXBlXSA9IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHR5cGVDYWNoZVt0eXBlXTtcbn1cblxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gIGxldCBjaGVja3MgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGxlbjsgaS0tOyApIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZXNbaV0udG9Mb3dlckNhc2UoKTtcbiAgICBjaGVja3NbdHlwZV0gPSBzcmMgPT4gZ2V0U3JjVHlwZShzcmMpID09PSB0eXBlO1xuICAgIGNoZWNrc1t0eXBlXS5hbGwgPSBkb0FsbEFwaShjaGVja3NbdHlwZV0pO1xuICAgIGNoZWNrc1t0eXBlXS5hbnkgPSBkb0FueUFwaShjaGVja3NbdHlwZV0pO1xuICB9XG4gIHJldHVybiBjaGVja3M7XG59XG4iLCIvKiAgKi9cbmltcG9ydCBpcywgeyBnZXRUeXBlIH0gZnJvbSAnLi4vdHlwZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IChzcmMpID0+IGNsb25lKHNyYywgW10sIFtdKTtcblxuZnVuY3Rpb24gY2xvbmUoc3JjLCBjaXJjdWxhcnMgPSBbXSwgY2xvbmVzID0gW10pIHtcbiAgLy8gTnVsbC91bmRlZmluZWQvZnVuY3Rpb25zL2V0Y1xuICBpZiAoaXMudW5kZWZpbmVkKHNyYykgfHwgaXMubnVsbChzcmMpIHx8IGlzUHJpbWl0aXZlKHNyYykgfHwgaXMuZnVuY3Rpb24oc3JjKSkge1xuICAgIHJldHVybiBzcmM7XG4gIH1cbiAgcmV0dXJuIGNsb25lcihnZXRUeXBlKHNyYyksIHNyYywgY2lyY3VsYXJzLCBjbG9uZXMpO1xufVxuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShzcmMpIHtcbiAgcmV0dXJuIGlzLmJvb2xlYW4oc3JjKSB8fCBpcy5udW1iZXIoc3JjKSB8fCBpcy5zdHJpbmcoc3JjKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVyKHR5cGUsIGNvbnRleHQsIC4uLmFyZ3MpIHtcbiAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgZGF0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmdldFRpbWUoKSk7XG4gICAgfSxcbiAgICByZWdleHAoKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cCh0aGlzKTtcbiAgICB9LFxuICAgIGFycmF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwKGNsb25lKTtcbiAgICB9LFxuICAgIG1hcCgpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwKEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpKTtcbiAgICB9LFxuICAgIHNldCgpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KEFycmF5LmZyb20odGhpcy52YWx1ZXMoKSkpO1xuICAgIH0sXG4gICAgcmVxdWVzdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gICAgfSxcbiAgICByZXNwb25zZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gICAgfSxcbiAgICBoZWFkZXJzKCkge1xuICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgZm9yIChsZXQgW25hbWUsIHZhbHVlXSBvZiB0aGlzLmVudHJpZXMpIHtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfSxcbiAgICBibG9iKCkge1xuICAgICAgcmV0dXJuIG5ldyBCbG9iKFt0aGlzXSwgeyB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgfSxcbiAgICBvYmplY3QoY2lyY3VsYXJzID0gW10sIGNsb25lcyA9IFtdKSB7XG4gICAgICBjaXJjdWxhcnMucHVzaCh0aGlzKTtcbiAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgICBjbG9uZXMucHVzaChvYmopO1xuICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMpIHtcbiAgICAgICAgbGV0IGlkeCA9IGNpcmN1bGFycy5maW5kSW5kZXgoKGkpID0+IGkgPT09IHRoaXNba2V5XSk7XG4gICAgICAgIG9ialtrZXldID0gaWR4ID4gLTEgPyBjbG9uZXNbaWR4XSA6IGNsb25lKHRoaXNba2V5XSwgY2lyY3VsYXJzLCBjbG9uZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH07XG4gIGlmICh0eXBlIGluIGhhbmRsZXJzKSB7XG4gICAgY29uc3QgZm4gPSBoYW5kbGVyc1t0eXBlXTtcbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCIvKiAgKi9cbmltcG9ydCBpcywgeyBnZXRUeXBlIH0gZnJvbSAnLi4vdHlwZS5qcyc7XG5pbXBvcnQgY2xvbmUgZnJvbSAnLi9jbG9uZS5qcyc7XG5cblxuZXhwb3J0IGNvbnN0IGFycmF5UmVwbGFjZVN0cmF0ZWd5ID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiBjbG9uZSh0YXJnZXQpO1xuXG5leHBvcnQgY29uc3QgZmFjdG9yeSA9IChvcHRzID0geyBhcnJheU1lcmdlOiBhcnJheVJlcGxhY2VTdHJhdGVneSB9KSA9PiAoXG4gIC4uLmFyZ3NcbikgPT4ge1xuICBsZXQgcmVzdWx0O1xuXG4gIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aDsgaSA+IDA7IC0taSkge1xuICAgIHJlc3VsdCA9IG1lcmdlKGFyZ3MucG9wKCksIHJlc3VsdCwgb3B0cyk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZmFjdG9yeSgpO1xuXG5mdW5jdGlvbiBtZXJnZShzb3VyY2UsIHRhcmdldCwgb3B0cykge1xuICBpZiAoaXMudW5kZWZpbmVkKHRhcmdldCkpIHtcbiAgICByZXR1cm4gY2xvbmUoc291cmNlKTtcbiAgfVxuXG4gIGxldCB0eXBlID0gZ2V0VHlwZShzb3VyY2UpO1xuICBpZiAodHlwZSA9PT0gZ2V0VHlwZSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIG1lcmdlcih0eXBlLCBzb3VyY2UsIHRhcmdldCwgb3B0cyk7XG4gIH1cbiAgcmV0dXJuIGNsb25lKHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlcih0eXBlLCBzb3VyY2UsIHRhcmdldCwgb3B0cykge1xuICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICBvYmplY3QoKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgY29uc3Qga2V5cyA9IHtcbiAgICAgICAgc291cmNlOiBPYmplY3Qua2V5cyhzb3VyY2UpLFxuICAgICAgICB0YXJnZXQ6IE9iamVjdC5rZXlzKHRhcmdldClcbiAgICAgIH07XG5cbiAgICAgIGtleXMuc291cmNlLmNvbmNhdChrZXlzLnRhcmdldCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2Uoc291cmNlW2tleV0sIHRhcmdldFtrZXldLCBvcHRzKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBhcnJheSgpIHtcbiAgICAgIHJldHVybiBvcHRzLmFycmF5TWVyZ2UuYXBwbHkobnVsbCwgW3NvdXJjZSwgdGFyZ2V0XSk7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlIGluIGhhbmRsZXJzKSB7XG4gICAgcmV0dXJuIGhhbmRsZXJzW3R5cGVdKCk7XG4gIH1cbiAgcmV0dXJuIGNsb25lKHRhcmdldCk7XG59XG4iLCIvKiAgKi9cbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4vY3JlYXRlLXN0b3JhZ2UuanMnO1xuaW1wb3J0IHsgY2xvbmUsIG1lcmdlIH0gZnJvbSAnLi9vYmplY3QuanMnO1xuXG5cblxuXG5cblxuXG5leHBvcnQgY29uc3QgSHR0cE1ldGhvZHMgPSBPYmplY3QuZnJlZXplKHtcbiAgR2V0OiAnR0VUJyxcbiAgUG9zdDogJ1BPU1QnLFxuICBQdXQ6ICdQVVQnLFxuICBQYXRjaDogJ1BBVENIJyxcbiAgRGVsZXRlOiAnREVMRVRFJ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IG5ldyBIdHRwKGNyZWF0ZUNvbmZpZygpKTtcblxuY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKCk7XG5cbmNsYXNzIEh0dHBFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzcG9uc2UpIHtcbiAgICBzdXBlcihgJHtyZXNwb25zZS5zdGF0dXN9IGZvciAke3Jlc3BvbnNlLnVybH1gKTtcbiAgICB0aGlzLm5hbWUgPSAnSHR0cEVycm9yJztcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIH1cbn1cblxuY2xhc3MgSHR0cCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHByaXZhdGVzKHRoaXMpLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIGNhdGNoZXIoZXJyb3JJZCwgY2F0Y2hlcikge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lKHByaXZhdGVzKHRoaXMpLmNvbmZpZyk7XG4gICAgY29uZmlnLmNhdGNoZXJzLnNldChlcnJvcklkLCBjYXRjaGVyKTtcbiAgICByZXR1cm4gbmV3IEh0dHAoY29uZmlnKTtcbiAgfVxuXG4gIG1pZGRsZXdhcmUobWlkZGxld2FyZSwgY2xlYXIgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lKHByaXZhdGVzKHRoaXMpLmNvbmZpZyk7XG4gICAgY29uZmlnLm1pZGRsZXdhcmUgPSBjbGVhciA/IG1pZGRsZXdhcmUgOiBjb25maWcubWlkZGxld2FyZS5jb25jYXQobWlkZGxld2FyZSk7XG4gICAgcmV0dXJuIG5ldyBIdHRwKGNvbmZpZyk7XG4gIH1cblxuICB1cmwodXJsLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICBjb25zdCBjb25maWcgPSBjbG9uZShwcml2YXRlcyh0aGlzKS5jb25maWcpO1xuICAgIGNvbmZpZy51cmwgPSByZXBsYWNlID8gdXJsIDogY29uZmlnLnVybCArIHVybDtcbiAgICByZXR1cm4gbmV3IEh0dHAoY29uZmlnKTtcbiAgfVxuXG4gIG9wdGlvbnMob3B0aW9ucywgbWl4aW4gPSB0cnVlKSB7XG4gICAgY29uc3QgY29uZmlnID0gY2xvbmUocHJpdmF0ZXModGhpcykuY29uZmlnKTtcbiAgICBjb25maWcub3B0aW9ucyA9IG1peGluID8gbWVyZ2UoY29uZmlnLm9wdGlvbnMsIG9wdGlvbnMpIDogT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBIdHRwKGNvbmZpZyk7XG4gIH1cblxuICBoZWFkZXJzKGhlYWRlclZhbHVlcykge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lKHByaXZhdGVzKHRoaXMpLmNvbmZpZyk7XG4gICAgY29uZmlnLm9wdGlvbnMuaGVhZGVycyA9IG1lcmdlKGNvbmZpZy5vcHRpb25zLmhlYWRlcnMsIGhlYWRlclZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBIdHRwKGNvbmZpZyk7XG4gIH1cblxuICBhY2NlcHQoaGVhZGVyVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJzKHsgQWNjZXB0OiBoZWFkZXJWYWx1ZSB9KTtcbiAgfVxuXG4gIGNvbnRlbnQoaGVhZGVyVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJzKHsgJ0NvbnRlbnQtVHlwZSc6IGhlYWRlclZhbHVlIH0pO1xuICB9XG5cbiAgbW9kZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBtb2RlOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGNyZWRlbnRpYWxzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucyh7IGNyZWRlbnRpYWxzOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGNhY2hlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucyh7IGNhY2hlOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIGludGVncml0eSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBpbnRlZ3JpdHk6IHZhbHVlIH0pO1xuICB9XG5cbiAga2VlcGFsaXZlKHZhbHVlID0gdHJ1ZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBrZWVwYWxpdmU6IHZhbHVlIH0pO1xuICB9XG5cbiAgcmVkaXJlY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zKHsgcmVkaXJlY3Q6IHZhbHVlIH0pO1xuICB9XG5cbiAgYm9keShjb250ZW50cykge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNsb25lKHByaXZhdGVzKHRoaXMpLmNvbmZpZyk7XG4gICAgY29uZmlnLm9wdGlvbnMuYm9keSA9IGNvbnRlbnRzO1xuICAgIHJldHVybiBuZXcgSHR0cChjb25maWcpO1xuICB9XG5cbiAgYXV0aChoZWFkZXJWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhlYWRlcnMoeyBBdXRob3JpemF0aW9uOiBoZWFkZXJWYWx1ZSB9KTtcbiAgfVxuXG4gIGpzb24odmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50KCdhcHBsaWNhdGlvbi9qc29uJykuYm9keShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG5cbiAgZm9ybSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmJvZHkoY29udmVydEZvcm1VcmwodmFsdWUpKS5jb250ZW50KCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgfVxuXG4gIG1ldGhvZCh2YWx1ZSA9IEh0dHBNZXRob2RzLkdldCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMoeyBtZXRob2Q6IHZhbHVlIH0pO1xuICB9XG5cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZChIdHRwTWV0aG9kcy5HZXQpLnNlbmQoKTtcbiAgfVxuXG4gIHBvc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kKEh0dHBNZXRob2RzLlBvc3QpLnNlbmQoKTtcbiAgfVxuXG4gIGluc2VydCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2QoSHR0cE1ldGhvZHMuUHV0KS5zZW5kKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kKEh0dHBNZXRob2RzLlBhdGNoKS5zZW5kKCk7XG4gIH1cblxuICBkZWxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kKEh0dHBNZXRob2RzLkRlbGV0ZSkuc2VuZCgpO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCB7IHVybCwgb3B0aW9ucywgbWlkZGxld2FyZSwgcmVzb2x2ZXJzLCBjYXRjaGVycyB9ID0gcHJpdmF0ZXModGhpcykuY29uZmlnO1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhcHBseU1pZGRsZXdhcmUobWlkZGxld2FyZSkoZmV0Y2gpO1xuICAgIGNvbnN0IHdyYXBwZXIgPSByZXF1ZXN0KHVybCwgb3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihyZXNwb25zZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkb0NhdGNoID0gKHByb21pc2UpID0+IHtcbiAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChjYXRjaGVycy5oYXMoZXJyLnN0YXR1cykpIHtcbiAgICAgICAgICByZXR1cm4gY2F0Y2hlcnMuZ2V0KGVyci5zdGF0dXMpKGVyciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhdGNoZXJzLmhhcyhlcnIubmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2F0Y2hlcnMuZ2V0KGVyci5uYW1lKShlcnIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB3cmFwVHlwZVBhcnNlciA9IChmdW5OYW1lKSA9PiAoY2IpID0+XG4gICAgICBmdW5OYW1lXG4gICAgICAgID8gZG9DYXRjaChcbiAgICAgICAgICAgIHdyYXBwZXJcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZSAmJiByZXNwb25zZVtmdW5OYW1lXSgpKVxuICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiAocmVzcG9uc2UgJiYgY2IgJiYgY2IocmVzcG9uc2UpKSB8fCByZXNwb25zZSlcbiAgICAgICAgICApXG4gICAgICAgIDogZG9DYXRjaCh3cmFwcGVyLnRoZW4ocmVzcG9uc2UgPT4gKHJlc3BvbnNlICYmIGNiICYmIGNiKHJlc3BvbnNlKSkgfHwgcmVzcG9uc2UpKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlQ2hhaW4gPSB7XG4gICAgICByZXM6IHdyYXBUeXBlUGFyc2VyKG51bGwpLFxuICAgICAganNvbjogd3JhcFR5cGVQYXJzZXIoJ2pzb24nKVxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzb2x2ZXJzLnJlZHVjZSgoY2hhaW4sIHIpID0+IHIoY2hhaW4sIG9wdGlvbnMpLCByZXNwb25zZUNoYWluKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUobWlkZGxld2FyZXMpIHtcbiAgcmV0dXJuIChmZXRjaEZ1bmN0aW9uKSA9PiB7XG4gICAgaWYgKG1pZGRsZXdhcmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZldGNoRnVuY3Rpb247XG4gICAgfVxuXG4gICAgaWYgKG1pZGRsZXdhcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIG1pZGRsZXdhcmVzWzBdKGZldGNoRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiAobWlkZGxld2FyZXMucmVkdWNlUmlnaHQoXG4gICAgICAoYWNjLCBjdXJyLCBpZHgpID0+IChpZHggPT09IG1pZGRsZXdhcmVzLmxlbmd0aCAtIDIgPyBjdXJyKGFjYyhmZXRjaEZ1bmN0aW9uKSkgOiBjdXJyKChhY2MpKSlcbiAgICApKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29uZmlnKCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICB7fSxcbiAgICB7XG4gICAgICB1cmw6ICcnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBjYXRjaGVyczogbmV3IE1hcCgpLFxuICAgICAgcmVzb2x2ZXJzOiBbXSxcbiAgICAgIG1pZGRsZXdhcmU6IFtdXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Rm9ybVVybChmb3JtT2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhmb3JtT2JqZWN0KVxuICAgIC5tYXAoXG4gICAgICBrZXkgPT5cbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgK1xuICAgICAgICAnPScgK1xuICAgICAgICBgJHtlbmNvZGVVUklDb21wb25lbnQodHlwZW9mIGZvcm1PYmplY3Rba2V5XSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShmb3JtT2JqZWN0W2tleV0pIDogZm9ybU9iamVjdFtrZXldKX1gXG4gICAgKVxuICAgIC5qb2luKCcmJyk7XG59XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChiZWhhdmlvdXIsIC4uLm1ldGhvZE5hbWVzKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbihrbGFzcykge1xuICAgIGNvbnN0IHByb3RvID0ga2xhc3MucHJvdG90eXBlO1xuICAgIGNvbnN0IGxlbiA9IG1ldGhvZE5hbWVzLmxlbmd0aDtcbiAgICBjb25zdCB7IGRlZmluZVByb3BlcnR5IH0gPSBPYmplY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWVzW2ldO1xuICAgICAgY29uc3QgbWV0aG9kID0gcHJvdG9bbWV0aG9kTmFtZV07XG4gICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgbWV0aG9kTmFtZSwge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgIGFyZ3MudW5zaGlmdChtZXRob2QpO1xuICAgICAgICAgIGJlaGF2aW91ci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5sZXQgY3VyckhhbmRsZSA9IDA7XG5sZXQgbGFzdEhhbmRsZSA9IDA7XG5sZXQgY2FsbGJhY2tzID0gW107XG5sZXQgbm9kZUNvbnRlbnQgPSAwO1xubGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5uZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbi8qKlxuICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgIHRpbWluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBydW5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gKi9cbmV4cG9ydCBjb25zdCBydW4gPSAoY2FsbGJhY2spID0+IHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IFN0cmluZyhub2RlQ29udGVudCsrKTtcbiAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICByZXR1cm4gY3VyckhhbmRsZSsrO1xufTtcblxuLyoqXG4gKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgYCBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICovXG5leHBvcnQgY29uc3QgY2FuY2VsID0gKGhhbmRsZSkgPT4ge1xuICBjb25zdCBpZHggPSBoYW5kbGUgLSBsYXN0SGFuZGxlO1xuICBpZiAoaWR4ID49IDApIHtcbiAgICBpZiAoIWNhbGxiYWNrc1tpZHhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYXN5bmMgaGFuZGxlOiAnICsgaGFuZGxlKTtcbiAgICB9XG4gICAgY2FsbGJhY2tzW2lkeF0gPSBudWxsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgY29uc3QgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYigpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrcy5zcGxpY2UoMCwgbGVuKTtcbiAgbGFzdEhhbmRsZSArPSBsZW47XG59XG4iLCIvKiAgKi9cbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4uL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCBhcm91bmQgZnJvbSAnLi4vYWR2aWNlL2Fyb3VuZC5qcyc7XG5pbXBvcnQgKiBhcyBtaWNyb1Rhc2sgZnJvbSAnLi4vZG9tL21pY3JvdGFzay5qcyc7XG5cbmNvbnN0IGdsb2JhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL3RyYWNldXItY29tcGlsZXIvaXNzdWVzLzE3MDlcbmlmICh0eXBlb2YgZ2xvYmFsLkhUTUxFbGVtZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnN0IF9IVE1MRWxlbWVudCA9IGZ1bmN0aW9uIEhUTUxFbGVtZW50KCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lc1xuICB9O1xuICBfSFRNTEVsZW1lbnQucHJvdG90eXBlID0gZ2xvYmFsLkhUTUxFbGVtZW50LnByb3RvdHlwZTtcbiAgZ2xvYmFsLkhUTUxFbGVtZW50ID0gX0hUTUxFbGVtZW50O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgY3VzdG9tRWxlbWVudHNWMUNhbGxiYWNrcyA9IFtcbiAgICAnY29ubmVjdGVkQ2FsbGJhY2snLFxuICAgICdkaXNjb25uZWN0ZWRDYWxsYmFjaycsXG4gICAgJ2Fkb3B0ZWRDYWxsYmFjaycsXG4gICAgJ2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaydcbiAgXTtcbiAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSwgaGFzT3duUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKCk7XG5cbiAgaWYgKCFiYXNlQ2xhc3MpIHtcbiAgICBiYXNlQ2xhc3MgPSBjbGFzcyBleHRlbmRzIGdsb2JhbC5IVE1MRWxlbWVudCB7fTtcbiAgfVxuXG4gIHJldHVybiBjbGFzcyBDdXN0b21FbGVtZW50IGV4dGVuZHMgYmFzZUNsYXNzIHtcblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge31cblxuICAgIHN0YXRpYyBkZWZpbmUodGFnTmFtZSkge1xuICAgICAgY29uc3QgcmVnaXN0cnkgPSBjdXN0b21FbGVtZW50cztcbiAgICAgIGlmICghcmVnaXN0cnkuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzVjFDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2tNZXRob2ROYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCBjYWxsYmFja01ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgY2FsbGJhY2tNZXRob2ROYW1lLCB7XG4gICAgICAgICAgICAgIHZhbHVlKCkge30sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0NhbGxiYWNrTmFtZSA9IGNhbGxiYWNrTWV0aG9kTmFtZS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgY2FsbGJhY2tNZXRob2ROYW1lLmxlbmd0aCAtICdjYWxsYmFjaycubGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IHByb3RvW2NhbGxiYWNrTWV0aG9kTmFtZV07XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIGNhbGxiYWNrTWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgdGhpc1tuZXdDYWxsYmFja05hbWVdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maW5hbGl6ZUNsYXNzKCk7XG4gICAgICAgIGFyb3VuZChjcmVhdGVDb25uZWN0ZWRBZHZpY2UoKSwgJ2Nvbm5lY3RlZCcpKHRoaXMpO1xuICAgICAgICBhcm91bmQoY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCksICdkaXNjb25uZWN0ZWQnKSh0aGlzKTtcbiAgICAgICAgYXJvdW5kKGNyZWF0ZVJlbmRlckFkdmljZSgpLCAncmVuZGVyJykodGhpcyk7XG4gICAgICAgIHJlZ2lzdHJ5LmRlZmluZSh0YWdOYW1lLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaW5pdGlhbGl6ZWQoKSB7XG4gICAgICByZXR1cm4gcHJpdmF0ZXModGhpcykuaW5pdGlhbGl6ZWQgPT09IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICB0aGlzLmNvbnN0cnVjdCgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHt9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQoYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7fVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuICAgIGNvbm5lY3RlZCgpIHt9XG5cbiAgICBkaXNjb25uZWN0ZWQoKSB7fVxuXG4gICAgYWRvcHRlZCgpIHt9XG5cbiAgICByZW5kZXIoKSB7fVxuXG4gICAgX29uUmVuZGVyKCkge31cblxuICAgIF9wb3N0UmVuZGVyKCkge31cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDb25uZWN0ZWRBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIHByaXZhdGVzKGNvbnRleHQpLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICBpZiAoIXByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVkKSB7XG4gICAgICAgIHByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUmVuZGVyQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihyZW5kZXJDYWxsYmFjaykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBpZiAoIXByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmluZykge1xuICAgICAgICBjb25zdCBmaXJzdFJlbmRlciA9IHByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmluZyA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcgPSB0cnVlO1xuICAgICAgICBtaWNyb1Rhc2sucnVuKCgpID0+IHtcbiAgICAgICAgICBpZiAocHJpdmF0ZXMoY29udGV4dCkucmVuZGVyaW5nKSB7XG4gICAgICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRleHQuX29uUmVuZGVyKGZpcnN0UmVuZGVyKTtcbiAgICAgICAgICAgIHJlbmRlckNhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0Ll9wb3N0UmVuZGVyKGZpcnN0UmVuZGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVEaXNjb25uZWN0ZWRBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRpc2Nvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIHByaXZhdGVzKGNvbnRleHQpLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB7XG4gICAgICAgIGlmICghcHJpdmF0ZXMoY29udGV4dCkuY29ubmVjdGVkICYmIHByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBjb25zdCBpc0Jyb3dzZXIgPSAhW3R5cGVvZiB3aW5kb3csIHR5cGVvZiBkb2N1bWVudF0uaW5jbHVkZXMoJ3VuZGVmaW5lZCcpO1xuXG5leHBvcnQgY29uc3QgYnJvd3NlciA9IChmbiwgcmFpc2UgPSB0cnVlKSA9PiAoLi4uYXJncykgPT4ge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICB9XG4gIGlmIChyYWlzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtmbi5uYW1lfSBmb3IgYnJvd3NlciB1c2Ugb25seWApO1xuICB9XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoZWxlbWVudCwgbm9kZVR5cGUgPSBOb2RlLkVMRU1FTlRfTk9ERSkgPT4ge1xuICBsZXQgY2hpbGROb2RlcyA9IGVsZW1lbnQuY2hpbGROb2RlcztcbiAgbGV0IGNoaWxkcmVuID0gW107XG4gIGlmIChjaGlsZE5vZGVzICYmIGNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgIGxldCBpID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IG5vZGVUeXBlKSB7XG4gICAgICAgIGNoaWxkcmVuLnVuc2hpZnQoY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgYmVmb3JlIGZyb20gJy4uL2FkdmljZS9iZWZvcmUuanMnO1xuaW1wb3J0IGVsZW1lbnRDaGlsZHJlbiBmcm9tICcuLi9kb20vZWxlbWVudC1jaGlsZHJlbi5qcyc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoKGJhc2VDbGFzcykgPT4ge1xuICByZXR1cm4gY2xhc3MgU2xvdHMgZXh0ZW5kcyBiYXNlQ2xhc3Mge1xuXG4gICAgc3RhdGljIGZpbmFsaXplQ2xhc3MoKSB7XG4gICAgICBzdXBlci5maW5hbGl6ZUNsYXNzKCk7XG4gICAgICBiZWZvcmUoY3JlYXRlQmVmb3JlUmVuZGVyQWR2aWNlKCksICdfb25SZW5kZXInKSh0aGlzKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3QoKSB7XG4gICAgICBzdXBlci5jb25zdHJ1Y3QoKTtcbiAgICAgIHRoaXMuc2xvdHMgPSB7IGRlZmF1bHQ6IFtdIH07XG4gICAgfVxuXG4gICAgc2xvdHNBc3NpZ25lZCgpIHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlQmVmb3JlUmVuZGVyQWR2aWNlKCkge1xuICAgIGNvbnN0IGh5cGVuUmVnRXggPSAvLShbYS16XSkvZztcblxuICAgIHJldHVybiBmdW5jdGlvbihmaXJzdFJlbmRlcikge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBpZiAoZmlyc3RSZW5kZXIpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBlbGVtZW50Q2hpbGRyZW4oY29udGV4dCk7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gY2hpbGQuZ2V0QXR0cmlidXRlID8gY2hpbGQuZ2V0QXR0cmlidXRlKCdzbG90JykgOiBudWxsO1xuICAgICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyAmJiBhdHRyaWJ1dGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IGF0dHJpYnV0ZS5yZXBsYWNlKGh5cGVuUmVnRXgsIG1hdGNoID0+IG1hdGNoWzFdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgY29udGV4dC5zbG90c1tzbG90XSA9IGNoaWxkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNsb3RzLmRlZmF1bHQucHVzaChjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5zbG90c0Fzc2lnbmVkKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvKiAgKi9cblxuZXhwb3J0IGRlZmF1bHQgKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUgPSBmYWxzZSkgPT4ge1xuICByZXR1cm4gcGFyc2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG59O1xuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSAoKSA9PiB7fTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBldmVudCBlbWl0dGVyJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgaWYgKHR5cGUuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICBsZXQgZXZlbnRzID0gdHlwZS5zcGxpdCgvXFxzKixcXHMqLyk7XG4gICAgbGV0IGhhbmRsZXMgPSBldmVudHMubWFwKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHJldHVybiBhZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSA9ICgpID0+IHt9O1xuICAgICAgICBsZXQgaGFuZGxlO1xuICAgICAgICB3aGlsZSAoKGhhbmRsZSA9IGhhbmRsZXMucG9wKCkpKSB7XG4gICAgICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG59XG4iLCIvKiAgKi9cbmltcG9ydCBhZnRlciBmcm9tICcuLi9hZHZpY2UvYWZ0ZXIuanMnO1xuaW1wb3J0IGNyZWF0ZVN0b3JhZ2UgZnJvbSAnLi4vY3JlYXRlLXN0b3JhZ2UuanMnO1xuaW1wb3J0IGxpc3RlbkV2ZW50LCB7IH0gZnJvbSAnLi4vZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQuanMnO1xuXG5cblxuLyoqXG4gKiBNaXhpbiBhZGRzIEN1c3RvbUV2ZW50IGhhbmRsaW5nIHRvIGFuIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGJhc2VDbGFzcykgPT4ge1xuICBjb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhbmRsZXJzOiBbXVxuICAgIH07XG4gIH0pO1xuICBjb25zdCBldmVudERlZmF1bHRQYXJhbXMgPSB7XG4gICAgYnViYmxlczogZmFsc2UsXG4gICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgfTtcblxuICByZXR1cm4gY2xhc3MgRXZlbnRzIGV4dGVuZHMgYmFzZUNsYXNzIHtcblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYWZ0ZXIoY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCksICdkaXNjb25uZWN0ZWQnKSh0aGlzKTtcbiAgICB9XG5cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgY29uc3QgaGFuZGxlID0gYG9uJHtldmVudC50eXBlfWA7XG4gICAgICBpZiAodHlwZW9mIHRoaXNbaGFuZGxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHRoaXNbaGFuZGxlXShldmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb24odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAgIHRoaXMub3duKGxpc3RlbkV2ZW50KHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKSk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2godHlwZSwgZGF0YSA9IHt9KSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIGFzc2lnbihldmVudERlZmF1bHRQYXJhbXMsIHsgZGV0YWlsOiBkYXRhIH0pKSk7XG4gICAgfVxuXG4gICAgb2ZmKCkge1xuICAgICAgcHJpdmF0ZXModGhpcykuaGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgICBoYW5kbGVyLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb3duKC4uLmhhbmRsZXJzKSB7XG4gICAgICBoYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgY29udGV4dC5vZmYoKTtcbiAgICB9O1xuICB9XG59O1xuIiwiLyogICovXG5pbXBvcnQgYmVmb3JlIGZyb20gJy4uL2FkdmljZS9iZWZvcmUuanMnO1xuaW1wb3J0IGNyZWF0ZVN0b3JhZ2UgZnJvbSAnLi4vY3JlYXRlLXN0b3JhZ2UuanMnO1xuaW1wb3J0ICogYXMgbWljcm9UYXNrIGZyb20gJy4uL2RvbS9taWNyb3Rhc2suanMnO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSwga2V5cywgYXNzaWduIH0gPSBPYmplY3Q7XG4gIGNvbnN0IGF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lcyA9IHt9O1xuICBjb25zdCBwcm9wZXJ0eU5hbWVzVG9BdHRyaWJ1dGVzID0ge307XG4gIGNvbnN0IHByaXZhdGVzID0gY3JlYXRlU3RvcmFnZSgpO1xuXG4gIGxldCBwcm9wZXJ0aWVzQ29uZmlnO1xuICBsZXQgZGF0YUhhc0FjY2Vzc29yID0ge307XG4gIGxldCBkYXRhUHJvdG9WYWx1ZXMgPSB7fTtcblxuICBmdW5jdGlvbiBlbmhhbmNlUHJvcGVydHlDb25maWcoY29uZmlnKSB7XG4gICAgY29uZmlnLmhhc09ic2VydmVyID0gJ29ic2VydmVyJyBpbiBjb25maWc7XG4gICAgY29uZmlnLmlzT2JzZXJ2ZXJTdHJpbmcgPSBjb25maWcuaGFzT2JzZXJ2ZXIgJiYgdHlwZW9mIGNvbmZpZy5vYnNlcnZlciA9PT0gJ3N0cmluZyc7XG4gICAgY29uZmlnLmlzU3RyaW5nID0gY29uZmlnLnR5cGUgPT09IFN0cmluZztcbiAgICBjb25maWcuaXNOdW1iZXIgPSBjb25maWcudHlwZSA9PT0gTnVtYmVyO1xuICAgIGNvbmZpZy5pc0Jvb2xlYW4gPSBjb25maWcudHlwZSA9PT0gQm9vbGVhbjtcbiAgICBjb25maWcuaXNPYmplY3QgPSBjb25maWcudHlwZSA9PT0gT2JqZWN0O1xuICAgIGNvbmZpZy5pc0FycmF5ID0gY29uZmlnLnR5cGUgPT09IEFycmF5O1xuICAgIGNvbmZpZy5pc0RhdGUgPSBjb25maWcudHlwZSA9PT0gRGF0ZTtcbiAgICBjb25maWcubm90aWZ5ID0gJ25vdGlmeScgaW4gY29uZmlnO1xuICAgIGNvbmZpZy5yZWFkT25seSA9ICdyZWFkT25seScgaW4gY29uZmlnID8gY29uZmlnLnJlYWRPbmx5IDogZmFsc2U7XG4gICAgY29uZmlnLnJlZmxlY3RUb0F0dHJpYnV0ZSA9XG4gICAgICAncmVmbGVjdFRvQXR0cmlidXRlJyBpbiBjb25maWdcbiAgICAgICAgPyBjb25maWcucmVmbGVjdFRvQXR0cmlidXRlXG4gICAgICAgIDogY29uZmlnLmlzU3RyaW5nIHx8IGNvbmZpZy5pc051bWJlciB8fCBjb25maWcuaXNCb29sZWFuO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgZm9yIChsZXQgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW25hbWVdO1xuICAgICAgb3V0cHV0W25hbWVdID0gdHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nID8geyB0eXBlOiBwcm9wZXJ0eSB9IDogcHJvcGVydHk7XG4gICAgICBlbmhhbmNlUHJvcGVydHlDb25maWcob3V0cHV0W25hbWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3RlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplUHJvcGVydGllcykubGVuZ3RoID4gMCkge1xuICAgICAgICBhc3NpZ24oY29udGV4dCwgcHJpdmF0ZXMoY29udGV4dCkuaW5pdGlhbGl6ZVByb3BlcnRpZXMpO1xuICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplUHJvcGVydGllcyA9IHt9O1xuICAgICAgfVxuICAgICAgY29udGV4dC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZUNoYW5nZUFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXR0cmlidXRlLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBjb250ZXh0Ll9hdHRyaWJ1dGVUb1Byb3BlcnR5KGF0dHJpYnV0ZSwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0aWVzQ2hhbmdlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICBsZXQgY29udGV4dCA9IHRoaXM7XG4gICAgICBPYmplY3Qua2V5cyhjaGFuZ2VkUHJvcHMpLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBub3RpZnksXG4gICAgICAgICAgaGFzT2JzZXJ2ZXIsXG4gICAgICAgICAgcmVmbGVjdFRvQXR0cmlidXRlLFxuICAgICAgICAgIGlzT2JzZXJ2ZXJTdHJpbmcsXG4gICAgICAgICAgb2JzZXJ2ZXJcbiAgICAgICAgfSA9IGNvbnRleHQuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgICAgICAgaWYgKHJlZmxlY3RUb0F0dHJpYnV0ZSkge1xuICAgICAgICAgIGNvbnRleHQuX3Byb3BlcnR5VG9BdHRyaWJ1dGUocHJvcGVydHksIGNoYW5nZWRQcm9wc1twcm9wZXJ0eV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPYnNlcnZlciAmJiBpc09ic2VydmVyU3RyaW5nKSB7XG4gICAgICAgICAgdGhpc1tvYnNlcnZlcl0oY2hhbmdlZFByb3BzW3Byb3BlcnR5XSwgb2xkUHJvcHNbcHJvcGVydHldKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNPYnNlcnZlciAmJiB0eXBlb2Ygb2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvYnNlcnZlci5hcHBseShjb250ZXh0LCBbY2hhbmdlZFByb3BzW3Byb3BlcnR5XSwgb2xkUHJvcHNbcHJvcGVydHldXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmeSkge1xuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChgJHtwcm9wZXJ0eX0tY2hhbmdlZGAsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IGNoYW5nZWRQcm9wc1twcm9wZXJ0eV0sXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFByb3BzW3Byb3BlcnR5XVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gY2xhc3MgUHJvcGVydGllcyBleHRlbmRzIGJhc2VDbGFzcyB7XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmNsYXNzUHJvcGVydGllcykubWFwKChwcm9wZXJ0eSkgPT4gdGhpcy5wcm9wZXJ0eU5hbWVUb0F0dHJpYnV0ZShwcm9wZXJ0eSkpIHx8IFtdO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYmVmb3JlKGNyZWF0ZUNvbm5lY3RlZEFkdmljZSgpLCAnY29ubmVjdGVkJykodGhpcyk7XG4gICAgICBiZWZvcmUoY3JlYXRlQXR0cmlidXRlQ2hhbmdlQWR2aWNlKCksICdhdHRyaWJ1dGVDaGFuZ2VkJykodGhpcyk7XG4gICAgICBiZWZvcmUoY3JlYXRlUHJvcGVydGllc0NoYW5nZWRBZHZpY2UoKSwgJ3Byb3BlcnRpZXNDaGFuZ2VkJykodGhpcyk7XG4gICAgICB0aGlzLmNyZWF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlKSB7XG4gICAgICBsZXQgcHJvcGVydHkgPSBhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZXNbYXR0cmlidXRlXTtcbiAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgLy8gQ29udmVydCBhbmQgbWVtb2l6ZS5cbiAgICAgICAgY29uc3QgaHlwZW5SZWdFeCA9IC8tKFthLXpdKS9nO1xuICAgICAgICBwcm9wZXJ0eSA9IGF0dHJpYnV0ZS5yZXBsYWNlKGh5cGVuUmVnRXgsIG1hdGNoID0+IG1hdGNoWzFdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICBhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZXNbYXR0cmlidXRlXSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wZXJ0eU5hbWVUb0F0dHJpYnV0ZShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGF0dHJpYnV0ZSA9IHByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXNbcHJvcGVydHldO1xuICAgICAgaWYgKCFhdHRyaWJ1dGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBhbmQgbWVtb2l6ZS5cbiAgICAgICAgY29uc3QgdXBwZXJjYXNlUmVnRXggPSAvKFtBLVpdKS9nO1xuICAgICAgICBhdHRyaWJ1dGUgPSBwcm9wZXJ0eS5yZXBsYWNlKHVwcGVyY2FzZVJlZ0V4LCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcHJvcGVydHlOYW1lc1RvQXR0cmlidXRlc1twcm9wZXJ0eV0gPSBhdHRyaWJ1dGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgY2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCFwcm9wZXJ0aWVzQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGdldFByb3BlcnRpZXNDb25maWcgPSAoKSA9PiBwcm9wZXJ0aWVzQ29uZmlnIHx8IHt9O1xuICAgICAgICBsZXQgY2hlY2tPYmogPSBudWxsO1xuICAgICAgICBsZXQgbG9vcCA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUgKGxvb3ApIHtcbiAgICAgICAgICBjaGVja09iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGVja09iaiA9PT0gbnVsbCA/IHRoaXMgOiBjaGVja09iaik7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNoZWNrT2JqIHx8XG4gICAgICAgICAgICAhY2hlY2tPYmouY29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgIGNoZWNrT2JqLmNvbnN0cnVjdG9yID09PSBIVE1MRWxlbWVudCB8fFxuICAgICAgICAgICAgY2hlY2tPYmouY29uc3RydWN0b3IgPT09IEZ1bmN0aW9uIHx8XG4gICAgICAgICAgICBjaGVja09iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8XG4gICAgICAgICAgICBjaGVja09iai5jb25zdHJ1Y3RvciA9PT0gY2hlY2tPYmouY29uc3RydWN0b3IuY29uc3RydWN0b3JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGxvb3AgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoZWNrT2JqLCAncHJvcGVydGllcycpKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBwcm9wZXJ0aWVzQ29uZmlnID0gYXNzaWduKFxuICAgICAgICAgICAgICBnZXRQcm9wZXJ0aWVzQ29uZmlnKCksIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgbm9ybWFsaXplUHJvcGVydGllcyhjaGVja09iai5wcm9wZXJ0aWVzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcykge1xuICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICBwcm9wZXJ0aWVzQ29uZmlnID0gYXNzaWduKFxuICAgICAgICAgICAgZ2V0UHJvcGVydGllc0NvbmZpZygpLCAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBub3JtYWxpemVQcm9wZXJ0aWVzKHRoaXMucHJvcGVydGllcylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydGllc0NvbmZpZztcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gdGhpcy5jbGFzc1Byb3BlcnRpZXM7XG4gICAgICBrZXlzKHByb3BlcnRpZXMpLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gc2V0dXAgcHJvcGVydHkgJyR7cHJvcGVydHl9JywgcHJvcGVydHkgYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wZXJ0eVZhbHVlID0gcHJvcGVydGllc1twcm9wZXJ0eV0udmFsdWU7XG4gICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkYXRhUHJvdG9WYWx1ZXNbcHJvcGVydHldID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm90by5fY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcHJvcGVydGllc1twcm9wZXJ0eV0ucmVhZE9ubHkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0KCkge1xuICAgICAgc3VwZXIuY29uc3RydWN0KCk7XG4gICAgICBwcml2YXRlcyh0aGlzKS5kYXRhID0ge307XG4gICAgICBwcml2YXRlcyh0aGlzKS5zZXJpYWxpemluZyA9IGZhbHNlO1xuICAgICAgcHJpdmF0ZXModGhpcykuaW5pdGlhbGl6ZVByb3BlcnRpZXMgPSB7fTtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nID0gbnVsbDtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgPSBudWxsO1xuICAgICAgcHJpdmF0ZXModGhpcykuZGF0YUludmFsaWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMoKTtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuXG4gICAgcHJvcGVydGllc0NoYW5nZWQoXG4gICAgICBjdXJyZW50UHJvcHMsXG4gICAgICBjaGFuZ2VkUHJvcHMsXG4gICAgICBvbGRQcm9wcyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgKSB7fVxuXG4gICAgX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KSB7XG4gICAgICBpZiAoIWRhdGFIYXNBY2Nlc3Nvcltwcm9wZXJ0eV0pIHtcbiAgICAgICAgZGF0YUhhc0FjY2Vzc29yW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BlcnR5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogcmVhZE9ubHlcbiAgICAgICAgICAgID8gKCkgPT4ge31cbiAgICAgICAgICAgIDogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHByaXZhdGVzKHRoaXMpLmRhdGFbcHJvcGVydHldO1xuICAgIH1cblxuICAgIF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgbmV3VmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9pc1ZhbGlkUHJvcGVydHlWYWx1ZShwcm9wZXJ0eSwgbmV3VmFsdWUpKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIG5ld1ZhbHVlKSkge1xuICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKGBpbnZhbGlkIHZhbHVlICR7bmV3VmFsdWV9IGZvciBwcm9wZXJ0eSAke3Byb3BlcnR5fSBvZlxuXHRcdFx0XHRcdHR5cGUgJHt0aGlzLmNvbnN0cnVjdG9yLmNsYXNzUHJvcGVydGllc1twcm9wZXJ0eV0udHlwZS5uYW1lfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKCkge1xuICAgICAgT2JqZWN0LmtleXMoZGF0YVByb3RvVmFsdWVzKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9XG4gICAgICAgICAgdHlwZW9mIGRhdGFQcm90b1ZhbHVlc1twcm9wZXJ0eV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gZGF0YVByb3RvVmFsdWVzW3Byb3BlcnR5XS5jYWxsKHRoaXMpXG4gICAgICAgICAgICA6IGRhdGFQcm90b1ZhbHVlc1twcm9wZXJ0eV07XG4gICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICBPYmplY3Qua2V5cyhkYXRhSGFzQWNjZXNzb3IpLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBwcml2YXRlcyh0aGlzKS5pbml0aWFsaXplUHJvcGVydGllc1twcm9wZXJ0eV0gPSB0aGlzW3Byb3BlcnR5XTtcbiAgICAgICAgICBkZWxldGUgdGhpc1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIGlmICghcHJpdmF0ZXModGhpcykuc2VyaWFsaXppbmcpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZSk7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gdGhpcy5fZGVzZXJpYWxpemVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pc1ZhbGlkUHJvcGVydHlWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5VHlwZSA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XS50eXBlO1xuICAgICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlzVmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHByb3BlcnR5VHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzVmFsaWQgPSBgJHt0eXBlb2YgdmFsdWV9YCA9PT0gcHJvcGVydHlUeXBlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cblxuICAgIF9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgcHJpdmF0ZXModGhpcykuc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5wcm9wZXJ0eU5hbWVUb0F0dHJpYnV0ZShwcm9wZXJ0eSk7XG4gICAgICB2YWx1ZSA9IHRoaXMuX3NlcmlhbGl6ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHByaXZhdGVzKHRoaXMpLnNlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2Rlc2VyaWFsaXplVmFsdWUocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBjb25zdCB7IGlzTnVtYmVyLCBpc0FycmF5LCBpc0Jvb2xlYW4sIGlzRGF0ZSwgaXNTdHJpbmcsIGlzT2JqZWN0IH0gPSB0aGlzLmNvbnN0cnVjdG9yLmNsYXNzUHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgICBpZiAoaXNCb29sZWFuKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gMCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/ICcnIDogU3RyaW5nKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QgfHwgaXNBcnJheSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyAoaXNBcnJheSA/IG51bGwgOiB7fSkgOiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/ICcnIDogbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9zZXJpYWxpemVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5Q29uZmlnID0gdGhpcy5jb25zdHJ1Y3Rvci5jbGFzc1Byb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgY29uc3QgeyBpc0Jvb2xlYW4sIGlzT2JqZWN0LCBpc0FycmF5IH0gPSBwcm9wZXJ0eUNvbmZpZztcblxuICAgICAgaWYgKGlzQm9vbGVhbikge1xuICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCB8fCBpc0FycmF5KSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBsZXQgb2xkID0gcHJpdmF0ZXModGhpcykuZGF0YVtwcm9wZXJ0eV07XG4gICAgICBsZXQgY2hhbmdlZCA9IHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKTtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIGlmICghcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhUGVuZGluZyA9IHt9O1xuICAgICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgb2xkIGlzIGNhcHR1cmVkIGZyb20gdGhlIGxhc3QgdHVyblxuICAgICAgICBpZiAocHJpdmF0ZXModGhpcykuZGF0YU9sZCAmJiAhKHByb3BlcnR5IGluIHByaXZhdGVzKHRoaXMpLmRhdGFPbGQpKSB7XG4gICAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YU9sZFtwcm9wZXJ0eV0gPSBvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmdbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hhbmdlZDtcbiAgICB9XG5cbiAgICBfaW52YWxpZGF0ZVByb3BlcnRpZXMoKSB7XG4gICAgICBpZiAoIXByaXZhdGVzKHRoaXMpLmRhdGFJbnZhbGlkKSB7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFJbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHByaXZhdGVzKHRoaXMpLmRhdGFJbnZhbGlkKSB7XG4gICAgICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZmx1c2hQcm9wZXJ0aWVzKCkge1xuICAgICAgY29uc3QgcHJvcHMgPSBwcml2YXRlcyh0aGlzKS5kYXRhO1xuICAgICAgY29uc3QgY2hhbmdlZFByb3BzID0gcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmc7XG4gICAgICBjb25zdCBvbGQgPSBwcml2YXRlcyh0aGlzKS5kYXRhT2xkO1xuXG4gICAgICBpZiAodGhpcy5fc2hvdWxkUHJvcGVydGllc0NoYW5nZShwcm9wcywgY2hhbmdlZFByb3BzLCBvbGQpKSB7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YU9sZCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvcGVydGllc0NoYW5nZWQocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hvdWxkUHJvcGVydGllc0NoYW5nZShcbiAgICAgIGN1cnJlbnRQcm9wcyxcbiAgICAgIGNoYW5nZWRQcm9wcyxcbiAgICAgIG9sZFByb3BzIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICApIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGNoYW5nZWRQcm9wcyk7XG4gICAgfVxuXG4gICAgX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvLyBTdHJpY3QgZXF1YWxpdHkgY2hlY2tcbiAgICAgICAgb2xkICE9PSB2YWx1ZSAmJlxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICAgICAgICAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAodGVtcGxhdGUpID0+IHtcbiAgaWYgKCdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XG4gIH1cblxuICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIGxldCBjaGlsZHJlbiA9IHRlbXBsYXRlLmNoaWxkTm9kZXM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZHJlbltpXS5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG4gIHJldHVybiBmcmFnbWVudDtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50KSA9PiB7XG4gIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iLCIvKiAgKi9cbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4uL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCBhZnRlciBmcm9tICcuLi9hZHZpY2UvYWZ0ZXIuanMnO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgKGJhc2VDbGFzcykgPT4ge1xuICBjb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoKTtcblxuICByZXR1cm4gY2xhc3MgU3RhdGUgZXh0ZW5kcyBiYXNlQ2xhc3Mge1xuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYWZ0ZXIoY3JlYXRlQmVmb3JlUmVuZGVyQWR2aWNlKCksICdfb25SZW5kZXInKSh0aGlzKTtcbiAgICAgIGFmdGVyKGNyZWF0ZUFmdGVyUmVuZGVyQWR2aWNlKCksICdfcG9zdFJlbmRlcicpKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgIHN1cGVyLmNvbnN0cnVjdCgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4gYXNzaWduKHt9LCBwcml2YXRlcyh0aGlzKS5zdGF0ZSk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRTdGF0ZSkge1xuICAgICAgZm9yIChsZXQga2V5IGluIG5leHRTdGF0ZSkge1xuICAgICAgICBpZiAobmV4dFN0YXRlW2tleV0gIT09IHByaXZhdGVzKHRoaXMpLnN0YXRlW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHNldFN0YXRlKGNoYW5nZXMpIHtcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IGFzc2lnbih7fSwgcHJpdmF0ZXModGhpcykuc3RhdGUsIGNoYW5nZXMpO1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHByaXZhdGVzKHRoaXMpLnN0YXRlO1xuICAgICAgY29uc3QgY2hhbmdlZCA9IHByZXZpb3VzU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0U3RhdGUpO1xuXG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY29tcG9uZW50V2lsbFJlbmRlcihuZXdTdGF0ZSkge31cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudERpZFJlbmRlcihwcmV2aW91c1N0YXRlKSB7fVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSkge31cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1N0YXRlKSB7fVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJlZm9yZVJlbmRlckFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZmlyc3RSZW5kZXIpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKGZpcnN0UmVuZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50V2lsbFJlbmRlcih0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50V2lsbFVwZGF0ZSh0aGlzLnN0YXRlLCBhc3NpZ24oe30sIHByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmVkU3RhdGUpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQWZ0ZXJSZW5kZXJBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZpcnN0UmVuZGVyKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJlZFN0YXRlO1xuICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyZWRTdGF0ZSA9IHByaXZhdGVzKGNvbnRleHQpLnN0YXRlO1xuICAgICAgaWYgKGZpcnN0UmVuZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50RGlkUmVuZGVyKHByZXZpb3VzU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNTdGF0ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qICAqL1xuaW1wb3J0IGNsYXNzQnVpbGRlciBmcm9tICcuLi9jbGFzcy1idWlsZGVyLmpzJztcbmltcG9ydCBjdXN0b21FbGVtZW50LCB7IH0gZnJvbSAnLi9jdXN0b20tZWxlbWVudC5qcyc7XG5pbXBvcnQgcHJvcGVydGllcywgeyB9IGZyb20gJy4vY3VzdG9tLWVsZW1lbnQtcHJvcGVydGllcy5qcyc7XG5pbXBvcnQgZXZlbnRzLCB7IH0gZnJvbSAnLi9jdXN0b20tZWxlbWVudC1ldmVudHMuanMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IChiYXNlQ2xhc3MgPSBjdXN0b21FbGVtZW50KCkpID0+IHtcbiAgcmV0dXJuIGNsYXNzIENvbXBvbmVudCBleHRlbmRzIGNsYXNzQnVpbGRlcihiYXNlQ2xhc3MpLndpdGgoZXZlbnRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydGllc0NoYW5nZWQoXG4gICAgICBjdXJyZW50UHJvcHMsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIGNoYW5nZWRQcm9wcywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgb2xkUHJvcHMgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICkge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAocGFzc1Rocm91Z2gpID0+IHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHJlc29sdmUocGFzc1Rocm91Z2gpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFzc1Rocm91Z2gpO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IHRlbXBsYXRlQ29udGVudCBmcm9tICcuL3RlbXBsYXRlLWNvbnRlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoaHRtbCkgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWwudHJpbSgpO1xuICBjb25zdCBmcmFnID0gdGVtcGxhdGVDb250ZW50KHRlbXBsYXRlKTtcbiAgaWYgKGZyYWcgJiYgZnJhZy5maXJzdENoaWxkKSB7XG4gICAgcmV0dXJuIGZyYWcuZmlyc3RDaGlsZDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGVFbGVtZW50IGZvciAke2h0bWx9YCk7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAobm9kZSkgPT4ge1xuICBsZXQgc2libGluZ3MgPSBbXTtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGxldCBzaWJsaW5nID0gbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgZG8ge1xuICAgICAgaWYgKHNpYmxpbmcubm9kZVR5cGUgPT09IDEgJiYgc2libGluZyAhPT0gbm9kZSkge1xuICAgICAgICBzaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKHNpYmxpbmcubmV4dFNpYmxpbmcgJiYgc2libGluZy5uZXh0U2libGluZyAhPT0gbnVsbCAmJiAoc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmcpKTtcbiAgfVxuXG4gIHJldHVybiBzaWJsaW5ncztcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChjaGlsZCwgcGFyZW50KSA9PiB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHdoaWxlIChjaGlsZC5wYXJlbnROb2RlICYmIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpICYmIGNoaWxkICE9PSBwYXJlbnQpIHt9XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHJldHVybiBCb29sZWFuKGNoaWxkKTtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCBpcyBmcm9tICcuLi90eXBlLmpzJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgbGlzdGVuRXZlbnQgfSBmcm9tICcuLi9kb20tZXZlbnRzL2xpc3Rlbi1ldmVudC5qcyc7XG5pbXBvcnQgcmVtb3ZlRWxlbWVudCBmcm9tICcuL3JlbW92ZS1lbGVtZW50LmpzJztcblxuXG5cbmV4cG9ydCBkZWZhdWx0IChkb21FbnRyeVBvaW50KSA9PiB7XG4gIGNvbnN0IGxhc3REb21FbnRyeVBvaW50ID0gZG9tRW50cnlQb2ludC5jbG9uZU5vZGUodHJ1ZSk7XG4gIGxldCByb3V0ZXMgPSB7fTtcbiAgbGV0IGhhc2hFdmVudEhhbmRsZXIgPSBudWxsO1xuICBsZXQgbGFzdFJvdXRlSGFuZGxlciA9IG51bGw7XG5cbiAgY29uc3QgbmF2aWdhdGUgPSAoaGFzaFVybCA9ICcnKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoVXJsO1xuICB9O1xuXG4gIGNvbnN0IHJlbG9hZCA9ICgpID0+IGhhbmRsZVJvdXRpbmcoKTtcblxuICBjb25zdCBvdGhlcndpc2UgPSAocm91dGVIYW5kbGVyKSA9PiB7XG4gICAgcm91dGVzWycqJ10gPSByb3V0ZUhhbmRsZXI7XG4gIH07XG5cbiAgY29uc3QgYWRkUm91dGUgPSAoaGFzaFVybCwgcm91dGVIYW5kbGVyLCBkYXRhKSA9PiB7XG4gICAgcm91dGVzW2hhc2hVcmxdID0gcm91dGVIYW5kbGVyO1xuICAgIHJvdXRlc1toYXNoVXJsXS5kYXRhID0gZGF0YTtcbiAgICByZXR1cm4geyBzdGFydCwgcmVsb2FkLCBhZGRSb3V0ZSwgb3RoZXJ3aXNlLCBuYXZpZ2F0ZSB9O1xuICB9O1xuXG4gIGNvbnN0IGluaXRpYWxpemVEb21FbGVtZW50ID0gKCkgPT4ge1xuICAgIGlmICghZG9tRW50cnlQb2ludC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZG9tQ2xvbmUgPSBsYXN0RG9tRW50cnlQb2ludC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgaWYgKGRvbUVudHJ5UG9pbnQgJiYgZG9tRW50cnlQb2ludC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICBkb21FbnRyeVBvaW50LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGRvbUNsb25lLCBkb21FbnRyeVBvaW50KTtcbiAgICB9XG5cbiAgICByZW1vdmVFbGVtZW50KGRvbUVudHJ5UG9pbnQpO1xuICAgIGRvbUVudHJ5UG9pbnQgPSBkb21DbG9uZTtcbiAgfTtcblxuICBjb25zdCBkaXNwb3NlTGFzdFJvdXRlID0gKCkgPT4ge1xuICAgIGlmIChsYXN0Um91dGVIYW5kbGVyICYmICFpcy51bmRlZmluZWQobGFzdFJvdXRlSGFuZGxlci5kaXNwb3NlKSkge1xuICAgICAgbGFzdFJvdXRlSGFuZGxlci5kaXNwb3NlKGRvbUVudHJ5UG9pbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSb3V0aW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHRSb3V0ZUlkZW50aWZpZXIgPSAnKic7XG4gICAgY29uc3QgY3VycmVudEhhc2ggPSBsb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuXG4gICAgY29uc3QgbWF5YmVNYXRjaGluZ1JvdXRlSWRlbnRpZmllciA9IGZpbmRNYXRjaGluZ1JvdXRlSWRlbnRpZmllcihjdXJyZW50SGFzaCwgT2JqZWN0LmtleXMocm91dGVzKSk7XG4gICAgbGV0IHJvdXRlUGFyYW1zID0ge307XG4gICAgaWYgKG1heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIpIHtcbiAgICAgIHJvdXRlUGFyYW1zID0gZXh0cmFjdFJvdXRlUGFyYW1zKG1heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIsIGN1cnJlbnRIYXNoKTtcbiAgICB9XG5cbiAgICBjb25zdCByb3V0ZUhhbmRsZXIgPVxuICAgICAgT2JqZWN0LmtleXMocm91dGVzKS5pbmRleE9mKG1heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIpID4gLTFcbiAgICAgICAgPyByb3V0ZXNbbWF5YmVNYXRjaGluZ1JvdXRlSWRlbnRpZmllcl1cbiAgICAgICAgOiByb3V0ZXNbZGVmYXVsdFJvdXRlSWRlbnRpZmllcl07XG5cbiAgICBpZiAocm91dGVIYW5kbGVyKSB7XG4gICAgICBkaXNwb3NlTGFzdFJvdXRlKCk7XG4gICAgICBsYXN0Um91dGVIYW5kbGVyID0gcm91dGVIYW5kbGVyO1xuICAgICAgaW5pdGlhbGl6ZURvbUVsZW1lbnQoKTtcbiAgICAgIHJvdXRlSGFuZGxlcihkb21FbnRyeVBvaW50LCByb3V0ZVBhcmFtcywgcm91dGVIYW5kbGVyLmRhdGEpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBoYXNoRXZlbnRIYW5kbGVyID0gbGlzdGVuRXZlbnQod2luZG93LCAnaGFzaGNoYW5nZScsIGhhbmRsZVJvdXRpbmcpO1xuICB9O1xuXG4gIGlmIChoYXNoRXZlbnRIYW5kbGVyKSB7XG4gICAgaGFzaEV2ZW50SGFuZGxlci5yZW1vdmUoKTtcbiAgfVxuXG4gIHJldHVybiB7IHN0YXJ0LCBhZGRSb3V0ZSwgb3RoZXJ3aXNlLCBuYXZpZ2F0ZSwgcmVsb2FkIH07XG59O1xuXG5mdW5jdGlvbiBwYXJzZVJvdXRlUGFyYW1Ub0NvcnJlY3RUeXBlKHBhcmFtVmFsdWUpIHtcbiAgaWYgKCFpc05hTihwYXJhbVZhbHVlKSkge1xuICAgIHJldHVybiBwYXJzZUludChwYXJhbVZhbHVlLCAxMCk7XG4gIH1cbiAgaWYgKHBhcmFtVmFsdWUgPT09ICd0cnVlJyB8fCBwYXJhbVZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UocGFyYW1WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSb3V0ZVBhcmFtcyhyb3V0ZUlkZW50aWZpZXIsIGN1cnJlbnRIYXNoKSB7XG4gIGNvbnN0IHNwbGl0dGVkSGFzaCA9IGN1cnJlbnRIYXNoLnNwbGl0KCcvJyk7XG4gIGNvbnN0IHNwbGl0dGVkUm91dGVJZGVudGlmaWVyID0gcm91dGVJZGVudGlmaWVyLnNwbGl0KCcvJyk7XG5cbiAgcmV0dXJuIHNwbGl0dGVkUm91dGVJZGVudGlmaWVyXG4gICAgLm1hcCgocm91dGVJZGVudGlmaWVyVG9rZW4sIGluZGV4KSA9PiB7XG4gICAgICBpZiAocm91dGVJZGVudGlmaWVyVG9rZW4uaW5kZXhPZignOicsIDApID09PSAtMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJvdXRlUGFyYW0gPSB7fTtcbiAgICAgIGNvbnN0IGtleSA9IHJvdXRlSWRlbnRpZmllclRva2VuLnN1YnN0cigxLCByb3V0ZUlkZW50aWZpZXJUb2tlbi5sZW5ndGggLSAxKTtcbiAgICAgIHJvdXRlUGFyYW1ba2V5XSA9IHNwbGl0dGVkSGFzaFtpbmRleF07XG4gICAgICByZXR1cm4gcm91dGVQYXJhbTtcbiAgICB9KVxuICAgIC5maWx0ZXIocCA9PiBwICE9PSBudWxsKVxuICAgIC5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgaWYgKGN1cnIpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoY3VycikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICBhY2Nba2V5XSA9IHBhcnNlUm91dGVQYXJhbVRvQ29ycmVjdFR5cGUoY3VycltrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gZmluZE1hdGNoaW5nUm91dGVJZGVudGlmaWVyKGN1cnJlbnRIYXNoLCByb3V0ZUtleXMpIHtcbiAgY29uc3Qgc3BsaXR0ZWRIYXNoID0gY3VycmVudEhhc2guc3BsaXQoJy8nKTtcbiAgY29uc3QgZmlyc3RIYXNoVG9rZW4gPSBzcGxpdHRlZEhhc2hbMF07XG5cbiAgcmV0dXJuIHJvdXRlS2V5cy5maWx0ZXIocm91dGVLZXkgPT4ge1xuICAgIGNvbnN0IHNwbGl0dGVkUm91dGVLZXkgPSByb3V0ZUtleS5zcGxpdCgnLycpO1xuICAgIGNvbnN0IHN0YXRpY1JvdXRlVG9rZW5zQXJlRXF1YWwgPVxuICAgICAgc3BsaXR0ZWRSb3V0ZUtleVxuICAgICAgICAubWFwKChyb3V0ZVRva2VuLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKHJvdXRlVG9rZW4uaW5kZXhPZignOicsIDApICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByb3V0ZVRva2VuID09PSBzcGxpdHRlZEhhc2hbaV07XG4gICAgICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoKGNvdW50SW52YWxpZCwgY3VycmVudFZhbGlkYXRpb25TdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChjdXJyZW50VmFsaWRhdGlvblN0YXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgKytjb3VudEludmFsaWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb3VudEludmFsaWQ7XG4gICAgICAgIH0sIDApID09PSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHJvdXRlS2V5LmluZGV4T2YoZmlyc3RIYXNoVG9rZW4sIDApICE9PSAtMSAmJlxuICAgICAgc3RhdGljUm91dGVUb2tlbnNBcmVFcXVhbCAmJlxuICAgICAgc3BsaXR0ZWRIYXNoLmxlbmd0aCA9PT0gc3BsaXR0ZWRSb3V0ZUtleS5sZW5ndGhcbiAgICApO1xuICB9KVswXTtcbn1cbiIsIi8qICAqL1xuaW1wb3J0IGxpc3RlbkV2ZW50LCB7IH0gZnJvbSAnLi9saXN0ZW4tZXZlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSA9IGZhbHNlKSA9PiB7XG4gIGxldCBoYW5kbGUgPSBsaXN0ZW5FdmVudChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgfSxcbiAgICBjYXB0dXJlXG4gICk7XG4gIHJldHVybiBoYW5kbGU7XG59O1xuIiwiLyogICovXG5pbXBvcnQgbGlzdGVuRXZlbnQsIHsgfSBmcm9tICcuL2xpc3Rlbi1ldmVudC5qcyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgKFxuICB0YXJnZXQsXG4gIHR5cGUsXG4gIGxpc3RlbmVyLFxuICBjYXB0dXJlID0gZmFsc2VcbikgPT4ge1xuICBsZXQgcGF1c2VkID0gZmFsc2U7XG4gIGxldCBoYW5kbGUgPSBsaXN0ZW5FdmVudChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKCFwYXVzZWQpIHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYXB0dXJlXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmUoKSB7XG4gICAgICBoYW5kbGUucmVtb3ZlKCk7XG4gICAgfSxcbiAgICBwYXVzZSgpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWUoKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGJlaGF2aW91ci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChvYmosIGtleSwgZGVmYXVsdFZhbHVlID0gdW5kZWZpbmVkKSA9PiB7XG4gIGlmIChrZXkuaW5kZXhPZignLicpID09PSAtMSkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqW2tleV0gIT09ICd1bmRlZmluZWQnID8gb2JqW2tleV0gOiBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgbGVuZ3RoID0gcGFydHMubGVuZ3RoO1xuICBsZXQgb2JqZWN0ID0gb2JqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5LmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnLicpO1xuICBjb25zdCBkZXB0aCA9IHBhcnRzLmxlbmd0aCAtIDE7XG4gIGxldCBvYmplY3QgPSBvYmo7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXB0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RbcGFydHNbaV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0W3BhcnRzW2ldXSA9IHt9O1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICB9XG4gIG9iamVjdFtwYXJ0c1tkZXB0aF1dID0gdmFsdWU7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIHJldml2ZXIgPSAoaywgdikgPT4gdikgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSksIHJldml2ZXIpO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAobykgPT5cbiAgT2JqZWN0LmtleXMobykucmVkdWNlKChtLCBrKSA9PiBtLnNldChrLCBvW2tdKSwgbmV3IE1hcCgpKTtcbiJdLCJuYW1lcyI6WyJwcmV2VGltZUlkIiwicHJldlVuaXF1ZUlkIiwicHJlZml4IiwibmV3VW5pcXVlSWQiLCJEYXRlIiwibm93IiwidW5pcXVlSWQiLCJTdHJpbmciLCJmcmVlemUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiaGFzT3duUHJvcGVydHkiLCJ3cmFwcGVkTWl4aW5LZXkiLCJhcHBsaWVkTWl4aW5LZXkiLCJjYWNoZWRBcHBsaWNhdGlvbktleSIsImNyZWF0ZU1peGluIiwibWl4aW4iLCJ3cmFwIiwic3VwZXJDbGFzcyIsIm8iLCJpc0FwcGxpY2F0aW9uT2YiLCJoYXNNaXhpbiIsInByb3RvdHlwZSIsImRlZHVwZU1peGluIiwiY2FjaGVkQXBwbGljYXRpb24iLCJNYXAiLCJhcHBsaWNhdGlvbiIsImdldCIsInNldCIsImNhY2hlTWl4aW4iLCJ1bndyYXAiLCJhcHBseU1peGluIiwiZGVjbGFyZU1peGluIiwiQ3RvciIsIm1peGlucyIsIm1hcCIsInJlZHVjZSIsImsiLCJtIiwid3JhcHBlciIsInByb3RvIiwiY2FsbCIsImNyZWF0b3IiLCJjcmVhdGUiLCJiaW5kIiwic3RvcmUiLCJXZWFrTWFwIiwib2JqIiwidmFsdWUiLCJhcnIiLCJmbiIsIkJvb2xlYW4iLCJzb21lIiwiZXZlcnkiLCJkb0FsbEFwaSIsInBhcmFtcyIsImFsbCIsImRvQW55QXBpIiwiYW55IiwidG9TdHJpbmciLCJ0eXBlcyIsImxlbiIsImxlbmd0aCIsInR5cGVDYWNoZSIsInR5cGVSZWdleHAiLCJjaGVja3MiLCJpIiwidHlwZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3JjVHlwZSIsInNyYyIsInNldHVwIiwiZ2V0VHlwZSIsIm1hdGNoZXMiLCJtYXRjaCIsIkFycmF5IiwiaXNBcnJheSIsImNsb25lIiwiY2lyY3VsYXJzIiwiY2xvbmVzIiwiaXMiLCJ1bmRlZmluZWQiLCJudWxsIiwiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsImlzUHJpbWl0aXZlIiwiZnVuY3Rpb24iLCJjb250ZXh0IiwiaGFuZGxlcnMiLCJ0aGlzIiwiZ2V0VGltZSIsIlJlZ0V4cCIsImZyb20iLCJlbnRyaWVzIiwiU2V0IiwidmFsdWVzIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJuYW1lIiwiYXBwZW5kIiwiQmxvYiIsInB1c2giLCJrZXkiLCJpZHgiLCJmaW5kSW5kZXgiLCJfdGhpcyIsImFyZ3MiLCJhcHBseSIsImNsb25lciIsImFycmF5UmVwbGFjZVN0cmF0ZWd5Iiwic291cmNlIiwidGFyZ2V0Iiwib3B0cyIsImFycmF5TWVyZ2UiLCJyZXN1bHQiLCJtZXJnZSIsInBvcCIsImZhY3RvcnkiLCJrZXlzIiwiY29uY2F0IiwiZm9yRWFjaCIsIm1lcmdlciIsIkh0dHBNZXRob2RzIiwicHJpdmF0ZXMiLCJjcmVhdGVTdG9yYWdlIiwiSHR0cEVycm9yIiwicmVzcG9uc2UiLCJfRXJyb3IiLCJzdGF0dXMiLCJ1cmwiLCJFcnJvciIsIkh0dHAiLCJjb25maWciLCJjYXRjaGVyIiwiZXJyb3JJZCIsImNhdGNoZXJzIiwibWlkZGxld2FyZSIsImNsZWFyIiwicmVwbGFjZSIsIm9wdGlvbnMiLCJhc3NpZ24iLCJoZWFkZXJWYWx1ZXMiLCJhY2NlcHQiLCJoZWFkZXJWYWx1ZSIsIkFjY2VwdCIsImNvbnRlbnQiLCJDb250ZW50LVR5cGUiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJjYWNoZSIsImludGVncml0eSIsImtlZXBhbGl2ZSIsInJlZGlyZWN0IiwiYm9keSIsImNvbnRlbnRzIiwiYXV0aCIsIkF1dGhvcml6YXRpb24iLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImZvcm0iLCJmb3JtT2JqZWN0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmFiZWxIZWxwZXJzLnR5cGVvZiIsImpvaW4iLCJtZXRob2QiLCJHZXQiLCJzZW5kIiwicG9zdCIsIlBvc3QiLCJpbnNlcnQiLCJQdXQiLCJ1cGRhdGUiLCJQYXRjaCIsImRlbGV0ZSIsIkRlbGV0ZSIsIm1pZGRsZXdhcmVzIiwicmVzb2x2ZXJzIiwiZmV0Y2hGdW5jdGlvbiIsInJlZHVjZVJpZ2h0IiwiYWNjIiwiY3VyciIsImZldGNoIiwicmVxdWVzdCIsInRoZW4iLCJvayIsImRvQ2F0Y2giLCJwcm9taXNlIiwiY2F0Y2giLCJoYXMiLCJlcnIiLCJfdGhpczIiLCJ3cmFwVHlwZVBhcnNlciIsImZ1bk5hbWUiLCJjYiIsInJlc3BvbnNlQ2hhaW4iLCJjaGFpbiIsInIiLCJiZWhhdmlvdXIiLCJtZXRob2ROYW1lcyIsImtsYXNzIiwiZGVmaW5lUHJvcGVydHkiLCJtZXRob2ROYW1lIiwidW5zaGlmdCIsImN1cnJIYW5kbGUiLCJsYXN0SGFuZGxlIiwiY2FsbGJhY2tzIiwibm9kZUNvbnRlbnQiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJzcGxpY2UiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInJ1biIsImNhbGxiYWNrIiwidGV4dENvbnRlbnQiLCJoYW5kbGUiLCJnbG9iYWwiLCJkZWZhdWx0VmlldyIsIkhUTUxFbGVtZW50IiwiX0hUTUxFbGVtZW50IiwiYmFzZUNsYXNzIiwiY3VzdG9tRWxlbWVudHNWMUNhbGxiYWNrcyIsIl9iYXNlQ2xhc3MiLCJjb25zdHJ1Y3QiLCJmaW5hbGl6ZUNsYXNzIiwiZGVmaW5lIiwidGFnTmFtZSIsInJlZ2lzdHJ5IiwiY3VzdG9tRWxlbWVudHMiLCJjYWxsYmFja01ldGhvZE5hbWUiLCJuZXdDYWxsYmFja05hbWUiLCJzdWJzdHJpbmciLCJvcmlnaW5hbE1ldGhvZCIsImNvbm5lY3RlZENhbGxiYWNrIiwiY29ubmVjdGVkIiwiaW5pdGlhbGl6ZWQiLCJyZW5kZXIiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInJlbmRlckNhbGxiYWNrIiwicmVuZGVyaW5nIiwiZmlyc3RSZW5kZXIiLCJfb25SZW5kZXIiLCJfcG9zdFJlbmRlciIsImF0dHJpYnV0ZUNoYW5nZWQiLCJhdHRyaWJ1dGVOYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRpc2Nvbm5lY3RlZCIsImFkb3B0ZWQiLCJyZXR1cm5WYWx1ZSIsImlzQnJvd3NlciIsIndpbmRvdyIsImluY2x1ZGVzIiwiZWxlbWVudCIsIm5vZGVUeXBlIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsImNoaWxkTm9kZXMiLCJjaGlsZHJlbiIsInJhaXNlIiwiYnJvd3NlciIsImh5cGVuUmVnRXgiLCJlbGVtZW50Q2hpbGRyZW4iLCJjaGlsZCIsImF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInNsb3QiLCJ0b1VwcGVyQ2FzZSIsInNsb3RzIiwiZGVmYXVsdCIsInNsb3RzQXNzaWduZWQiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJpbmRleE9mIiwiZXZlbnRzIiwic3BsaXQiLCJoYW5kbGVzIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmUiLCJwYXJzZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnREZWZhdWx0UGFyYW1zIiwib2ZmIiwiaGFuZGxlRXZlbnQiLCJldmVudCIsIm9uIiwib3duIiwibGlzdGVuRXZlbnQiLCJkaXNwYXRjaCIsImRhdGEiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJoYW5kbGVyIiwiYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWVzIiwicHJvcGVydHlOYW1lc1RvQXR0cmlidXRlcyIsInByb3BlcnRpZXNDb25maWciLCJkYXRhSGFzQWNjZXNzb3IiLCJkYXRhUHJvdG9WYWx1ZXMiLCJub3JtYWxpemVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsIm91dHB1dCIsInByb3BlcnR5IiwiaGFzT2JzZXJ2ZXIiLCJpc09ic2VydmVyU3RyaW5nIiwib2JzZXJ2ZXIiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiTnVtYmVyIiwiaXNCb29sZWFuIiwiaXNPYmplY3QiLCJpc0RhdGUiLCJub3RpZnkiLCJyZWFkT25seSIsInJlZmxlY3RUb0F0dHJpYnV0ZSIsImluaXRpYWxpemVQcm9wZXJ0aWVzIiwiX2ZsdXNoUHJvcGVydGllcyIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5IiwiY3VycmVudFByb3BzIiwiY2hhbmdlZFByb3BzIiwib2xkUHJvcHMiLCJjb25zdHJ1Y3RvciIsImNsYXNzUHJvcGVydGllcyIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3JlYXRlUHJvcGVydGllcyIsImF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lIiwicHJvcGVydHlOYW1lVG9BdHRyaWJ1dGUiLCJwcm9wZXJ0eVZhbHVlIiwiX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IiLCJzZXJpYWxpemluZyIsImRhdGFQZW5kaW5nIiwiZGF0YU9sZCIsImRhdGFJbnZhbGlkIiwiX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMiLCJfaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzQ2hhbmdlZCIsIl9nZXRQcm9wZXJ0eSIsIl9zZXRQcm9wZXJ0eSIsIl9pc1ZhbGlkUHJvcGVydHlWYWx1ZSIsIl9zZXRQZW5kaW5nUHJvcGVydHkiLCJfaW52YWxpZGF0ZVByb3BlcnRpZXMiLCJsb2ciLCJfdGhpczMiLCJfdGhpczQiLCJfZGVzZXJpYWxpemVWYWx1ZSIsInByb3BlcnR5VHlwZSIsIl9zZXJpYWxpemVWYWx1ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInByb3BlcnR5Q29uZmlnIiwib2xkIiwiY2hhbmdlZCIsIl9zaG91bGRQcm9wZXJ0eUNoYW5nZSIsIl90aGlzNSIsInByb3BzIiwiX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UiLCJfdGhpczYiLCJnZXRQcm9wZXJ0aWVzQ29uZmlnIiwiY2hlY2tPYmoiLCJsb29wIiwiRnVuY3Rpb24iLCJ0ZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJpbXBvcnROb2RlIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjb21wb25lbnRXaWxsUmVuZGVyIiwic3RhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwicmVuZGVyZWRTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJjb21wb25lbnREaWRSZW5kZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJzZXRTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIm5leHRTdGF0ZSIsImNoYW5nZXMiLCJuZXdTdGF0ZSIsImN1c3RvbUVsZW1lbnQiLCJjbGFzc0J1aWxkZXIiLCJ3aXRoIiwicGFzc1Rocm91Z2giLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJodG1sIiwiaW5uZXJIVE1MIiwidHJpbSIsImZyYWciLCJ0ZW1wbGF0ZUNvbnRlbnQiLCJmaXJzdENoaWxkIiwic2libGluZ3MiLCJwYXJlbnROb2RlIiwic2libGluZyIsIm5leHRTaWJsaW5nIiwicGFyZW50IiwiZG9tRW50cnlQb2ludCIsImxhc3REb21FbnRyeVBvaW50Iiwicm91dGVzIiwiaGFzaEV2ZW50SGFuZGxlciIsImxhc3RSb3V0ZUhhbmRsZXIiLCJuYXZpZ2F0ZSIsImhhc2hVcmwiLCJsb2NhdGlvbiIsImhhc2giLCJyZWxvYWQiLCJoYW5kbGVSb3V0aW5nIiwib3RoZXJ3aXNlIiwicm91dGVIYW5kbGVyIiwiY3VycmVudEhhc2giLCJzbGljZSIsIm1heWJlTWF0Y2hpbmdSb3V0ZUlkZW50aWZpZXIiLCJyb3V0ZUtleXMiLCJzcGxpdHRlZEhhc2giLCJmaXJzdEhhc2hUb2tlbiIsImZpbHRlciIsInNwbGl0dGVkUm91dGVLZXkiLCJyb3V0ZUtleSIsInN0YXRpY1JvdXRlVG9rZW5zQXJlRXF1YWwiLCJyb3V0ZVRva2VuIiwiY291bnRJbnZhbGlkIiwiY3VycmVudFZhbGlkYXRpb25TdGF0ZSIsImZpbmRNYXRjaGluZ1JvdXRlSWRlbnRpZmllciIsInJvdXRlUGFyYW1zIiwicm91dGVJZGVudGlmaWVyIiwicm91dGVJZGVudGlmaWVyVG9rZW4iLCJpbmRleCIsInJvdXRlUGFyYW0iLCJzdWJzdHIiLCJwIiwicGFyYW1WYWx1ZSIsImlzTmFOIiwicGFyc2VJbnQiLCJleHRyYWN0Um91dGVQYXJhbXMiLCJkaXNwb3NlIiwiZG9tQ2xvbmUiLCJpbnNlcnRCZWZvcmUiLCJzdGFydCIsImFkZFJvdXRlIiwicGF1c2VkIiwiZGVmYXVsdFZhbHVlIiwicGFydHMiLCJvYmplY3QiLCJkZXB0aCIsInJldml2ZXIiLCJ2Il0sIm1hcHBpbmdzIjoicU1BRUEsSUFBSUEsRUFBYSxFQUNiQyxFQUFlLGFBRUhDLE9BQ1ZDLEVBQWNDLEtBQUtDLE1BQ25CRixJQUFnQkgsSUFDaEJDLEtBRVdFLElBQ0UsT0FHYkcsS0FBY0MsT0FBT0osR0FBZUksT0FBT04sVUFDM0NDLE1BQ1lBLE1BQVVJLEdBRW5CQSxtZ0NDZkRFLEVBQTJEQyxPQUEzREQsT0FBUUUsRUFBbURELE9BQW5EQyxlQUFnQkMsRUFBbUNGLE9BQW5DRSxlQUFnQkMsRUFBbUJILE9BQW5CRyxlQUcxQ0MsRUFBa0JQLEVBQVMsaUJBRzNCUSxFQUFrQlIsRUFBUyxpQkFHM0JTLEVBQXVCVCxFQUFTLHNCQUd6QlUsRUFBYyxTQUFDQyxVQTZINUIsU0FBcUJBLFVBQ1pDLEVBQ0xELEVBQ0EsU0FBQ0UsVUFsQ0wsU0FBa0JDLEVBQUdILFFBQ04sT0FBTkcsR0FBWSxJQUNiQyxFQUFnQkQsRUFBR0gsVUFDZCxJQUVMTixFQUFlUyxVQUVkLEVBMkJZRSxDQUFTSCxFQUFXSSxVQUFXTixHQUFTRSxFQUFhRixFQUFNRSxLQWhJMUNLLENBK0l0QyxTQUFvQlAsVUFDWEMsRUFBS0QsRUFBTyxTQUFDRSxPQUNkTSxFQUFvQk4sRUFBV0osR0FDOUJVLE1BQ2lCTixFQUFXSixHQUF3QixJQUFJVyxTQUl6REMsRUFBY0YsRUFBa0JHLElBQUlYLFVBQ25DVSxNQUNXVixFQUFNRSxLQUNGVSxJ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

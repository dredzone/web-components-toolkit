!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VoyaUtilityToolkit={})}(this,function(t){"use strict";var e=0,n=0,r=function(t){var r=Date.now();r===e?++n:(e=r,n=0);var i=""+String(r)+String(n);return t&&(i=t+"_"+i),i},i=r("_wrappedMixin"),o=r("_appliedMixin"),a=function(t){return t[i]||t},u=Object.setPrototypeOf,s=function(t,e){return u(e,t),t[i]||(t[i]=t),e},c=function(t){return s(t,function(e){return function(t,e){var n=e(t);return n.prototype[o]=a(e),n}(e,t)})},f=Object.hasOwnProperty,l=function(t,e){return f.call(t,o)&&t[o]===a(e)},p=Object.getPrototypeOf,h=function(t){return s(t,function(e){return function(t,e){for(;null!==t;){if(l(t,e))return!0;t=p(t)}return!1}(e.prototype,t)?e:t(e)})},d=r("_cachedApplication"),y=function(t){return h(function(t){return s(t,function(e){var n=e[d];n||(n=e[d]=new Map);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r})}(c(t)))},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},O=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},P=Object.freeze,w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return function t(){b(this,t)}}();return P({with:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(t){return y(t)}).reduce(function(t,e){return e(t)},t)}})},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create.bind(null,null,{}),e=new WeakMap;return function(n){var r=e.get(n);return r||e.set(n,r=t(n)),r}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.some(e)},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.every(e)},A=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return j(n,t)}},C=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return _(n,t)}},z=Object.prototype.toString,S="Map Set Symbol Array Object String Date RegExp Function Boolean Number Null Undefined Arguments Error".split(" "),T=S.length,N={},k=/\s([a-zA-Z]+)/,x=function(){for(var t={},e=function(e){var n=S[e].toLowerCase();t[n]=function(t){return function(t){var e=z.call(t);if(!N[e]){var n=e.match(k);Array.isArray(n)&&n.length>1&&(N[e]=n[1].toLowerCase())}return N[e]}(t)===n},t[n].all=A(t[n]),t[n].any=C(t[n])},n=T;n--;)e(n);return t}();var M={hub:Object.create(null),emit:function(t,e){(this.hub[t]||[]).forEach(function(t){return t(e)})},on:function(t,e){this.hub[t]||(this.hub[t]=[]),this.hub[t].push(e)},off:function(t,e){var n=(this.hub[t]||[]).findIndex(function(t){return t===e});n>-1&&this.hub[t].splice(n,1)}},D=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,i=n.length,o=Object.defineProperty,a=function(e){var i=n[e],a=r[i];o(r,i,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),a.apply(this,n)},writable:!0})},u=0;u<i;u++)a(u);return e}},L=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,i=n.length,o=Object.defineProperty,a=function(e){var i=n[e],a=r[i];o(r,i,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.unshift(a),t.apply(this,n)},writable:!0})},u=0;u<i;u++)a(u);return e}},R=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,i=n.length,o=Object.defineProperty,a=function(e){var i=n[e],a=r[i];o(r,i,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=a.apply(this,n);return t.apply(this,n),i},writable:!0})},u=0;u<i;u++)a(u);return e}},U=!["undefined"==typeof window?"undefined":v(window),"undefined"==typeof document?"undefined":v(document)].includes("undefined"),V=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){if(U)return t.apply(void 0,arguments);if(e)throw new Error(t.name+" for browser use only")}},B=V(function(t){return"loading"===document.readyState?new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e(t)})}):Promise.resolve(t)}),H=V(function(t){if("content"in document.createElement("template"))return document.importNode(t.content,!0);for(var e=document.createDocumentFragment(),n=t.childNodes,r=0;r<n.length;r++)e.appendChild(n[r].cloneNode(!0));return e}),I=V(function(t){var e=document.createElement("template");e.innerHTML=t.trim();var n=H(e);if(n&&n.firstChild)return n.firstChild;throw new Error("Unable to createElement for "+t)}),W=V(function(t){var e=[];if(t.parentNode&&t.parentNode.firstChild){var n=t.parentNode.firstChild;do{1===n.nodeType&&n!==t&&e.push(n)}while(n.nextSibling&&null!==n.nextSibling&&(n=n.nextSibling))}return e}),F=V(function(t){t.parentElement&&t.parentElement.removeChild(t)}),J=V(function(t,e){for(;t.parentNode&&(t=t.parentNode)&&t!==e;);return Boolean(t)}),Z=V(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Node.ELEMENT_NODE,n=t.childNodes,r=[];if(n&&n.length>0)for(var i=n.length;i--;)n[i].nodeType===e&&r.unshift(n[i]);return r}),$=0,q=0,G=[],K=0,Q=document.createTextNode("");new MutationObserver(function(){for(var t=G.length,e=0;e<t;e++){var n=G[e];if(n&&"function"==typeof n)try{n()}catch(t){setTimeout(function(){throw t})}}G.splice(0,t),q+=t}).observe(Q,{characterData:!0});var X={run:function(t){return Q.textContent=String(K++),G.push(t),$++},cancel:function(t){var e=t-q;if(e>=0){if(!G[e])throw new Error("invalid async handle: "+t);G[e]=null}}};var Y=V(function(t,e,n){return function(t,e,n,r){if(e.indexOf(",")>-1){var i=e.split(/\s*,\s*/),o=i.map(function(e){return tt(t,e,n,r)});return{remove:function(){this.remove=function(){};for(var t=void 0;t=o.pop();)t.remove()}}}return tt(t,e,n,r)}(t,e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])});function tt(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),{remove:function(){this.remove=function(){},t.removeEventListener(e,n,r)}};throw new Error("target must be an event emitter")}var et=V(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Y(t,e,function(){i.remove(),n.apply(void 0,arguments)},r);return i}),nt=V(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!1,o=Y(t,e,function(){i||n.apply(void 0,arguments)},r);return{remove:function(){o.remove()},pause:function(){i=!0},resume:function(){i=!1}}}),rt=V(function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault()}),it=document.defaultView;if("function"!=typeof it.HTMLElement){var ot=function(){};ot.prototype=it.HTMLElement.prototype,it.HTMLElement=ot}var at=V(function(t){var e=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"],n=Object.defineProperty,r=Object.hasOwnProperty,i=E();return t||(t=function(t){function e(){return b(this,e),O(this,t.apply(this,arguments))}return m(e,t),e}(it.HTMLElement)),function(t){function o(){b(this,o);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=O(this,t.call.apply(t,[this].concat(n)));return i.construct(),i}return m(o,t),o.finalizeClass=function(){},o.define=function(t){var o=customElements;if(!o.get(t)){var a=this.prototype;e.forEach(function(t){r.call(a,t)||n(a,t,{value:function(){},configurable:!0});var e=t.substring(0,t.length-"callback".length),i=a[t];n(a,t,{value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this[e].apply(this,n),i.apply(this,n)},configurable:!0})}),this.finalizeClass(),L(function(t){i(this).connected=!0,i(this).initialized||(i(this).initialized=!0,t.call(this),this.render())},"connected")(this),L(function(t){var e=this;i(e).connected=!1,X.run(function(){!i(e).connected&&i(e).initialized&&(i(e).initialized=!1,t.call(e))})},"disconnected")(this),L(function(t){var e=this;if(!i(e).rendering){var n=void 0===i(e).rendering;i(e).rendering=!0,X.run(function(){i(e).rendering&&(i(e).rendering=!1,e._onRender(n),t.call(e),e._postRender(n))})}},"render")(this),o.define(t,this)}},g(o,[{key:"initialized",get:function(){return!0===i(this).initialized}}],[{key:"observedAttributes",get:function(){return[]}}]),o.prototype.construct=function(){},o.prototype.attributeChanged=function(t,e,n){},o.prototype.connected=function(){},o.prototype.disconnected=function(){},o.prototype.adopted=function(){},o.prototype.render=function(){},o.prototype._onRender=function(){},o.prototype._postRender=function(){},o}(t)}),ut=V(function(t){var e=Object.assign,n=E();return function(t){function r(){return b(this,r),O(this,t.apply(this,arguments))}return m(r,t),r.finalizeClass=function(){t.finalizeClass.call(this),R(function(t){t?this.componentWillRender(this.state):this.componentWillUpdate(this.state,e({},n(this).renderedState))},"_onRender")(this),R(function(t){var e=n(this).renderedState;n(this).renderedState=n(this).state,t?this.componentDidRender(e):this.componentDidUpdate(e)},"_postRender")(this)},r.prototype.construct=function(){t.prototype.construct.call(this),this.setState(this.defaultState)},r.prototype.shouldComponentUpdate=function(t){for(var e in t)if(t[e]!==n(this).state[e])return!0;return!1},r.prototype.setState=function(t){var r=e({},n(this).state,t);(void 0===n(this).state||this.shouldComponentUpdate(r))&&(n(this).state=r,this.initialized&&this.render())},r.prototype.componentWillRender=function(t){},r.prototype.componentDidRender=function(t){},r.prototype.componentWillUpdate=function(t,e){},r.prototype.componentDidUpdate=function(t){},g(r,[{key:"defaultState",get:function(){return{}}},{key:"state",get:function(){return e({},n(this).state)}}]),r}(t)}),st=V(function(t){return function(t){function e(){return b(this,e),O(this,t.apply(this,arguments))}return m(e,t),e.finalizeClass=function(){var e;t.finalizeClass.call(this),D((e=/-([a-z])/g,function(t){var n=this;if(t){var r=Z(n);r.forEach(function(t){var r=t.getAttribute?t.getAttribute("slot"):null;if("string"==typeof r&&r.length>0){var i=r.replace(e,function(t){return t[1].toUpperCase()});n.slots[i]=t}else n.slots.default.push(t)}),n.slotsAssigned()}}),"_onRender")(this)},e.prototype.construct=function(){t.prototype.construct.call(this),this.slots={default:[]}},e.prototype.slotsAssigned=function(){},e}(t)}),ct=V(function(t){var e=Object.assign,n=E(function(){return{handlers:[]}}),r={bubbles:!1,cancelable:!1};return function(t){function i(){return b(this,i),O(this,t.apply(this,arguments))}return m(i,t),i.finalizeClass=function(){t.finalizeClass.call(this),R(function(){this.off()},"disconnected")(this)},i.prototype.handleEvent=function(t){var e="on"+t.type;"function"==typeof this[e]&&this[e](t)},i.prototype.on=function(t,e,n){this.own(Y(this,t,e,n))},i.prototype.dispatch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dispatchEvent(new CustomEvent(t,e(r,{detail:n})))},i.prototype.off=function(){n(this).handlers.forEach(function(t){t.remove()})},i.prototype.own=function(){for(var t=this,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];r.forEach(function(e){n(t).handlers.push(e)})},i}(t)}),ft=V(function(t){var e=Object.defineProperty,n=Object.keys,r=Object.assign,i={},o={},a=E(),u=void 0,s={},c={};function f(t){var e,n={};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var i=t[r];n[r]="function"==typeof i?{type:i}:i,(e=n[r]).hasObserver="observer"in e,e.isObserverString=e.hasObserver&&"string"==typeof e.observer,e.isString=e.type===String,e.isNumber=e.type===Number,e.isBoolean=e.type===Boolean,e.isObject=e.type===Object,e.isArray=e.type===Array,e.isDate=e.type===Date,e.notify="notify"in e,e.readOnly="readOnly"in e&&e.readOnly,e.reflectToAttribute="reflectToAttribute"in e?e.reflectToAttribute:e.isString||e.isNumber||e.isBoolean}return n}return function(t){function l(){return b(this,l),O(this,t.apply(this,arguments))}return m(l,t),l.finalizeClass=function(){t.finalizeClass.call(this),D(function(){Object.keys(a(this).initializeProperties).length>0&&(r(this,a(this).initializeProperties),a(this).initializeProperties={}),this._flushProperties()},"connected")(this),D(function(t,e,n){e!==n&&this._attributeToProperty(t,n)},"attributeChanged")(this),D(function(t,e,n){var r=this,i=this;Object.keys(e).forEach(function(t){var o=i.constructor.classProperties[t],a=o.notify,u=o.hasObserver,s=o.reflectToAttribute,c=o.isObserverString,f=o.observer;s&&i._propertyToAttribute(t,e[t]),u&&c?r[f](e[t],n[t]):u&&"function"==typeof f&&f.apply(i,[e[t],n[t]]),a&&i.dispatchEvent(new CustomEvent(t+"-changed",{detail:{newValue:e[t],oldValue:n[t]}}))})},"propertiesChanged")(this),this.createProperties()},l.attributeToPropertyName=function(t){var e=i[t];if(!e){e=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),i[t]=e}return e},l.propertyNameToAttribute=function(t){var e=o[t];if(!e){e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),o[t]=e}return e},l.createProperties=function(){var t=this.prototype,e=this.classProperties;n(e).forEach(function(n){if(Object.hasOwnProperty.call(t,n))throw new Error("Unable to setup property '"+n+"', property already exists");var r=e[n].value;void 0!==r&&(c[n]=r),t._createPropertyAccessor(n,e[n].readOnly)})},l.prototype.construct=function(){t.prototype.construct.call(this),a(this).data={},a(this).serializing=!1,a(this).initializeProperties={},a(this).dataPending=null,a(this).dataOld=null,a(this).dataInvalid=!1,this._initializeProtoProperties(),this._initializeProperties()},l.prototype.propertiesChanged=function(t,e,n){},l.prototype._createPropertyAccessor=function(t,n){s[t]||(s[t]=!0,e(this,t,{enumerable:!0,configurable:!0,get:function(){return this._getProperty(t)},set:n?function(){}:function(e){this._setProperty(t,e)}}))},l.prototype._getProperty=function(t){return a(this).data[t]},l.prototype._setProperty=function(t,e){this._isValidPropertyValue(t,e)?this._setPendingProperty(t,e)&&this._invalidateProperties():console.log("invalid value "+e+" for property "+t+" of\n\t\t\t\t\ttype "+this.constructor.classProperties[t].type.name)},l.prototype._initializeProtoProperties=function(){var t=this;Object.keys(c).forEach(function(e){var n="function"==typeof c[e]?c[e].call(t):c[e];t._setProperty(e,n)})},l.prototype._initializeProperties=function(){var t=this;Object.keys(s).forEach(function(e){Object.hasOwnProperty.call(t,e)&&(a(t).initializeProperties[e]=t[e],delete t[e])})},l.prototype._attributeToProperty=function(t,e){if(!a(this).serializing){var n=this.constructor.attributeToPropertyName(t);this[n]=this._deserializeValue(n,e)}},l.prototype._isValidPropertyValue=function(t,e){var n=this.constructor.classProperties[t].type;return"object"===(void 0===e?"undefined":v(e))?e instanceof n:""+(void 0===e?"undefined":v(e))===n.name.toLowerCase()},l.prototype._propertyToAttribute=function(t,e){a(this).serializing=!0;var n=this.constructor.propertyNameToAttribute(t);void 0===(e=this._serializeValue(t,e))?this.removeAttribute(n):this.getAttribute(n)!==e&&this.setAttribute(n,e),a(this).serializing=!1},l.prototype._deserializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isNumber,i=n.isArray,o=n.isBoolean,a=n.isDate,u=n.isString,s=n.isObject;return o?e=null!==e&&void 0!==e:r?e=null===e||void 0===e?0:Number(e):u?e=null===e||void 0===e?"":String(e):s||i?e=null===e||void 0===e?i?null:{}:JSON.parse(e):a&&(e=null===e||void 0===e?"":new Date(e)),e},l.prototype._serializeValue=function(t,e){var n=this.constructor.classProperties[t],r=n.isBoolean,i=n.isObject,o=n.isArray;return r?e?"":void 0:i||o?JSON.stringify(e):e=e?e.toString():void 0},l.prototype._setPendingProperty=function(t,e){var n=a(this).data[t],r=this._shouldPropertyChange(t,e,n);return r&&(a(this).dataPending||(a(this).dataPending={},a(this).dataOld={}),!a(this).dataOld||t in a(this).dataOld||(a(this).dataOld[t]=n),a(this).data[t]=e,a(this).dataPending[t]=e),r},l.prototype._invalidateProperties=function(){var t=this;a(this).dataInvalid||(a(this).dataInvalid=!0,X.run(function(){a(t).dataInvalid&&(a(t).dataInvalid=!1,t._flushProperties())}))},l.prototype._flushProperties=function(){var t=a(this).data,e=a(this).dataPending,n=a(this).dataOld;this._shouldPropertiesChange(t,e,n)&&(a(this).dataPending=null,a(this).dataOld=null,this.propertiesChanged(t,e,n))},l.prototype._shouldPropertiesChange=function(t,e,n){return Boolean(e)},l.prototype._shouldPropertyChange=function(t,e,n){return n!==e&&(n==n||e==e)},g(l,null,[{key:"observedAttributes",get:function(){var t=this;return Object.keys(this.classProperties).map(function(e){return t.propertyNameToAttribute(e)})||[]}},{key:"classProperties",get:function(){if(!u){for(var t=function(){return u||{}},e=null,n=!0;n;)(e=Object.getPrototypeOf(null===e?this:e))&&e.constructor&&e.constructor!==HTMLElement&&e.constructor!==Function&&e.constructor!==Object&&e.constructor!==e.constructor.constructor||(n=!1),Object.hasOwnProperty.call(e,"properties")&&(u=r(t(),f(e.properties)));this.properties&&(u=r(t(),f(this.properties)))}return u}}]),l}(t)}),lt=V(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at();return function(t){function e(){return b(this,e),O(this,t.apply(this,arguments))}return m(e,t),e.prototype.propertiesChanged=function(t,e,n){this.initialized&&this.render()},e}(w(t).with(ct,ft))});t.classBuilder=w,t.createStorage=E,t.type=x,t.eventHub=M,t.before=D,t.around=L,t.after=R,t.afterThrow=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,i=n.length,o=Object.defineProperty,a=function(e){var i=n[e],a=r[i];o(r,i,{value:function(){try{for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.apply(this,n)}catch(e){t.call(this,e)}},writable:!0})},u=0;u<i;u++)a(u);return e}},t.any=_,t.all=j,t.documentReady=B,t.createElement=I,t.elementSiblings=W,t.removeElement=F,t.isDescendantElement=J,t.elementChildren=Z,t.templateContent=H,t.microTask=X,t.listenEvent=Y,t.listenEventOnce=et,t.pausableEvent=nt,t.stopEvent=rt,t.customElement=at,t.state=ut,t.slots=st,t.events=ct,t.properties=ft,t.component=lt,t.dget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(-1===e.indexOf("."))return t[e]?t[e]:n;for(var r=e.split("."),i=r.length,o=t,a=0;a<i;a++)if(void 0===(o=o[r[a]]))return void(o=n);return o},t.dset=function(t,e,n){if(-1!==e.indexOf(".")){for(var r=e.split("."),i=r.length-1,o=t,a=0;a<i;a++)void 0===o[r[a]]&&(o[r[a]]={}),o=o[r[a]];o[r[i]]=n}else t[e]=n},t.objectToMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},t.clone=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e||!x.object(e)||x.function(e))return e;if(x.date(e))return new Date(e.getTime());if(x.regexp(e))return new RegExp(e);if(x.array(e))return e.map(t);if(x.map(e))return new Map(Array.from(e.entries()));if(x.set(e))return new Set(Array.from(e.values()));if(x.object(e)){n.push(e);var i=Object.create(e);r.push(i);var o=function(o){var a=n.findIndex(function(t){return t===e[o]});i[o]=a>-1?r[a]:t(e[o],n,r)};for(var a in e)o(a);return i}return e},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91bmlxdWUtaWQuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci9jb21tb25zLmpzIiwiLi4vLi4vbGliL2NsYXNzLWJ1aWxkZXIvdW53cmFwLmpzIiwiLi4vLi4vbGliL2NsYXNzLWJ1aWxkZXIvd3JhcC5qcyIsIi4uLy4uL2xpYi9jbGFzcy1idWlsZGVyL2RlY2xhcmUuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci9hcHBseS5qcyIsIi4uLy4uL2xpYi9jbGFzcy1idWlsZGVyL2lzLWFwcGxpY2F0aW9uLW9mLmpzIiwiLi4vLi4vbGliL2NsYXNzLWJ1aWxkZXIvaGFzLmpzIiwiLi4vLi4vbGliL2NsYXNzLWJ1aWxkZXIvZGVkdXBlLmpzIiwiLi4vLi4vbGliL2NsYXNzLWJ1aWxkZXIvY2FjaGUuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci9taXhpbi5qcyIsIi4uLy4uL2xpYi9jbGFzcy1idWlsZGVyLmpzIiwiLi4vLi4vbGliL2NyZWF0ZS1zdG9yYWdlLmpzIiwiLi4vLi4vbGliL2FycmF5L2FueS5qcyIsIi4uLy4uL2xpYi9hcnJheS9hbGwuanMiLCIuLi8uLi9saWIvdHlwZS5qcyIsIi4uLy4uL2xpYi9ldmVudC1odWIuanMiLCIuLi8uLi9saWIvYWR2aWNlL2JlZm9yZS5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYXJvdW5kLmpzIiwiLi4vLi4vbGliL2FkdmljZS9hZnRlci5qcyIsIi4uLy4uL2xpYi9lbnZpcm9ubWVudC5qcyIsIi4uLy4uL2xpYi9icm93c2VyL2RvY3VtZW50LXJlYWR5LmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvdGVtcGxhdGUtY29udGVudC5qcyIsIi4uLy4uL2xpYi9icm93c2VyL2NyZWF0ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvZWxlbWVudC1zaWJsaW5ncy5qcyIsIi4uLy4uL2xpYi9icm93c2VyL3JlbW92ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvaXMtZGVzY2VuZGFudC1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvZWxlbWVudC1jaGlsZHJlbi5qcyIsIi4uLy4uL2xpYi9icm93c2VyL21pY3JvdGFzay5qcyIsIi4uLy4uL2xpYi9icm93c2VyL2xpc3Rlbi1ldmVudC5qcyIsIi4uLy4uL2xpYi9icm93c2VyL2xpc3Rlbi1ldmVudC1vbmNlLmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvcGF1c2FibGUtZXZlbnQuanMiLCIuLi8uLi9saWIvYnJvd3Nlci9zdG9wLWV2ZW50LmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvd2ViLWNvbXBvbmVudHMvY3VzdG9tLWVsZW1lbnQtbWl4aW4uanMiLCIuLi8uLi9saWIvYnJvd3Nlci93ZWItY29tcG9uZW50cy9zdGF0ZS1taXhpbi5qcyIsIi4uLy4uL2xpYi9icm93c2VyL3dlYi1jb21wb25lbnRzL3Nsb3RzLW1peGluLmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvd2ViLWNvbXBvbmVudHMvZXZlbnRzLW1peGluLmpzIiwiLi4vLi4vbGliL2Jyb3dzZXIvd2ViLWNvbXBvbmVudHMvcHJvcGVydGllcy1taXhpbi5qcyIsIi4uLy4uL2xpYi9icm93c2VyL3dlYi1jb21wb25lbnRzL2NvbXBvbmVudC1taXhpbi5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYWZ0ZXItdGhyb3cuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RnZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RzZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L3RvLW1hcC5qcyIsIi4uLy4uL2xpYi9vYmplY3QvY2xvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogICovXG5cbmxldCBwcmV2VGltZUlkID0gMDtcbmxldCBwcmV2VW5pcXVlSWQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCAocHJlZml4KSA9PiB7XG4gIGxldCBuZXdVbmlxdWVJZCA9IERhdGUubm93KCk7XG4gIGlmIChuZXdVbmlxdWVJZCA9PT0gcHJldlRpbWVJZCkge1xuICAgICsrcHJldlVuaXF1ZUlkO1xuICB9IGVsc2Uge1xuICAgIHByZXZUaW1lSWQgPSBuZXdVbmlxdWVJZDtcbiAgICBwcmV2VW5pcXVlSWQgPSAwO1xuICB9XG5cbiAgbGV0IHVuaXF1ZUlkID0gYCR7U3RyaW5nKG5ld1VuaXF1ZUlkKX0ke1N0cmluZyhwcmV2VW5pcXVlSWQpfWA7XG4gIGlmIChwcmVmaXgpIHtcbiAgICB1bmlxdWVJZCA9IGAke3ByZWZpeH1fJHt1bmlxdWVJZH1gO1xuICB9XG4gIHJldHVybiB1bmlxdWVJZDtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCB1bmlxdWVJZCBmcm9tICcuLi91bmlxdWUtaWQuanMnO1xuXG4vLyB1c2VkIGJ5IHdyYXAoKSBhbmQgdW53cmFwKClcbmV4cG9ydCBjb25zdCB3cmFwcGVkTWl4aW5LZXkgPSB1bmlxdWVJZCgnX3dyYXBwZWRNaXhpbicpO1xuXG4vLyB1c2VkIGJ5IGFwcGx5KCkgYW5kIGlzQXBwbGljYXRpb25PZigpXG5leHBvcnQgY29uc3QgYXBwbGllZE1peGluS2V5ID0gdW5pcXVlSWQoJ19hcHBsaWVkTWl4aW4nKTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgd3JhcHBlZE1peGluS2V5IH0gZnJvbSAnLi9jb21tb25zLmpzJztcblxuLyoqXG4gKiBVbndyYXBzIHRoZSBmdW5jdGlvbiBgd3JhcHBlcmAgdG8gcmV0dXJuIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3cmFwcGVkIGJ5XG4gKiBvbmUgb3IgbW9yZSBjYWxscyB0byBgd3JhcGAuIFJldHVybnMgYHdyYXBwZXJgIGlmIGl0J3Mgbm90IGEgd3JhcHBlZFxuICogZnVuY3Rpb24uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIEEgd3JhcHBlZCBtaXhpbiBwcm9kdWNlZCBieSB7QGxpbmsgd3JhcH1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgb3JpZ2luYWxseSB3cmFwcGVkIG1peGluXG4gKi9cbmV4cG9ydCBkZWZhdWx0ICh3cmFwcGVyKSA9PlxuICB3cmFwcGVyW3dyYXBwZWRNaXhpbktleV0gfHwgd3JhcHBlcjtcbiIsIi8qICAqL1xuaW1wb3J0IHsgd3JhcHBlZE1peGluS2V5IH0gZnJvbSAnLi9jb21tb25zLmpzJztcblxuY29uc3QgeyBzZXRQcm90b3R5cGVPZiB9ID0gT2JqZWN0O1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIGZ1bmN0aW9uIGBtaXhpbmAgdG8gYmUgd3JhcHBlZCBieSB0aGUgZnVuY3Rpb24gYHdyYXBwZXJgLCB3aGlsZVxuICogYWxsb3dpbmcgcHJvcGVydGllcyBvbiBgbWl4aW5gIHRvIGJlIGF2YWlsYWJsZSB2aWEgYHdyYXBwZXJgLCBhbmQgYWxsb3dpbmdcbiAqIGB3cmFwcGVyYCB0byBiZSB1bndyYXBwZWQgdG8gZ2V0IHRvIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAqXG4gKiBgd3JhcGAgZG9lcyB0d28gdGhpbmdzOlxuICogICAxLiBTZXRzIHRoZSBwcm90b3R5cGUgb2YgYG1peGluYCB0byBgd3JhcHBlcmAgc28gdGhhdCBwcm9wZXJ0aWVzIHNldCBvblxuICogICAgICBgbWl4aW5gIGluaGVyaXRlZCBieSBgd3JhcHBlcmAuXG4gKiAgIDIuIFNldHMgYSBzcGVjaWFsIHByb3BlcnR5IG9uIGBtaXhpbmAgdGhhdCBwb2ludHMgYmFjayB0byBgbWl4aW5gIHNvIHRoYXRcbiAqICAgICAgaXQgY2FuIGJlIHJldHJlaXZlZCBmcm9tIGB3cmFwcGVyYFxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gQSBtaXhpbiBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBBIGZ1bmN0aW9uIHRoYXQgd3JhcHMge0BsaW5rIG1peGlufVxuICogQHJldHVybiB7RnVuY3Rpb259IGB3cmFwcGVyYFxuICovXG5leHBvcnQgZGVmYXVsdCAobWl4aW4sIHdyYXBwZXIpID0+IHtcbiAgc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgbWl4aW4pO1xuICBpZiAoIW1peGluW3dyYXBwZWRNaXhpbktleV0pIHtcbiAgICBtaXhpblt3cmFwcGVkTWl4aW5LZXldID0gbWl4aW47XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59O1xuIiwiLyogICovXG5pbXBvcnQgYXBwbHkgZnJvbSAnLi9hcHBseS5qcyc7XG5pbXBvcnQgd3JhcCBmcm9tICcuL3dyYXAuanMnO1xuXG4vKipcbiAqIEEgYmFzaWMgbWl4aW4gZGVjb3JhdG9yIHRoYXQgYXBwbGllcyB0aGUgbWl4aW4gd2l0aCB7QGxpbmsgYXBwbHlNaXhpbn0gc28gdGhhdCBpdFxuICogY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgaXNBcHBsaWNhdGlvbk9mfSwge0BsaW5rIGhhc01peGlufSBhbmQgdGhlIG90aGVyXG4gKiBtaXhpbiBkZWNvcmF0b3IgZnVuY3Rpb25zLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIHdyYXBcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIG5ldyBtaXhpbiBmdW5jdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCAobWl4aW4pID0+XG4gIHdyYXAobWl4aW4sIChzdXBlckNsYXNzKSA9PiBhcHBseShzdXBlckNsYXNzLCBtaXhpbikpO1xuIiwiLyogICovXG5pbXBvcnQgeyBhcHBsaWVkTWl4aW5LZXkgfSBmcm9tICcuL2NvbW1vbnMuanMnO1xuaW1wb3J0IHVud3JhcCBmcm9tICcuL3Vud3JhcC5qcyc7XG5cbi8qKlxuICogQXBwbGllcyBgbWl4aW5gIHRvIGBzdXBlcmNsYXNzYC5cbiAqXG4gKiBgYXBwbHlgIHN0b3JlcyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBtaXhpbiBhcHBsaWNhdGlvbiB0byB0aGUgdW53cmFwcGVkIG1peGluXG4gKiB0byBtYWtlIGBpc0FwcGxpY2F0aW9uT2ZgIGFuZCBgaGFzTWl4aW5gIHdvcmsuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWxsIGZvciBtaXhpbiB3cmFwcGVycyB0aGF0IHdhbnQgdG8gYXV0b21hdGljYWxseSBlbmFibGVcbiAqIHtAbGluayBoYXNNaXhpbn0gc3VwcG9ydC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cGVyQ2xhc3MgQSBjbGFzcyBvciBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIGFwcGx5XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBzdWJjbGFzcyBvZiBgc3VwZXJjbGFzc2AgcHJvZHVjZWQgYnkgYG1peGluYFxuICovXG5leHBvcnQgZGVmYXVsdCAoc3VwZXJDbGFzcywgbWl4aW4pID0+IHtcbiAgbGV0IGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gIGNvbnN0IHByb3RvID0gYXBwbGljYXRpb24ucHJvdG90eXBlO1xuICBwcm90b1thcHBsaWVkTWl4aW5LZXldID0gdW53cmFwKG1peGluKTtcbiAgcmV0dXJuIGFwcGxpY2F0aW9uO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgYXBwbGllZE1peGluS2V5IH0gZnJvbSAnLi9jb21tb25zLmpzJztcbmltcG9ydCB1bndyYXAgZnJvbSAnLi91bndyYXAuanMnO1xuXG5jb25zdCB7IGhhc093blByb3BlcnR5IH0gPSBPYmplY3Q7XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWZmIGBwcm90b2AgaXMgYSBwcm90b3R5cGUgY3JlYXRlZCBieSB0aGUgYXBwbGljYXRpb24gb2ZcbiAqIGBtaXhpbmAgdG8gYSBzdXBlcmNsYXNzLlxuICpcbiAqIGBpc0FwcGxpY2F0aW9uT2ZgIHdvcmtzIGJ5IGNoZWNraW5nIHRoYXQgYHByb3RvYCBoYXMgYSByZWZlcmVuY2UgdG8gYG1peGluYFxuICogYXMgY3JlYXRlZCBieSBgYXBwbHlgLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIEEgcHJvdG90eXBlIG9iamVjdCBjcmVhdGVkIGJ5IHtAbGluayBhcHBseX0uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGZ1bmN0aW9uIHVzZWQgd2l0aCB7QGxpbmsgYXBwbHl9LlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBgcHJvdG9gIGlzIGEgcHJvdG90eXBlIGNyZWF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uIG9mXG4gKiBgbWl4aW5gIHRvIGEgc3VwZXJjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCAocHJvdG8sIG1peGluKSA9PiB7XG4gIHJldHVybiAoXG4gICAgaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgYXBwbGllZE1peGluS2V5KSAmJlxuICAgIHByb3RvW2FwcGxpZWRNaXhpbktleV0gPT09IHVud3JhcChtaXhpbilcbiAgKTtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCBpc0FwcGxpY2F0aW9uT2YgZnJvbSAnLi9pcy1hcHBsaWNhdGlvbi1vZi5qcyc7XG5cbmNvbnN0IHsgZ2V0UHJvdG90eXBlT2YgfSA9IE9iamVjdDtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYG9gIGhhcyBhbiBhcHBsaWNhdGlvbiBvZiBgbWl4aW5gIG9uIGl0cyBwcm90b3R5cGVcbiAqIGNoYWluLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG8gQW4gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGFwcGxpZWQgd2l0aCB7QGxpbmsgYXBwbHl9XG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBvYCBoYXMgYW4gYXBwbGljYXRpb24gb2YgYG1peGluYCBvbiBpdHMgcHJvdG90eXBlXG4gKiBjaGFpblxuICovXG5leHBvcnQgZGVmYXVsdCAobywgbWl4aW4pID0+IHtcbiAgd2hpbGUgKG8gIT09IG51bGwpIHtcbiAgICBpZiAoaXNBcHBsaWNhdGlvbk9mKG8sIG1peGluKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG8gPSBnZXRQcm90b3R5cGVPZihvKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuIiwiLyogICovXG5pbXBvcnQgaGFzIGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB3cmFwIGZyb20gJy4vd3JhcC5qcyc7XG5cbi8qKlxuICogRGVjb3JhdGVzIGBtaXhpbmAgc28gdGhhdCBpdCBvbmx5IGFwcGxpZXMgaWYgaXQncyBub3QgYWxyZWFkeSBvbiB0aGVcbiAqIHByb3RvdHlwZSBjaGFpbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiB0byB3cmFwIHdpdGggZGVkdXBsaWNhdGlvbiBiZWhhdmlvclxuICogQHJldHVybiB7RnVuY3Rpb259IGEgbmV3IG1peGluIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChtaXhpbikgPT4ge1xuICByZXR1cm4gd3JhcChcbiAgICBtaXhpbixcbiAgICAoc3VwZXJDbGFzcykgPT5cbiAgICAgIGhhcyhzdXBlckNsYXNzLnByb3RvdHlwZSwgbWl4aW4pID8gc3VwZXJDbGFzcyA6IG1peGluKHN1cGVyQ2xhc3MpXG4gICk7XG59O1xuIiwiLyogICovXG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi4vdW5pcXVlLWlkLmpzJztcbmltcG9ydCB3cmFwIGZyb20gJy4vd3JhcC5qcyc7XG5cbmNvbnN0IGNhY2hlZEFwcGxpY2F0aW9uS2V5ID0gdW5pcXVlSWQoJ19jYWNoZWRBcHBsaWNhdGlvbicpO1xuXG4vKipcbiAqIERlY29yYXRlIHRoZSBnaXZlbiBtaXhpbiBjbGFzcyB3aXRoIGEgXCJjYWNoZWQgZGVjb3JhdG9yXCIuXG4gKlxuICogTWV0aG9kIHdpbGwgZW5zdXJlIHRoYXQgaWYgdGhlIGdpdmVuIG1peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCxcbiAqIHRoZW4gaXQgd2lsbCBiZSByZXR1cm5lZCAvIGFwcGxpZWQgYSBzaW5nbGUgdGltZSwgcmF0aGVyIHRoYW4gbXVsdGlwbGVcbiAqIHRpbWVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IChtaXhpbikgPT4ge1xuICByZXR1cm4gd3JhcChtaXhpbiwgKHN1cGVyQ2xhc3MpID0+IHtcbiAgICBsZXQgY2FjaGVkQXBwbGljYXRpb24gPSBzdXBlckNsYXNzW2NhY2hlZEFwcGxpY2F0aW9uS2V5XTtcbiAgICBpZiAoIWNhY2hlZEFwcGxpY2F0aW9uKSB7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbiA9IHN1cGVyQ2xhc3NbY2FjaGVkQXBwbGljYXRpb25LZXldID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVcbiAgICBsZXQgYXBwbGljYXRpb24gPSBjYWNoZWRBcHBsaWNhdGlvbi5nZXQobWl4aW4pO1xuICAgIGlmICghYXBwbGljYXRpb24pIHtcbiAgICAgIGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbi5zZXQobWl4aW4sIGFwcGxpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICB9KTtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCBkZWNsYXJlIGZyb20gJy4vZGVjbGFyZS5qcyc7XG5pbXBvcnQgZGVkdXBlIGZyb20gJy4vZGVkdXBlLmpzJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKG1peGluKSA9PiBkZWR1cGUoY2FjaGUoZGVjbGFyZShtaXhpbikpKTtcbiIsIi8qICAqL1xuaW1wb3J0IGNyZWF0ZU1peGluIGZyb20gJy4vY2xhc3MtYnVpbGRlci9taXhpbi5qcyc7XG5cbmNvbnN0IHsgZnJlZXplIH0gPSBPYmplY3Q7XG5cblxuZXhwb3J0IGRlZmF1bHQgKGtsYXNzID0gY2xhc3Mge30pID0+XG4gIGZyZWV6ZSh7XG4gICAgd2l0aCguLi5taXhpbnMpIHtcbiAgICAgIHJldHVybiBtaXhpbnNcbiAgICAgICAgLm1hcCgobWl4aW4pID0+IGNyZWF0ZU1peGluKG1peGluKSlcbiAgICAgICAgLnJlZHVjZSgoaywgbSkgPT4gbShrKSwga2xhc3MpO1xuICAgIH1cbiAgfSk7XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChcbiAgY3JlYXRvciA9IE9iamVjdC5jcmVhdGUuYmluZChudWxsLCBudWxsLCB7fSlcbikgPT4ge1xuICBsZXQgc3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuICByZXR1cm4gKG9iaikgPT4ge1xuICAgIGxldCB2YWx1ZSA9IHN0b3JlLmdldChvYmopO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHN0b3JlLnNldChvYmosICh2YWx1ZSA9IGNyZWF0b3Iob2JqKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYXJyLCBmbiA9IEJvb2xlYW4pID0+IGFyci5zb21lKGZuKTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGFyciwgZm4gPSBCb29sZWFuKSA9PiBhcnIuZXZlcnkoZm4pO1xuIiwiLyogICovXG5pbXBvcnQgeyBhbGwsIGFueSB9IGZyb20gJy4vYXJyYXkuanMnO1xuXG5cblxuY29uc3QgZG9BbGxBcGkgPSAoZm4pID0+IChcbiAgLi4ucGFyYW1zXG4pID0+IGFsbChwYXJhbXMsIGZuKTtcbmNvbnN0IGRvQW55QXBpID0gKGZuKSA9PiAoXG4gIC4uLnBhcmFtc1xuKSA9PiBhbnkocGFyYW1zLCBmbik7XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0eXBlcyA9ICdNYXAgU2V0IFN5bWJvbCBBcnJheSBPYmplY3QgU3RyaW5nIERhdGUgUmVnRXhwIEZ1bmN0aW9uIEJvb2xlYW4gTnVtYmVyIE51bGwgVW5kZWZpbmVkIEFyZ3VtZW50cyBFcnJvcicuc3BsaXQoXG4gICcgJ1xuKTtcbmNvbnN0IGxlbiA9IHR5cGVzLmxlbmd0aDtcbmNvbnN0IHR5cGVDYWNoZSA9IHt9O1xuY29uc3QgdHlwZVJlZ2V4cCA9IC9cXHMoW2EtekEtWl0rKS87XG5jb25zdCBpcyA9IHNldHVwKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzO1xuXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgbGV0IGNoZWNrcyA9IHt9O1xuICBmb3IgKGxldCBpID0gbGVuOyBpLS07ICkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgIGNoZWNrc1t0eXBlXSA9IG9iaiA9PiBnZXRUeXBlKG9iaikgPT09IHR5cGU7XG4gICAgY2hlY2tzW3R5cGVdLmFsbCA9IGRvQWxsQXBpKGNoZWNrc1t0eXBlXSk7XG4gICAgY2hlY2tzW3R5cGVdLmFueSA9IGRvQW55QXBpKGNoZWNrc1t0eXBlXSk7XG4gIH1cbiAgcmV0dXJuIGNoZWNrcztcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZShvYmopIHtcbiAgbGV0IHR5cGUgPSB0b1N0cmluZy5jYWxsKG9iaik7XG4gIGlmICghdHlwZUNhY2hlW3R5cGVdKSB7XG4gICAgbGV0IG1hdGNoZXMgPSB0eXBlLm1hdGNoKHR5cGVSZWdleHApO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1hdGNoZXMpICYmIG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgdHlwZUNhY2hlW3R5cGVdID0gbWF0Y2hlc1sxXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHlwZUNhY2hlW3R5cGVdO1xufVxuIiwiLyogICovXG5cblxuY29uc3QgZXZlbnRIdWIgPSAoKSA9PiAoe1xuICBodWI6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gIGVtaXQoZXZlbnQsIGRhdGEpIHtcbiAgICAodGhpcy5odWJbZXZlbnRdIHx8IFtdKS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihkYXRhKSk7XG4gIH0sXG4gIG9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLmh1YltldmVudF0pIHRoaXMuaHViW2V2ZW50XSA9IFtdO1xuICAgIHRoaXMuaHViW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICB9LFxuICBvZmYoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBjb25zdCBpID0gKHRoaXMuaHViW2V2ZW50XSB8fCBbXSkuZmluZEluZGV4KGggPT4gaCA9PT0gaGFuZGxlcik7XG4gICAgaWYgKGkgPiAtMSkgdGhpcy5odWJbZXZlbnRdLnNwbGljZShpLCAxKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGV2ZW50SHViKCk7XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChiZWhhdmlvdXIsIC4uLm1ldGhvZE5hbWVzKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbihrbGFzcykge1xuICAgIGNvbnN0IHByb3RvID0ga2xhc3MucHJvdG90eXBlO1xuICAgIGNvbnN0IGxlbiA9IG1ldGhvZE5hbWVzLmxlbmd0aDtcbiAgICBjb25zdCB7IGRlZmluZVByb3BlcnR5IH0gPSBPYmplY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWVzW2ldO1xuICAgICAgY29uc3QgbWV0aG9kID0gcHJvdG9bbWV0aG9kTmFtZV07XG4gICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgbWV0aG9kTmFtZSwge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgIGJlaGF2aW91ci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChiZWhhdmlvdXIsIC4uLm1ldGhvZE5hbWVzKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbihrbGFzcykge1xuICAgIGNvbnN0IHByb3RvID0ga2xhc3MucHJvdG90eXBlO1xuICAgIGNvbnN0IGxlbiA9IG1ldGhvZE5hbWVzLmxlbmd0aDtcbiAgICBjb25zdCB7IGRlZmluZVByb3BlcnR5IH0gPSBPYmplY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWVzW2ldO1xuICAgICAgY29uc3QgbWV0aG9kID0gcHJvdG9bbWV0aG9kTmFtZV07XG4gICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgbWV0aG9kTmFtZSwge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgIGFyZ3MudW5zaGlmdChtZXRob2QpO1xuICAgICAgICAgIGJlaGF2aW91ci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICBiZWhhdmlvdXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBjb25zdCBpc0Jyb3dzZXIgPSAhW3R5cGVvZiB3aW5kb3csIHR5cGVvZiBkb2N1bWVudF0uaW5jbHVkZXMoXG4gICd1bmRlZmluZWQnXG4pO1xuXG5leHBvcnQgY29uc3QgYnJvd3NlciA9IChmbiwgcmFpc2UgPSB0cnVlKSA9PiAoXG4gIC4uLmFyZ3NcbikgPT4ge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICB9XG4gIGlmIChyYWlzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtmbi5uYW1lfSBmb3IgYnJvd3NlciB1c2Ugb25seWApO1xuICB9XG59O1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChwYXNzVGhyb3VnaCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gcmVzb2x2ZShwYXNzVGhyb3VnaCkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXNzVGhyb3VnaCk7XG59KTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgYnJvd3NlciB9IGZyb20gJy4uL2Vudmlyb25tZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlcigodGVtcGxhdGUpID0+IHtcbiAgaWYgKCdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XG4gIH1cblxuICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIGxldCBjaGlsZHJlbiA9IHRlbXBsYXRlLmNoaWxkTm9kZXM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZHJlbltpXS5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG4gIHJldHVybiBmcmFnbWVudDtcbn0pO1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHRlbXBsYXRlQ29udGVudCBmcm9tICcuL3RlbXBsYXRlLWNvbnRlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChodG1sKSA9PiB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbC50cmltKCk7XG4gIGNvbnN0IGZyYWcgPSB0ZW1wbGF0ZUNvbnRlbnQodGVtcGxhdGUpO1xuICBpZiAoZnJhZyAmJiBmcmFnLmZpcnN0Q2hpbGQpIHtcbiAgICByZXR1cm4gZnJhZy5maXJzdENoaWxkO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyZWF0ZUVsZW1lbnQgZm9yICR7aHRtbH1gKTtcbn0pO1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChub2RlKSA9PiB7XG4gIGxldCBzaWJsaW5ncyA9IFtdO1xuICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSB7XG4gICAgbGV0IHNpYmxpbmcgPSBub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICBkbyB7XG4gICAgICBpZiAoc2libGluZy5ub2RlVHlwZSA9PT0gMSAmJiBzaWJsaW5nICE9PSBub2RlKSB7XG4gICAgICAgIHNpYmxpbmdzLnB1c2goc2libGluZyk7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoXG4gICAgICBzaWJsaW5nLm5leHRTaWJsaW5nICYmXG4gICAgICBzaWJsaW5nLm5leHRTaWJsaW5nICE9PSBudWxsICYmXG4gICAgICAoc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmcpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBzaWJsaW5ncztcbn0pO1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChlbGVtZW50KSA9PiB7XG4gIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn0pO1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChjaGlsZCwgcGFyZW50KSA9PiB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHdoaWxlIChjaGlsZC5wYXJlbnROb2RlICYmIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpICYmIGNoaWxkICE9PSBwYXJlbnQpIHt9XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIHJldHVybiBCb29sZWFuKGNoaWxkKTtcbn0pO1xuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKFxuICAoZWxlbWVudCwgbm9kZVR5cGUgPSBOb2RlLkVMRU1FTlRfTk9ERSkgPT4ge1xuICAgIGxldCBjaGlsZE5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIGlmIChjaGlsZE5vZGVzICYmIGNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGkgPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IG5vZGVUeXBlKSB7XG4gICAgICAgICAgY2hpbGRyZW4udW5zaGlmdChjaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbik7XG4iLCIvKiAgKi9cblxubGV0IG1pY3JvVGFza0N1cnJIYW5kbGUgPSAwO1xubGV0IG1pY3JvVGFza0xhc3RIYW5kbGUgPSAwO1xubGV0IG1pY3JvVGFza0NhbGxiYWNrcyA9IFtdO1xubGV0IG1pY3JvVGFza05vZGVDb250ZW50ID0gMDtcbmxldCBtaWNyb1Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xubmV3IE11dGF0aW9uT2JzZXJ2ZXIobWljcm9UYXNrRmx1c2gpLm9ic2VydmUobWljcm9UYXNrTm9kZSwge1xuICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG59KTtcblxuXG4vKipcbiAqIEJhc2VkIG9uIFBvbHltZXIuYXN5bmNcbiAqL1xuY29uc3QgbWljcm9UYXNrID0ge1xuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgbWljcm9UYXNrIHRpbWluZy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gICAqL1xuICBydW4oY2FsbGJhY2spIHtcbiAgICBtaWNyb1Rhc2tOb2RlLnRleHRDb250ZW50ID0gU3RyaW5nKG1pY3JvVGFza05vZGVDb250ZW50KyspO1xuICAgIG1pY3JvVGFza0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gbWljcm9UYXNrQ3VyckhhbmRsZSsrO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgbWljcm9UYXNrYCBjYWxsYmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICBjb25zdCBpZHggPSBoYW5kbGUgLSBtaWNyb1Rhc2tMYXN0SGFuZGxlO1xuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgaWYgKCFtaWNyb1Rhc2tDYWxsYmFja3NbaWR4XSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYXN5bmMgaGFuZGxlOiAnICsgaGFuZGxlKTtcbiAgICAgIH1cbiAgICAgIG1pY3JvVGFza0NhbGxiYWNrc1tpZHhdID0gbnVsbDtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1pY3JvVGFzaztcblxuZnVuY3Rpb24gbWljcm9UYXNrRmx1c2goKSB7XG4gIGNvbnN0IGxlbiA9IG1pY3JvVGFza0NhbGxiYWNrcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBsZXQgY2IgPSBtaWNyb1Rhc2tDYWxsYmFja3NbaV07XG4gICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBtaWNyb1Rhc2tDYWxsYmFja3Muc3BsaWNlKDAsIGxlbik7XG4gIG1pY3JvVGFza0xhc3RIYW5kbGUgKz0gbGVuO1xufVxuIiwiLyogICovXG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQuanMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoXG4gIChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICBsaXN0ZW5lcixcbiAgICBjYXB0dXJlID0gZmFsc2VcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICB9XG4pO1xuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihcbiAgdGFyZ2V0LFxuICB0eXBlLFxuICBsaXN0ZW5lcixcbiAgY2FwdHVyZVxuKSB7XG4gIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSAoKSA9PiB7fTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBldmVudCBlbWl0dGVyJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKFxuICB0YXJnZXQsXG4gIHR5cGUsXG4gIGxpc3RlbmVyLFxuICBjYXB0dXJlXG4pIHtcbiAgaWYgKHR5cGUuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICBsZXQgZXZlbnRzID0gdHlwZS5zcGxpdCgvXFxzKixcXHMqLyk7XG4gICAgbGV0IGhhbmRsZXMgPSBldmVudHMubWFwKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHJldHVybiBhZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSA9ICgpID0+IHt9O1xuICAgICAgICBsZXQgaGFuZGxlO1xuICAgICAgICB3aGlsZSAoKGhhbmRsZSA9IGhhbmRsZXMucG9wKCkpKSB7XG4gICAgICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG59XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgbGlzdGVuRXZlbnQsIHsgfSBmcm9tICcuL2xpc3Rlbi1ldmVudC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoXG4gIChcbiAgICB0YXJnZXQsXG4gICAgdHlwZSxcbiAgICBsaXN0ZW5lcixcbiAgICBjYXB0dXJlID0gZmFsc2VcbiAgKSA9PiB7XG4gICAgbGV0IGhhbmRsZSA9IGxpc3RlbkV2ZW50KFxuICAgICAgdGFyZ2V0LFxuICAgICAgdHlwZSxcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGhhbmRsZS5yZW1vdmUoKTtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgY2FwdHVyZVxuICAgICk7XG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfVxuKTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgYnJvd3NlciB9IGZyb20gJy4uL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCBsaXN0ZW5FdmVudCwgeyB9IGZyb20gJy4vbGlzdGVuLWV2ZW50LmpzJztcblxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKFxuICAoXG4gICAgdGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgbGlzdGVuZXIsXG4gICAgY2FwdHVyZSA9IGZhbHNlXG4gICkgPT4ge1xuICAgIGxldCBwYXVzZWQgPSBmYWxzZTtcbiAgICBsZXQgaGFuZGxlID0gbGlzdGVuRXZlbnQoXG4gICAgICB0YXJnZXQsXG4gICAgICB0eXBlLFxuICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKCFwYXVzZWQpIHtcbiAgICAgICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhcHR1cmVcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgfSxcbiAgICAgIHBhdXNlKCkge1xuICAgICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgfSxcbiAgICAgIHJlc3VtZSgpIHtcbiAgICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuKTtcbiIsIi8qICAqL1xuaW1wb3J0IHsgYnJvd3NlciB9IGZyb20gJy4uL2Vudmlyb25tZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlcigoZXZ0KSA9PiB7XG4gIGlmIChldnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgY3JlYXRlU3RvcmFnZSBmcm9tICcuLi8uLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgYXJvdW5kIGZyb20gJy4uLy4uL2FkdmljZS9hcm91bmQuanMnO1xuaW1wb3J0IG1pY3JvVGFzayBmcm9tICcuLi9taWNyb3Rhc2suanMnO1xuXG5jb25zdCBnbG9iYWwgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS90cmFjZXVyLWNvbXBpbGVyL2lzc3Vlcy8xNzA5XG5pZiAodHlwZW9mIGdsb2JhbC5IVE1MRWxlbWVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICBjb25zdCBfSFRNTEVsZW1lbnQgPSBmdW5jdGlvbiBIVE1MRWxlbWVudCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZXNcbiAgfTtcbiAgX0hUTUxFbGVtZW50LnByb3RvdHlwZSA9IGdsb2JhbC5IVE1MRWxlbWVudC5wcm90b3R5cGU7XG4gIGdsb2JhbC5IVE1MRWxlbWVudCA9IF9IVE1MRWxlbWVudDtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgY3VzdG9tRWxlbWVudHNWMUNhbGxiYWNrcyA9IFtcbiAgICAnY29ubmVjdGVkQ2FsbGJhY2snLFxuICAgICdkaXNjb25uZWN0ZWRDYWxsYmFjaycsXG4gICAgJ2Fkb3B0ZWRDYWxsYmFjaycsXG4gICAgJ2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaydcbiAgXTtcbiAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSwgaGFzT3duUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKCk7XG5cbiAgaWYgKCFiYXNlQ2xhc3MpIHtcbiAgICBiYXNlQ2xhc3MgPSBjbGFzcyBleHRlbmRzIGdsb2JhbC5IVE1MRWxlbWVudCB7fTtcbiAgfVxuXG4gIHJldHVybiBjbGFzcyBDdXN0b21FbGVtZW50IGV4dGVuZHMgYmFzZUNsYXNzIHtcblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge31cblxuICAgIHN0YXRpYyBkZWZpbmUodGFnTmFtZSkge1xuICAgICAgY29uc3QgcmVnaXN0cnkgPSBjdXN0b21FbGVtZW50cztcbiAgICAgIGlmICghcmVnaXN0cnkuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzVjFDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2tNZXRob2ROYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCBjYWxsYmFja01ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgY2FsbGJhY2tNZXRob2ROYW1lLCB7XG4gICAgICAgICAgICAgIHZhbHVlKCkge30sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0NhbGxiYWNrTmFtZSA9IGNhbGxiYWNrTWV0aG9kTmFtZS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgY2FsbGJhY2tNZXRob2ROYW1lLmxlbmd0aCAtICdjYWxsYmFjaycubGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IHByb3RvW2NhbGxiYWNrTWV0aG9kTmFtZV07XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIGNhbGxiYWNrTWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgdGhpc1tuZXdDYWxsYmFja05hbWVdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maW5hbGl6ZUNsYXNzKCk7XG4gICAgICAgIGFyb3VuZChjcmVhdGVDb25uZWN0ZWRBZHZpY2UoKSwgJ2Nvbm5lY3RlZCcpKHRoaXMpO1xuICAgICAgICBhcm91bmQoY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCksICdkaXNjb25uZWN0ZWQnKSh0aGlzKTtcbiAgICAgICAgYXJvdW5kKGNyZWF0ZVJlbmRlckFkdmljZSgpLCAncmVuZGVyJykodGhpcyk7XG4gICAgICAgIHJlZ2lzdHJ5LmRlZmluZSh0YWdOYW1lLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaW5pdGlhbGl6ZWQoKSB7XG4gICAgICByZXR1cm4gcHJpdmF0ZXModGhpcykuaW5pdGlhbGl6ZWQgPT09IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICB0aGlzLmNvbnN0cnVjdCgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHt9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQoXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgb2xkVmFsdWUsXG4gICAgICBuZXdWYWx1ZVxuICAgICkge31cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbiAgICBjb25uZWN0ZWQoKSB7fVxuXG4gICAgZGlzY29ubmVjdGVkKCkge31cblxuICAgIGFkb3B0ZWQoKSB7fVxuXG4gICAgcmVuZGVyKCkge31cblxuICAgIF9vblJlbmRlcigpIHt9XG5cbiAgICBfcG9zdFJlbmRlcigpIHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGVkQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBwcml2YXRlcyhjb250ZXh0KS5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgaWYgKCFwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCkge1xuICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlbmRlckFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocmVuZGVyQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKCFwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcpIHtcbiAgICAgICAgY29uc3QgZmlyc3RSZW5kZXIgPSBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJpbmcgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyaW5nID0gdHJ1ZTtcbiAgICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHByaXZhdGVzKGNvbnRleHQpLnJlbmRlcmluZykge1xuICAgICAgICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb250ZXh0Ll9vblJlbmRlcihmaXJzdFJlbmRlcik7XG4gICAgICAgICAgICByZW5kZXJDYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGV4dC5fcG9zdFJlbmRlcihmaXJzdFJlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRGlzY29ubmVjdGVkQWR2aWNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihkaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICBwcml2YXRlcyhjb250ZXh0KS5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgICBpZiAoIXByaXZhdGVzKGNvbnRleHQpLmNvbm5lY3RlZCAmJiBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplZCkge1xuICAgICAgICAgIHByaXZhdGVzKGNvbnRleHQpLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgY3JlYXRlU3RvcmFnZSBmcm9tICcuLi8uLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgYWZ0ZXIgZnJvbSAnLi4vLi4vYWR2aWNlL2FmdGVyLmpzJztcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoKGJhc2VDbGFzcykgPT4ge1xuICBjb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoKTtcblxuICByZXR1cm4gY2xhc3MgU3RhdGUgZXh0ZW5kcyBiYXNlQ2xhc3Mge1xuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYWZ0ZXIoY3JlYXRlQmVmb3JlUmVuZGVyQWR2aWNlKCksICdfb25SZW5kZXInKSh0aGlzKTtcbiAgICAgIGFmdGVyKGNyZWF0ZUFmdGVyUmVuZGVyQWR2aWNlKCksICdfcG9zdFJlbmRlcicpKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgIHN1cGVyLmNvbnN0cnVjdCgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4gYXNzaWduKHt9LCBwcml2YXRlcyh0aGlzKS5zdGF0ZSk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRTdGF0ZSkge1xuICAgICAgZm9yIChsZXQga2V5IGluIG5leHRTdGF0ZSkge1xuICAgICAgICBpZiAobmV4dFN0YXRlW2tleV0gIT09IHByaXZhdGVzKHRoaXMpLnN0YXRlW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHNldFN0YXRlKGNoYW5nZXMpIHtcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IGFzc2lnbih7fSwgcHJpdmF0ZXModGhpcykuc3RhdGUsIGNoYW5nZXMpO1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHByaXZhdGVzKHRoaXMpLnN0YXRlO1xuICAgICAgY29uc3QgY2hhbmdlZCA9XG4gICAgICAgIHByZXZpb3VzU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0U3RhdGUpO1xuXG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY29tcG9uZW50V2lsbFJlbmRlcihuZXdTdGF0ZSkge31cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudERpZFJlbmRlcihwcmV2aW91c1N0YXRlKSB7fVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSkge31cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1N0YXRlKSB7fVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJlZm9yZVJlbmRlckFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZmlyc3RSZW5kZXIpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKGZpcnN0UmVuZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50V2lsbFJlbmRlcih0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50V2lsbFVwZGF0ZShcbiAgICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICAgIGFzc2lnbih7fSwgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyZWRTdGF0ZSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQWZ0ZXJSZW5kZXJBZHZpY2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZpcnN0UmVuZGVyKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwcml2YXRlcyhjb250ZXh0KS5yZW5kZXJlZFN0YXRlO1xuICAgICAgcHJpdmF0ZXMoY29udGV4dCkucmVuZGVyZWRTdGF0ZSA9IHByaXZhdGVzKGNvbnRleHQpLnN0YXRlO1xuICAgICAgaWYgKGZpcnN0UmVuZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50RGlkUmVuZGVyKHByZXZpb3VzU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNTdGF0ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgYmVmb3JlIGZyb20gJy4uLy4uL2FkdmljZS9iZWZvcmUuanMnO1xuaW1wb3J0IGVsZW1lbnRDaGlsZHJlbiBmcm9tICcuLi9lbGVtZW50LWNoaWxkcmVuLmpzJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlcigoYmFzZUNsYXNzKSA9PiB7XG4gIHJldHVybiBjbGFzcyBTbG90cyBleHRlbmRzIGJhc2VDbGFzcyB7XG5cbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHtcbiAgICAgIHN1cGVyLmZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGJlZm9yZShjcmVhdGVCZWZvcmVSZW5kZXJBZHZpY2UoKSwgJ19vblJlbmRlcicpKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgIHN1cGVyLmNvbnN0cnVjdCgpO1xuICAgICAgdGhpcy5zbG90cyA9IHsgZGVmYXVsdDogW10gfTtcbiAgICB9XG5cbiAgICBzbG90c0Fzc2lnbmVkKCkge31cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVCZWZvcmVSZW5kZXJBZHZpY2UoKSB7XG4gICAgY29uc3QgaHlwZW5SZWdFeCA9IC8tKFthLXpdKS9nO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZpcnN0UmVuZGVyKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChmaXJzdFJlbmRlcikge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnRDaGlsZHJlbihjb250ZXh0KTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBjaGlsZC5nZXRBdHRyaWJ1dGVcbiAgICAgICAgICAgID8gY2hpbGQuZ2V0QXR0cmlidXRlKCdzbG90JylcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgJiYgYXR0cmlidXRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBhdHRyaWJ1dGUucmVwbGFjZShoeXBlblJlZ0V4LCBtYXRjaCA9PlxuICAgICAgICAgICAgICBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGV4dC5zbG90c1tzbG90XSA9IGNoaWxkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNsb3RzLmRlZmF1bHQucHVzaChjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5zbG90c0Fzc2lnbmVkKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgYWZ0ZXIgZnJvbSAnLi4vLi4vYWR2aWNlL2FmdGVyLmpzJztcbmltcG9ydCBjcmVhdGVTdG9yYWdlIGZyb20gJy4uLy4uL2NyZWF0ZS1zdG9yYWdlLmpzJztcbmltcG9ydCBsaXN0ZW5FdmVudCwgeyB9IGZyb20gJy4uL2xpc3Rlbi1ldmVudC5qcyc7XG5cblxuXG4vKipcbiAqIE1peGluIGFkZHMgQ3VzdG9tRXZlbnQgaGFuZGxpbmcgdG8gYW4gZWxlbWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBicm93c2VyKChiYXNlQ2xhc3MpID0+IHtcbiAgY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoYW5kbGVyczogW11cbiAgICB9O1xuICB9KTtcbiAgY29uc3QgZXZlbnREZWZhdWx0UGFyYW1zID0ge1xuICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgIGNhbmNlbGFibGU6IGZhbHNlXG4gIH07XG5cbiAgcmV0dXJuIGNsYXNzIEV2ZW50cyBleHRlbmRzIGJhc2VDbGFzcyB7XG5cbiAgICBzdGF0aWMgZmluYWxpemVDbGFzcygpIHtcbiAgICAgIHN1cGVyLmZpbmFsaXplQ2xhc3MoKTtcbiAgICAgIGFmdGVyKGNyZWF0ZURpc2Nvbm5lY3RlZEFkdmljZSgpLCAnZGlzY29ubmVjdGVkJykodGhpcyk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgIGNvbnN0IGhhbmRsZSA9IGBvbiR7ZXZlbnQudHlwZX1gO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzW2hhbmRsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICB0aGlzW2hhbmRsZV0oZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gICAgICB0aGlzLm93bihsaXN0ZW5FdmVudCh0aGlzLCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkpO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKHR5cGUsIGRhdGEgPSB7fSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgYXNzaWduKGV2ZW50RGVmYXVsdFBhcmFtcywgeyBkZXRhaWw6IGRhdGEgfSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIG9mZigpIHtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmhhbmRsZXJzLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgICAgaGFuZGxlci5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG93biguLi5oYW5kbGVycykge1xuICAgICAgaGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZURpc2Nvbm5lY3RlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGNvbnRleHQub2ZmKCk7XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGJyb3dzZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgYmVmb3JlIGZyb20gJy4uLy4uL2FkdmljZS9iZWZvcmUuanMnO1xuaW1wb3J0IGNyZWF0ZVN0b3JhZ2UgZnJvbSAnLi4vLi4vY3JlYXRlLXN0b3JhZ2UuanMnO1xuaW1wb3J0IG1pY3JvVGFzayBmcm9tICcuLi9taWNyb3Rhc2suanMnO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoKGJhc2VDbGFzcykgPT4ge1xuICBjb25zdCB7IGRlZmluZVByb3BlcnR5LCBrZXlzLCBhc3NpZ24gfSA9IE9iamVjdDtcbiAgY29uc3QgYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWVzID0ge307XG4gIGNvbnN0IHByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXMgPSB7fTtcbiAgY29uc3QgcHJpdmF0ZXMgPSBjcmVhdGVTdG9yYWdlKCk7XG5cbiAgbGV0IHByb3BlcnRpZXNDb25maWc7XG4gIGxldCBkYXRhSGFzQWNjZXNzb3IgPSB7fTtcbiAgbGV0IGRhdGFQcm90b1ZhbHVlcyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGVuaGFuY2VQcm9wZXJ0eUNvbmZpZyhjb25maWcpIHtcbiAgICBjb25maWcuaGFzT2JzZXJ2ZXIgPSAnb2JzZXJ2ZXInIGluIGNvbmZpZztcbiAgICBjb25maWcuaXNPYnNlcnZlclN0cmluZyA9XG4gICAgICBjb25maWcuaGFzT2JzZXJ2ZXIgJiYgdHlwZW9mIGNvbmZpZy5vYnNlcnZlciA9PT0gJ3N0cmluZyc7XG4gICAgY29uZmlnLmlzU3RyaW5nID0gY29uZmlnLnR5cGUgPT09IFN0cmluZztcbiAgICBjb25maWcuaXNOdW1iZXIgPSBjb25maWcudHlwZSA9PT0gTnVtYmVyO1xuICAgIGNvbmZpZy5pc0Jvb2xlYW4gPSBjb25maWcudHlwZSA9PT0gQm9vbGVhbjtcbiAgICBjb25maWcuaXNPYmplY3QgPSBjb25maWcudHlwZSA9PT0gT2JqZWN0O1xuICAgIGNvbmZpZy5pc0FycmF5ID0gY29uZmlnLnR5cGUgPT09IEFycmF5O1xuICAgIGNvbmZpZy5pc0RhdGUgPSBjb25maWcudHlwZSA9PT0gRGF0ZTtcbiAgICBjb25maWcubm90aWZ5ID0gJ25vdGlmeScgaW4gY29uZmlnO1xuICAgIGNvbmZpZy5yZWFkT25seSA9ICdyZWFkT25seScgaW4gY29uZmlnID8gY29uZmlnLnJlYWRPbmx5IDogZmFsc2U7XG4gICAgY29uZmlnLnJlZmxlY3RUb0F0dHJpYnV0ZSA9XG4gICAgICAncmVmbGVjdFRvQXR0cmlidXRlJyBpbiBjb25maWdcbiAgICAgICAgPyBjb25maWcucmVmbGVjdFRvQXR0cmlidXRlXG4gICAgICAgIDogY29uZmlnLmlzU3RyaW5nIHx8IGNvbmZpZy5pc051bWJlciB8fCBjb25maWcuaXNCb29sZWFuO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgZm9yIChsZXQgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW25hbWVdO1xuICAgICAgb3V0cHV0W25hbWVdID1cbiAgICAgICAgdHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nID8geyB0eXBlOiBwcm9wZXJ0eSB9IDogcHJvcGVydHk7XG4gICAgICBlbmhhbmNlUHJvcGVydHlDb25maWcob3V0cHV0W25hbWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3RlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplUHJvcGVydGllcykubGVuZ3RoID4gMCkge1xuICAgICAgICBhc3NpZ24oY29udGV4dCwgcHJpdmF0ZXMoY29udGV4dCkuaW5pdGlhbGl6ZVByb3BlcnRpZXMpO1xuICAgICAgICBwcml2YXRlcyhjb250ZXh0KS5pbml0aWFsaXplUHJvcGVydGllcyA9IHt9O1xuICAgICAgfVxuICAgICAgY29udGV4dC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZUNoYW5nZUFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXR0cmlidXRlLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBjb250ZXh0Ll9hdHRyaWJ1dGVUb1Byb3BlcnR5KGF0dHJpYnV0ZSwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0aWVzQ2hhbmdlZEFkdmljZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oXG4gICAgICBjdXJyZW50UHJvcHMsXG4gICAgICBjaGFuZ2VkUHJvcHMsXG4gICAgICBvbGRQcm9wc1xuICAgICkge1xuICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgT2JqZWN0LmtleXMoY2hhbmdlZFByb3BzKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbm90aWZ5LFxuICAgICAgICAgIGhhc09ic2VydmVyLFxuICAgICAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZSxcbiAgICAgICAgICBpc09ic2VydmVyU3RyaW5nLFxuICAgICAgICAgIG9ic2VydmVyXG4gICAgICAgIH0gPSBjb250ZXh0LmNvbnN0cnVjdG9yLmNsYXNzUHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgICAgIGlmIChyZWZsZWN0VG9BdHRyaWJ1dGUpIHtcbiAgICAgICAgICBjb250ZXh0Ll9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBjaGFuZ2VkUHJvcHNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT2JzZXJ2ZXIgJiYgaXNPYnNlcnZlclN0cmluZykge1xuICAgICAgICAgIHRoaXNbb2JzZXJ2ZXJdKGNoYW5nZWRQcm9wc1twcm9wZXJ0eV0sIG9sZFByb3BzW3Byb3BlcnR5XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzT2JzZXJ2ZXIgJiYgdHlwZW9mIG9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkoY29udGV4dCwgW2NoYW5nZWRQcm9wc1twcm9wZXJ0eV0sIG9sZFByb3BzW3Byb3BlcnR5XV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZnkpIHtcbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoYCR7cHJvcGVydHl9LWNoYW5nZWRgLCB7XG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBjaGFuZ2VkUHJvcHNbcHJvcGVydHldLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRQcm9wc1twcm9wZXJ0eV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNsYXNzIFByb3BlcnRpZXMgZXh0ZW5kcyBiYXNlQ2xhc3Mge1xuXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNsYXNzUHJvcGVydGllcykubWFwKChwcm9wZXJ0eSkgPT5cbiAgICAgICAgICB0aGlzLnByb3BlcnR5TmFtZVRvQXR0cmlidXRlKHByb3BlcnR5KVxuICAgICAgICApIHx8IFtdXG4gICAgICApO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaW5hbGl6ZUNsYXNzKCkge1xuICAgICAgc3VwZXIuZmluYWxpemVDbGFzcygpO1xuICAgICAgYmVmb3JlKGNyZWF0ZUNvbm5lY3RlZEFkdmljZSgpLCAnY29ubmVjdGVkJykodGhpcyk7XG4gICAgICBiZWZvcmUoY3JlYXRlQXR0cmlidXRlQ2hhbmdlQWR2aWNlKCksICdhdHRyaWJ1dGVDaGFuZ2VkJykodGhpcyk7XG4gICAgICBiZWZvcmUoY3JlYXRlUHJvcGVydGllc0NoYW5nZWRBZHZpY2UoKSwgJ3Byb3BlcnRpZXNDaGFuZ2VkJykodGhpcyk7XG4gICAgICB0aGlzLmNyZWF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlKSB7XG4gICAgICBsZXQgcHJvcGVydHkgPSBhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZXNbYXR0cmlidXRlXTtcbiAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgLy8gQ29udmVydCBhbmQgbWVtb2l6ZS5cbiAgICAgICAgY29uc3QgaHlwZW5SZWdFeCA9IC8tKFthLXpdKS9nO1xuICAgICAgICBwcm9wZXJ0eSA9IGF0dHJpYnV0ZS5yZXBsYWNlKGh5cGVuUmVnRXgsIG1hdGNoID0+XG4gICAgICAgICAgbWF0Y2hbMV0udG9VcHBlckNhc2UoKVxuICAgICAgICApO1xuICAgICAgICBhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZXNbYXR0cmlidXRlXSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wZXJ0eU5hbWVUb0F0dHJpYnV0ZShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGF0dHJpYnV0ZSA9IHByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXNbcHJvcGVydHldO1xuICAgICAgaWYgKCFhdHRyaWJ1dGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBhbmQgbWVtb2l6ZS5cbiAgICAgICAgY29uc3QgdXBwZXJjYXNlUmVnRXggPSAvKFtBLVpdKS9nO1xuICAgICAgICBhdHRyaWJ1dGUgPSBwcm9wZXJ0eS5yZXBsYWNlKHVwcGVyY2FzZVJlZ0V4LCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcHJvcGVydHlOYW1lc1RvQXR0cmlidXRlc1twcm9wZXJ0eV0gPSBhdHRyaWJ1dGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgY2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCFwcm9wZXJ0aWVzQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGdldFByb3BlcnRpZXNDb25maWcgPSAoKSA9PiBwcm9wZXJ0aWVzQ29uZmlnIHx8IHt9O1xuICAgICAgICBsZXQgY2hlY2tPYmogPSBudWxsO1xuICAgICAgICBsZXQgbG9vcCA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUgKGxvb3ApIHtcbiAgICAgICAgICBjaGVja09iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGVja09iaiA9PT0gbnVsbCA/IHRoaXMgOiBjaGVja09iaik7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNoZWNrT2JqIHx8XG4gICAgICAgICAgICAhY2hlY2tPYmouY29uc3RydWN0b3IgfHxcbiAgICAgICAgICAgIGNoZWNrT2JqLmNvbnN0cnVjdG9yID09PSBIVE1MRWxlbWVudCB8fFxuICAgICAgICAgICAgY2hlY2tPYmouY29uc3RydWN0b3IgPT09IEZ1bmN0aW9uIHx8XG4gICAgICAgICAgICBjaGVja09iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8XG4gICAgICAgICAgICBjaGVja09iai5jb25zdHJ1Y3RvciA9PT0gY2hlY2tPYmouY29uc3RydWN0b3IuY29uc3RydWN0b3JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGxvb3AgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoZWNrT2JqLCAncHJvcGVydGllcycpKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBwcm9wZXJ0aWVzQ29uZmlnID0gYXNzaWduKFxuICAgICAgICAgICAgICBnZXRQcm9wZXJ0aWVzQ29uZmlnKCksIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgbm9ybWFsaXplUHJvcGVydGllcyhjaGVja09iai5wcm9wZXJ0aWVzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcykge1xuICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICBwcm9wZXJ0aWVzQ29uZmlnID0gYXNzaWduKFxuICAgICAgICAgICAgZ2V0UHJvcGVydGllc0NvbmZpZygpLCAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBub3JtYWxpemVQcm9wZXJ0aWVzKHRoaXMucHJvcGVydGllcylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydGllc0NvbmZpZztcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gdGhpcy5jbGFzc1Byb3BlcnRpZXM7XG4gICAgICBrZXlzKHByb3BlcnRpZXMpLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFVuYWJsZSB0byBzZXR1cCBwcm9wZXJ0eSAnJHtwcm9wZXJ0eX0nLCBwcm9wZXJ0eSBhbHJlYWR5IGV4aXN0c2BcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XS52YWx1ZTtcbiAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRhdGFQcm90b1ZhbHVlc1twcm9wZXJ0eV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHByb3RvLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCBwcm9wZXJ0aWVzW3Byb3BlcnR5XS5yZWFkT25seSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3QoKSB7XG4gICAgICBzdXBlci5jb25zdHJ1Y3QoKTtcbiAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGEgPSB7fTtcbiAgICAgIHByaXZhdGVzKHRoaXMpLnNlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICBwcml2YXRlcyh0aGlzKS5pbml0aWFsaXplUHJvcGVydGllcyA9IHt9O1xuICAgICAgcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmcgPSBudWxsO1xuICAgICAgcHJpdmF0ZXModGhpcykuZGF0YU9sZCA9IG51bGw7XG4gICAgICBwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCA9IGZhbHNlO1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcygpO1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzQ2hhbmdlZChcbiAgICAgIGN1cnJlbnRQcm9wcyxcbiAgICAgIGNoYW5nZWRQcm9wcyxcbiAgICAgIG9sZFByb3BzIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICApIHt9XG5cbiAgICBfY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIGlmICghZGF0YUhhc0FjY2Vzc29yW3Byb3BlcnR5XSkge1xuICAgICAgICBkYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldID0gdHJ1ZTtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcGVydHksIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiByZWFkT25seVxuICAgICAgICAgICAgPyAoKSA9PiB7fVxuICAgICAgICAgICAgOiBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHByb3BlcnR5LCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2dldFByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gcHJpdmF0ZXModGhpcykuZGF0YVtwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgX3NldFByb3BlcnR5KHByb3BlcnR5LCBuZXdWYWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzVmFsaWRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5LCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgbmV3VmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2coYGludmFsaWQgdmFsdWUgJHtuZXdWYWx1ZX0gZm9yIHByb3BlcnR5ICR7cHJvcGVydHl9IG9mXG5cdFx0XHRcdFx0dHlwZSAke3RoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XS50eXBlLm5hbWV9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMoKSB7XG4gICAgICBPYmplY3Qua2V5cyhkYXRhUHJvdG9WYWx1ZXMpLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgICB0eXBlb2YgZGF0YVByb3RvVmFsdWVzW3Byb3BlcnR5XSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBkYXRhUHJvdG9WYWx1ZXNbcHJvcGVydHldLmNhbGwodGhpcylcbiAgICAgICAgICAgIDogZGF0YVByb3RvVmFsdWVzW3Byb3BlcnR5XTtcbiAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGFIYXNBY2Nlc3NvcikuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIHByb3BlcnR5KSkge1xuICAgICAgICAgIHByaXZhdGVzKHRoaXMpLmluaXRpYWxpemVQcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IHRoaXNbcHJvcGVydHldO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2F0dHJpYnV0ZVRvUHJvcGVydHkoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgaWYgKCFwcml2YXRlcyh0aGlzKS5zZXJpYWxpemluZykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlVG9Qcm9wZXJ0eU5hbWUoXG4gICAgICAgICAgYXR0cmlidXRlXG4gICAgICAgICk7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gdGhpcy5fZGVzZXJpYWxpemVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pc1ZhbGlkUHJvcGVydHlWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5VHlwZSA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XVxuICAgICAgICAudHlwZTtcbiAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpc1ZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiBwcm9wZXJ0eVR5cGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc1ZhbGlkID0gYCR7dHlwZW9mIHZhbHVlfWAgPT09IHByb3BlcnR5VHlwZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG5cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIHByaXZhdGVzKHRoaXMpLnNlcmlhbGl6aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuY29uc3RydWN0b3IucHJvcGVydHlOYW1lVG9BdHRyaWJ1dGUocHJvcGVydHkpO1xuICAgICAgdmFsdWUgPSB0aGlzLl9zZXJpYWxpemVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBwcml2YXRlcyh0aGlzKS5zZXJpYWxpemluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9kZXNlcmlhbGl6ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpc051bWJlcixcbiAgICAgICAgaXNBcnJheSxcbiAgICAgICAgaXNCb29sZWFuLFxuICAgICAgICBpc0RhdGUsXG4gICAgICAgIGlzU3RyaW5nLFxuICAgICAgICBpc09iamVjdFxuICAgICAgfSA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgICAgIGlmIChpc0Jvb2xlYW4pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcikge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyAwIDogTnVtYmVyKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJycgOiBTdHJpbmcodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCB8fCBpc0FycmF5KSB7XG4gICAgICAgIHZhbHVlID1cbiAgICAgICAgICB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGlzQXJyYXlcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDoge31cbiAgICAgICAgICAgIDogSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGF0ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfc2VyaWFsaXplVmFsdWUocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eUNvbmZpZyA9IHRoaXMuY29uc3RydWN0b3IuY2xhc3NQcm9wZXJ0aWVzW1xuICAgICAgICBwcm9wZXJ0eVxuICAgICAgXTtcbiAgICAgIGNvbnN0IHsgaXNCb29sZWFuLCBpc09iamVjdCwgaXNBcnJheSB9ID0gcHJvcGVydHlDb25maWc7XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QgfHwgaXNBcnJheSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUudG9TdHJpbmcoKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgbGV0IG9sZCA9IHByaXZhdGVzKHRoaXMpLmRhdGFbcHJvcGVydHldO1xuICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLl9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICBpZiAoIXByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nKSB7XG4gICAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhT2xkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIG9sZCBpcyBjYXB0dXJlZCBmcm9tIHRoZSBsYXN0IHR1cm5cbiAgICAgICAgaWYgKHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgJiYgIShwcm9wZXJ0eSBpbiBwcml2YXRlcyh0aGlzKS5kYXRhT2xkKSkge1xuICAgICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGRbcHJvcGVydHldID0gb2xkO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuXG4gICAgX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCFwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCA9IHRydWU7XG4gICAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChwcml2YXRlcyh0aGlzKS5kYXRhSW52YWxpZCkge1xuICAgICAgICAgICAgcHJpdmF0ZXModGhpcykuZGF0YUludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2ZsdXNoUHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gcHJpdmF0ZXModGhpcykuZGF0YTtcbiAgICAgIGNvbnN0IGNoYW5nZWRQcm9wcyA9IHByaXZhdGVzKHRoaXMpLmRhdGFQZW5kaW5nO1xuICAgICAgY29uc3Qgb2xkID0gcHJpdmF0ZXModGhpcykuZGF0YU9sZDtcblxuICAgICAgaWYgKHRoaXMuX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKSkge1xuICAgICAgICBwcml2YXRlcyh0aGlzKS5kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGVzKHRoaXMpLmRhdGFPbGQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXNDaGFuZ2VkKHByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UoXG4gICAgICBjdXJyZW50UHJvcHMsXG4gICAgICBjaGFuZ2VkUHJvcHMsXG4gICAgICBvbGRQcm9wcyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihjaGFuZ2VkUHJvcHMpO1xuICAgIH1cblxuICAgIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gU3RyaWN0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIG9sZCAhPT0gdmFsdWUgJiZcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICAgICAgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICk7XG4gICAgfVxuICB9O1xufSk7XG4iLCIvKiAgKi9cbmltcG9ydCBjbGFzc0J1aWxkZXIgZnJvbSAnLi4vLi4vY2xhc3MtYnVpbGRlci5qcyc7XG5pbXBvcnQgeyBicm93c2VyIH0gZnJvbSAnLi4vLi4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IGN1c3RvbUVsZW1lbnQsIHsgfSBmcm9tICcuL2N1c3RvbS1lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCBwcm9wZXJ0aWVzLCB7IH0gZnJvbSAnLi9wcm9wZXJ0aWVzLW1peGluLmpzJztcbmltcG9ydCBldmVudHMsIHsgfSBmcm9tICcuL2V2ZW50cy1taXhpbi5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXIoXG4gIChcbiAgICBiYXNlQ2xhc3MgPSBjdXN0b21FbGVtZW50KClcbiAgKSA9PiB7XG4gICAgcmV0dXJuIGNsYXNzIENvbXBvbmVudCBleHRlbmRzIGNsYXNzQnVpbGRlcihiYXNlQ2xhc3MpLndpdGgoXG4gICAgICBldmVudHMsXG4gICAgICBwcm9wZXJ0aWVzXG4gICAgKSB7XG4gICAgICBwcm9wZXJ0aWVzQ2hhbmdlZChcbiAgICAgICAgY3VycmVudFByb3BzLFxuICAgICAgICBjaGFuZ2VkUHJvcHMsXG4gICAgICAgIG9sZFByb3BzIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4pO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYmVoYXZpb3VyLCAuLi5tZXRob2ROYW1lcykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oa2xhc3MpIHtcbiAgICBjb25zdCBwcm90byA9IGtsYXNzLnByb3RvdHlwZTtcbiAgICBjb25zdCBsZW4gPSBtZXRob2ROYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2ROYW1lc1tpXTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHByb3RvW21ldGhvZE5hbWVdO1xuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG8sIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGJlaGF2aW91ci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChcbiAgb2JqLFxuICBrZXksXG4gIGRlZmF1bHRWYWx1ZSA9IHVuZGVmaW5lZFxuKSA9PiB7XG4gIGlmIChrZXkuaW5kZXhPZignLicpID09PSAtMSkge1xuICAgIHJldHVybiBvYmpba2V5XSA/IG9ialtrZXldIDogZGVmYXVsdFZhbHVlO1xuICB9XG4gIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KCcuJyk7XG4gIGNvbnN0IGxlbmd0aCA9IHBhcnRzLmxlbmd0aDtcbiAgbGV0IG9iamVjdCA9IG9iajtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3BhcnRzW2ldXTtcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iamVjdCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKGtleS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgZGVwdGggPSBwYXJ0cy5sZW5ndGggLSAxO1xuICBsZXQgb2JqZWN0ID0gb2JqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwdGg7IGkrKykge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0W3BhcnRzW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iamVjdFtwYXJ0c1tpXV0gPSB7fTtcbiAgICB9XG4gICAgb2JqZWN0ID0gb2JqZWN0W3BhcnRzW2ldXTtcbiAgfVxuICBvYmplY3RbcGFydHNbZGVwdGhdXSA9IHZhbHVlO1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG8pID0+XG4gIE9iamVjdC5rZXlzKG8pLnJlZHVjZShcbiAgICAobSwgaykgPT4gbS5zZXQoaywgb1trXSksXG4gICAgbmV3IE1hcCgpXG4gICk7XG4iLCIvKiAgKi9cbmltcG9ydCB0eXBlIGZyb20gJy4uL3R5cGUuanMnO1xuXG5jb25zdCBjbG9uZSA9IGZ1bmN0aW9uKFxuICBzcmMsXG4gIGNpcmN1bGFycyA9IFtdLFxuICBjbG9uZXMgPSBbXVxuKSB7XG4gIC8vIE51bGwvdW5kZWZpbmVkL2Z1bmN0aW9ucy9ldGNcbiAgaWYgKCFzcmMgfHwgIXR5cGUub2JqZWN0KHNyYykgfHwgdHlwZS5mdW5jdGlvbihzcmMpKSB7XG4gICAgcmV0dXJuIHNyYztcbiAgfVxuXG4gIC8vIERhdGVcbiAgaWYgKHR5cGUuZGF0ZShzcmMpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpO1xuICB9XG5cbiAgLy8gUmVnRXhwXG4gIGlmICh0eXBlLnJlZ2V4cChzcmMpKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTtcbiAgfVxuXG4gIC8vIEFycmF5c1xuICBpZiAodHlwZS5hcnJheShzcmMpKSB7XG4gICAgcmV0dXJuIHNyYy5tYXAoY2xvbmUpO1xuICB9XG5cbiAgLy8gRVM2IE1hcHNcbiAgaWYgKHR5cGUubWFwKHNyYykpIHtcbiAgICByZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHNyYy5lbnRyaWVzKCkpKTtcbiAgfVxuXG4gIC8vIEVTNiBTZXRzXG4gIGlmICh0eXBlLnNldChzcmMpKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbShzcmMudmFsdWVzKCkpKTtcbiAgfVxuXG4gIC8vIE9iamVjdFxuICBpZiAodHlwZS5vYmplY3Qoc3JjKSkge1xuICAgIGNpcmN1bGFycy5wdXNoKHNyYyk7XG4gICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShzcmMpO1xuICAgIGNsb25lcy5wdXNoKG9iaik7XG4gICAgZm9yIChsZXQga2V5IGluIHNyYykge1xuICAgICAgbGV0IGlkeCA9IGNpcmN1bGFycy5maW5kSW5kZXgoKGkpID0+IGkgPT09IHNyY1trZXldKTtcbiAgICAgIG9ialtrZXldID0gaWR4ID4gLTEgPyBjbG9uZXNbaWR4XSA6IGNsb25lKHNyY1trZXldLCBjaXJjdWxhcnMsIGNsb25lcyk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gc3JjO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xvbmU7XG5cbmV4cG9ydCBjb25zdCBqc29uQ2xvbmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsicHJldlRpbWVJZCIsInByZXZVbmlxdWVJZCIsInByZWZpeCIsIm5ld1VuaXF1ZUlkIiwiRGF0ZSIsIm5vdyIsInVuaXF1ZUlkIiwiU3RyaW5nIiwid3JhcHBlZE1peGluS2V5IiwiYXBwbGllZE1peGluS2V5Iiwid3JhcHBlciIsInNldFByb3RvdHlwZU9mIiwiT2JqZWN0IiwibWl4aW4iLCJ3cmFwIiwic3VwZXJDbGFzcyIsImFwcGxpY2F0aW9uIiwicHJvdG90eXBlIiwidW53cmFwIiwiYXBwbHkiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3RvIiwiY2FsbCIsImdldFByb3RvdHlwZU9mIiwibyIsImlzQXBwbGljYXRpb25PZiIsImhhcyIsImNhY2hlZEFwcGxpY2F0aW9uS2V5IiwiZGVkdXBlIiwiY2FjaGVkQXBwbGljYXRpb24iLCJNYXAiLCJnZXQiLCJzZXQiLCJjYWNoZSIsImRlY2xhcmUiLCJmcmVlemUiLCJrbGFzcyIsIm1peGlucyIsIm1hcCIsImNyZWF0ZU1peGluIiwicmVkdWNlIiwiayIsIm0iLCJjcmVhdG9yIiwiY3JlYXRlIiwiYmluZCIsInN0b3JlIiwiV2Vha01hcCIsIm9iaiIsInZhbHVlIiwiYXJyIiwiZm4iLCJCb29sZWFuIiwic29tZSIsImV2ZXJ5IiwiZG9BbGxBcGkiLCJwYXJhbXMiLCJhbGwiLCJkb0FueUFwaSIsImFueSIsInRvU3RyaW5nIiwidHlwZXMiLCJzcGxpdCIsImxlbiIsImxlbmd0aCIsInR5cGVDYWNoZSIsInR5cGVSZWdleHAiLCJpcyIsImNoZWNrcyIsImkiLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJtYXRjaGVzIiwibWF0Y2giLCJBcnJheSIsImlzQXJyYXkiLCJnZXRUeXBlIiwic2V0dXAiLCJldmVudCIsImRhdGEiLCJ0aGlzIiwiaHViIiwiZm9yRWFjaCIsImhhbmRsZXIiLCJwdXNoIiwiZmluZEluZGV4IiwiaCIsInNwbGljZSIsImJlaGF2aW91ciIsIm1ldGhvZE5hbWVzIiwiZGVmaW5lUHJvcGVydHkiLCJtZXRob2ROYW1lIiwibWV0aG9kIiwiYXJncyIsInVuc2hpZnQiLCJyZXR1cm5WYWx1ZSIsImlzQnJvd3NlciIsIndpbmRvdyIsImRvY3VtZW50IiwiaW5jbHVkZXMiLCJicm93c2VyIiwicmFpc2UiLCJFcnJvciIsIm5hbWUiLCJwYXNzVGhyb3VnaCIsInJlYWR5U3RhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0ZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJpbXBvcnROb2RlIiwiY29udGVudCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNoaWxkcmVuIiwiY2hpbGROb2RlcyIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwiaHRtbCIsImlubmVySFRNTCIsInRyaW0iLCJmcmFnIiwidGVtcGxhdGVDb250ZW50IiwiZmlyc3RDaGlsZCIsIm5vZGUiLCJzaWJsaW5ncyIsInBhcmVudE5vZGUiLCJzaWJsaW5nIiwibm9kZVR5cGUiLCJuZXh0U2libGluZyIsImVsZW1lbnQiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjaGlsZCIsInBhcmVudCIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJtaWNyb1Rhc2tDdXJySGFuZGxlIiwibWljcm9UYXNrTGFzdEhhbmRsZSIsIm1pY3JvVGFza0NhbGxiYWNrcyIsIm1pY3JvVGFza05vZGVDb250ZW50IiwibWljcm9UYXNrTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsImNiIiwiZXJyIiwib2JzZXJ2ZSIsIm1pY3JvVGFzayIsImNhbGxiYWNrIiwidGV4dENvbnRlbnQiLCJoYW5kbGUiLCJpZHgiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJpbmRleE9mIiwiZXZlbnRzIiwiaGFuZGxlcyIsImFkZExpc3RlbmVyIiwicmVtb3ZlIiwicG9wIiwicGFyc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGlzdGVuRXZlbnQiLCJwYXVzZWQiLCJldnQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImdsb2JhbCIsImRlZmF1bHRWaWV3IiwiSFRNTEVsZW1lbnQiLCJfSFRNTEVsZW1lbnQiLCJiYXNlQ2xhc3MiLCJjdXN0b21FbGVtZW50c1YxQ2FsbGJhY2tzIiwicHJpdmF0ZXMiLCJjcmVhdGVTdG9yYWdlIiwiX2Jhc2VDbGFzcyIsImNvbnN0cnVjdCIsImZpbmFsaXplQ2xhc3MiLCJkZWZpbmUiLCJ0YWdOYW1lIiwicmVnaXN0cnkiLCJjdXN0b21FbGVtZW50cyIsImNhbGxiYWNrTWV0aG9kTmFtZSIsIm5ld0NhbGxiYWNrTmFtZSIsInN1YnN0cmluZyIsIm9yaWdpbmFsTWV0aG9kIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJjb25uZWN0ZWQiLCJpbml0aWFsaXplZCIsInJlbmRlciIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiY29udGV4dCIsInJ1biIsInJlbmRlckNhbGxiYWNrIiwicmVuZGVyaW5nIiwiZmlyc3RSZW5kZXIiLCJ1bmRlZmluZWQiLCJfb25SZW5kZXIiLCJfcG9zdFJlbmRlciIsImF0dHJpYnV0ZUNoYW5nZWQiLCJhdHRyaWJ1dGVOYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRpc2Nvbm5lY3RlZCIsImFkb3B0ZWQiLCJhc3NpZ24iLCJjb21wb25lbnRXaWxsUmVuZGVyIiwic3RhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwicmVuZGVyZWRTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJjb21wb25lbnREaWRSZW5kZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJzZXRTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIm5leHRTdGF0ZSIsImtleSIsImNoYW5nZXMiLCJuZXdTdGF0ZSIsImh5cGVuUmVnRXgiLCJlbGVtZW50Q2hpbGRyZW4iLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJzbG90IiwicmVwbGFjZSIsInRvVXBwZXJDYXNlIiwic2xvdHMiLCJkZWZhdWx0Iiwic2xvdHNBc3NpZ25lZCIsImV2ZW50RGVmYXVsdFBhcmFtcyIsIm9mZiIsImhhbmRsZUV2ZW50Iiwib24iLCJvd24iLCJkaXNwYXRjaCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImhhbmRsZXJzIiwiX3RoaXMyIiwia2V5cyIsImF0dHJpYnV0ZVRvUHJvcGVydHlOYW1lcyIsInByb3BlcnR5TmFtZXNUb0F0dHJpYnV0ZXMiLCJwcm9wZXJ0aWVzQ29uZmlnIiwiZGF0YUhhc0FjY2Vzc29yIiwiZGF0YVByb3RvVmFsdWVzIiwibm9ybWFsaXplUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJjb25maWciLCJvdXRwdXQiLCJwcm9wZXJ0eSIsImhhc09ic2VydmVyIiwiaXNPYnNlcnZlclN0cmluZyIsIm9ic2VydmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsIk51bWJlciIsImlzQm9vbGVhbiIsImlzT2JqZWN0IiwiaXNEYXRlIiwibm90aWZ5IiwicmVhZE9ubHkiLCJyZWZsZWN0VG9BdHRyaWJ1dGUiLCJpbml0aWFsaXplUHJvcGVydGllcyIsIl9mbHVzaFByb3BlcnRpZXMiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN1cnJlbnRQcm9wcyIsImNoYW5nZWRQcm9wcyIsIm9sZFByb3BzIiwiY29uc3RydWN0b3IiLCJjbGFzc1Byb3BlcnRpZXMiLCJfcHJvcGVydHlUb0F0dHJpYnV0ZSIsImNyZWF0ZVByb3BlcnRpZXMiLCJhdHRyaWJ1dGVUb1Byb3BlcnR5TmFtZSIsInByb3BlcnR5TmFtZVRvQXR0cmlidXRlIiwicHJvcGVydHlWYWx1ZSIsIl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yIiwic2VyaWFsaXppbmciLCJkYXRhUGVuZGluZyIsImRhdGFPbGQiLCJkYXRhSW52YWxpZCIsIl9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzIiwiX2luaXRpYWxpemVQcm9wZXJ0aWVzIiwicHJvcGVydGllc0NoYW5nZWQiLCJfZ2V0UHJvcGVydHkiLCJfc2V0UHJvcGVydHkiLCJfaXNWYWxpZFByb3BlcnR5VmFsdWUiLCJfc2V0UGVuZGluZ1Byb3BlcnR5IiwiX2ludmFsaWRhdGVQcm9wZXJ0aWVzIiwibG9nIiwiX3RoaXMzIiwiX3RoaXM0IiwiX2Rlc2VyaWFsaXplVmFsdWUiLCJwcm9wZXJ0eVR5cGUiLCJfc2VyaWFsaXplVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJKU09OIiwicHJvcGVydHlDb25maWciLCJzdHJpbmdpZnkiLCJvbGQiLCJjaGFuZ2VkIiwiX3Nob3VsZFByb3BlcnR5Q2hhbmdlIiwiX3RoaXM1IiwicHJvcHMiLCJfc2hvdWxkUHJvcGVydGllc0NoYW5nZSIsIl90aGlzNiIsImdldFByb3BlcnRpZXNDb25maWciLCJjaGVja09iaiIsImxvb3AiLCJGdW5jdGlvbiIsImN1c3RvbUVsZW1lbnQiLCJjbGFzc0J1aWxkZXIiLCJ3aXRoIiwiZGVmYXVsdFZhbHVlIiwicGFydHMiLCJvYmplY3QiLCJkZXB0aCIsImNsb25lIiwic3JjIiwiY2lyY3VsYXJzIiwiY2xvbmVzIiwiZnVuY3Rpb24iLCJkYXRlIiwiZ2V0VGltZSIsInJlZ2V4cCIsIlJlZ0V4cCIsImFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJTZXQiLCJ2YWx1ZXMiXSwibWFwcGluZ3MiOiJxTUFFQSxJQUFJQSxFQUFhLEVBQ2JDLEVBQWUsYUFFSEMsT0FDVkMsRUFBY0MsS0FBS0MsTUFDbkJGLElBQWdCSCxJQUNoQkMsS0FFV0UsSUFDRSxPQUdiRyxLQUFjQyxPQUFPSixHQUFlSSxPQUFPTixVQUMzQ0MsTUFDWUEsTUFBVUksR0FFbkJBLEdDZElFLEVBQWtCRixFQUFTLGlCQUczQkcsRUFBa0JILEVBQVMsNEJDS3hCSSxVQUNkQSxFQUFRRixJQUFvQkUsR0NWdEJDLEVBQW1CQyxPQUFuQkQsMEJBa0JRRSxFQUFPSCxZQUNOQSxFQUFTRyxHQUNuQkEsRUFBTUwsT0FDSEEsR0FBbUJLLEdBRXBCSCxjQ2JPRyxVQUNkQyxFQUFLRCxFQUFPLFNBQUNFLG1CQ0lDQSxFQUFZRixPQUN0QkcsRUFBY0gsRUFBTUUsVUFDVkMsRUFBWUMsVUFDcEJSLEdBQW1CUyxFQUFPTCxHQUN6QkcsRURScUJHLENBQU1KLEVBQVlGLE1FVnhDTyxFQUFtQlIsT0FBbkJRLDBCQWVRQyxFQUFPUixVQUVuQk8sRUFBZUUsS0FBS0QsRUFBT1osSUFDM0JZLEVBQU1aLEtBQXFCUyxFQUFPTCxJQ25COUJVLEVBQW1CWCxPQUFuQlcsMEJDU1FWLFVBQ1BDLEVBQ0xELEVBQ0EsU0FBQ0UsbUJEQVdTLEVBQUdYLFFBQ0osT0FBTlcsR0FBWSxJQUNiQyxFQUFnQkQsRUFBR1gsVUFDZCxJQUVMVSxFQUFlQyxVQUVkLEVDTkhFLENBQUlYLEVBQVdFLFVBQVdKLEdBQVNFLEVBQWFGLEVBQU1FLE1DWnREWSxFQUF1QnJCLEVBQVMsaUNDQ3RCTyxVQUFVZSxXRFlWZixVQUNQQyxFQUFLRCxFQUFPLFNBQUNFLE9BQ2RjLEVBQW9CZCxFQUFXWSxHQUM5QkUsTUFDaUJkLEVBQVdZLEdBQXdCLElBQUlHLFNBSXpEZCxFQUFjYSxFQUFrQkUsSUFBSWxCLFVBQ25DRyxNQUNXSCxFQUFNRSxLQUNGaUIsSUFBSW5CLEVBQU9HLElBRXhCQSxJQ3pCc0JpQixDQUFNQyxFQUFRckIsc2dDQ0Z2Q3NCLEVBQVd2QixPQUFYdUIsd0JBR1FDLDZHQUNkRCw4Q0FDVUUsZ0RBQ0NBLEVBQ0pDLElBQUksU0FBQ3pCLFVBQVUwQixFQUFZMUIsS0FDM0IyQixPQUFPLFNBQUNDLEVBQUdDLFVBQU1BLEVBQUVELElBQUlMLHdCQ1Q5Qk8seURBQVUvQixPQUFPZ0MsT0FBT0MsS0FBSyxLQUFNLFNBRS9CQyxFQUFRLElBQUlDLGVBQ1QsU0FBQ0MsT0FDRkMsRUFBUUgsRUFBTWYsSUFBSWlCLFVBQ2pCQyxLQUNHakIsSUFBSWdCLEVBQU1DLEVBQVFOLEVBQVFLLElBRTNCQyxlQ1RLQyxPQUFLQyx5REFBS0MsZUFBWUYsRUFBSUcsS0FBS0YsZUNBL0JELE9BQUtDLHlEQUFLQyxlQUFZRixFQUFJSSxNQUFNSCxJQ0kxQ0ksRUFBVyxTQUFDSixVQUFPLHNDQUNwQkssZ0RBQ0FDLEVBQUlELEVBQVFMLEtBQ1hPLEVBQVcsU0FBQ1AsVUFBTyxzQ0FDcEJLLGdEQUNBRyxFQUFJSCxFQUFRTCxLQUNYUyxFQUFXaEQsT0FBT0ssVUFBVTJDLFNBQzVCQyxFQUFRLHdHQUF3R0MsTUFDcEgsS0FFSUMsRUFBTUYsRUFBTUcsT0FDWkMsS0FDQUMsRUFBYSxnQkFDYkMsRUFJTixtQkFDTUMsZ0JBQ0tDLE9BQ0RDLEVBQU9ULEVBQU1RLEdBQUdFLGdCQUNmRCxHQUFRLG1CQU9uQixTQUFpQnRCLE9BQ1hzQixFQUFPVixFQUFTdEMsS0FBSzBCLE9BQ3BCaUIsRUFBVUssR0FBTyxLQUNoQkUsRUFBVUYsRUFBS0csTUFBTVAsR0FDckJRLE1BQU1DLFFBQVFILElBQVlBLEVBQVFSLE9BQVMsTUFDbkNNLEdBQVFFLEVBQVEsR0FBR0Qsc0JBRzFCTixFQUFVSyxHQWZPTSxDQUFRNUIsS0FBU3NCLEtBQ2hDQSxHQUFNYixJQUFNRixFQUFTYSxFQUFPRSxNQUM1QkEsR0FBTVgsSUFBTUQsRUFBU1UsRUFBT0UsS0FKNUJELEVBQUlOLEVBQUtNLE9BQVRBLFVBTUZELEVBWkVTLEdDZlgsV0FDT2pFLE9BQU9nQyxPQUFPLG9CQUNka0MsRUFBT0MsSUFDVEMsS0FBS0MsSUFBSUgsUUFBY0ksUUFBUSxtQkFBV0MsRUFBUUosa0JBRWxERCxFQUFPSyxHQUNISCxLQUFLQyxJQUFJSCxLQUFRRSxLQUFLQyxJQUFJSCxZQUMxQkcsSUFBSUgsR0FBT00sS0FBS0QsaUJBRW5CTCxFQUFPSyxPQUNIZCxHQUFLVyxLQUFLQyxJQUFJSCxRQUFjTyxVQUFVLG1CQUFLQyxJQUFNSCxJQUNuRGQsR0FBSyxHQUFHVyxLQUFLQyxJQUFJSCxHQUFPUyxPQUFPbEIsRUFBRyxnQkNiMUJtQiw4QkFBY0MsMERBQ3JCLFNBQVNyRCxXQUNSZixFQUFRZSxFQUFNbkIsVUFDZDhDLEVBQU0wQixFQUFZekIsT0FDaEIwQixFQUFtQjlFLE9BQW5COEUsMEJBQ0NyQixPQUNEc0IsRUFBYUYsRUFBWXBCLEdBQ3pCdUIsRUFBU3ZFLEVBQU1zRSxLQUNOdEUsRUFBT3NFLFNBQ2Isc0NBQVlFLGtEQUNQMUUsTUFBTTZELEtBQU1hLEdBQ2ZELEVBQU96RSxNQUFNNkQsS0FBTWEsY0FFbEIsS0FSTHhCLEVBQUksRUFBR0EsRUFBSU4sRUFBS00sTUFBaEJBLFVBV0ZqQyxlQ2hCS29ELDhCQUFjQywwREFDckIsU0FBU3JELFdBQ1JmLEVBQVFlLEVBQU1uQixVQUNkOEMsRUFBTTBCLEVBQVl6QixPQUNoQjBCLEVBQW1COUUsT0FBbkI4RSwwQkFDQ3JCLE9BQ0RzQixFQUFhRixFQUFZcEIsR0FDekJ1QixFQUFTdkUsRUFBTXNFLEtBQ050RSxFQUFPc0UsU0FDYixzQ0FBWUUsMkNBQ1pDLFFBQVFGLEtBQ0h6RSxNQUFNNkQsS0FBTWEsY0FFZCxLQVJMeEIsRUFBSSxFQUFHQSxFQUFJTixFQUFLTSxNQUFoQkEsVUFXRmpDLGVDaEJLb0QsOEJBQWNDLDBEQUNyQixTQUFTckQsV0FDUmYsRUFBUWUsRUFBTW5CLFVBQ2Q4QyxFQUFNMEIsRUFBWXpCLE9BQ2hCMEIsRUFBbUI5RSxPQUFuQjhFLDBCQUNDckIsT0FDRHNCLEVBQWFGLEVBQVlwQixHQUN6QnVCLEVBQVN2RSxFQUFNc0UsS0FDTnRFLEVBQU9zRSxTQUNiLHNDQUFZRSw2Q0FDWEUsRUFBY0gsRUFBT3pFLE1BQU02RCxLQUFNYSxZQUM3QjFFLE1BQU02RCxLQUFNYSxHQUNmRSxhQUVDLEtBVEwxQixFQUFJLEVBQUdBLEVBQUlOLEVBQUtNLE1BQWhCQSxVQVlGakMsSUNqQkU0RCx3QkFBcUJDLHFCQUFBQSw0QkFBZUMsdUJBQUFBLFdBQVVDLFNBQ3pELGFBR1dDLEVBQVUsU0FBQ2pELE9BQUlrRCxvRUFBaUIsY0FHdkNMLFNBQ0s3Qyw2QkFFTGtELFFBQ0ksSUFBSUMsTUFBU25ELEVBQUdvRCxrQ0NUWEgsRUFBUSxTQUFDSSxTQUNNLFlBQXhCTixTQUFTTyxXQUNKLElBQUlDLFFBQVEsU0FBQ0MsWUFDVEMsaUJBQWlCLG1CQUFvQixrQkFBTUQsRUFBUUgsT0FJekRFLFFBQVFDLFFBQVFILE9DUFZKLEVBQVEsU0FBQ1MsTUFDbEIsWUFBYVgsU0FBU1ksY0FBYyxtQkFDL0JaLFNBQVNhLFdBQVdGLEVBQVNHLFNBQVMsV0FHM0NDLEVBQVdmLFNBQVNnQix5QkFDcEJDLEVBQVdOLEVBQVNPLFdBQ2YvQyxFQUFJLEVBQUdBLEVBQUk4QyxFQUFTbkQsT0FBUUssTUFDMUJnRCxZQUFZRixFQUFTOUMsR0FBR2lELFdBQVUsV0FFdENMLE1DVE1iLEVBQVEsU0FBQ21CLE9BQ2hCVixFQUFXWCxTQUFTWSxjQUFjLGNBQy9CVSxVQUFZRCxFQUFLRSxXQUNwQkMsRUFBT0MsRUFBZ0JkLE1BQ3pCYSxHQUFRQSxFQUFLRSxrQkFDUkYsRUFBS0UsaUJBRVIsSUFBSXRCLHFDQUFxQ2lCLE9DUmxDbkIsRUFBUSxTQUFDeUIsT0FDbEJDLFFBQ0FELEVBQUtFLFlBQWNGLEVBQUtFLFdBQVdILFdBQVksS0FDN0NJLEVBQVVILEVBQUtFLFdBQVdILGNBRUgsSUFBckJJLEVBQVFDLFVBQWtCRCxJQUFZSCxLQUMvQnpDLEtBQUs0QyxTQUdoQkEsRUFBUUUsYUFDZ0IsT0FBeEJGLEVBQVFFLGNBQ1BGLEVBQVVBLEVBQVFFLHFCQUloQkosTUNmTTFCLEVBQVEsU0FBQytCLEdBQ2xCQSxFQUFRQyxpQkFDRkEsY0FBY0MsWUFBWUYsT0NGdkIvQixFQUFRLFNBQUNrQyxFQUFPQyxRQUV0QkQsRUFBTVAsYUFBZU8sRUFBUUEsRUFBTVAsYUFBZU8sSUFBVUMsV0FFNURuRixRQUFRa0YsT0NKRmxDLEVBQ2IsU0FBQytCLE9BQVNGLHlEQUFXTyxLQUFLQyxhQUNwQnJCLEVBQWFlLEVBQVFmLFdBQ3JCRCxRQUNBQyxHQUFjQSxFQUFXcEQsT0FBUyxVQUNoQ0ssRUFBSStDLEVBQVdwRCxPQUNaSyxLQUNEK0MsRUFBVy9DLEdBQUc0RCxXQUFhQSxLQUNwQm5DLFFBQVFzQixFQUFXL0MsV0FJM0I4QyxJQ2JQdUIsRUFBc0IsRUFDdEJDLEVBQXNCLEVBQ3RCQyxLQUNBQyxFQUF1QixFQUN2QkMsRUFBZ0I1QyxTQUFTNkMsZUFBZSxJQUM1QyxJQUFJQyxpQkF1Q0osbUJBQ1FqRixFQUFNNkUsRUFBbUI1RSxPQUN0QkssRUFBSSxFQUFHQSxFQUFJTixFQUFLTSxJQUFLLEtBQ3hCNEUsRUFBS0wsRUFBbUJ2RSxNQUN4QjRFLEdBQW9CLG1CQUFQQSxVQUdiLE1BQU9DLGNBQ0ksaUJBQ0hBLE9BS0szRCxPQUFPLEVBQUd4QixNQUNOQSxJQXREWW9GLFFBQVFMLGtCQUM1QixJQU9qQixJQUFNTSxnQkFPQUMsWUFDWUMsWUFBYy9JLE9BQU9zSSxPQUNoQnpELEtBQUtpRSxHQUNqQlgscUJBUUZhLE9BQ0NDLEVBQU1ELEVBQVNaLEtBQ2pCYSxHQUFPLEVBQUcsS0FDUFosRUFBbUJZLFNBQ2hCLElBQUlsRCxNQUFNLHlCQUEyQmlELEtBRTFCQyxHQUFPLGNDbkNqQnBELEVBQ2IsU0FDRXFELEVBQ0FuRixFQUNBb0YsVUF5QkosU0FDRUQsRUFDQW5GLEVBQ0FvRixFQUNBQyxNQUVJckYsRUFBS3NGLFFBQVEsTUFBUSxFQUFHLEtBQ3RCQyxFQUFTdkYsRUFBS1IsTUFBTSxXQUNwQmdHLEVBQVVELEVBQU92SCxJQUFJLFNBQVNnQyxVQUN6QnlGLEdBQVlOLEVBQVFuRixFQUFNb0YsRUFBVUMsbUNBSXBDSyxPQUFTLHFCQUNWVCxTQUNJQSxFQUFTTyxFQUFRRyxTQUNoQkQsa0JBS1JELEdBQVlOLEVBQVFuRixFQUFNb0YsRUFBVUMsR0EzQ2xDTyxDQUFNVCxFQUFRbkYsRUFBTW9GLDZEQUkvQixTQUFTSyxHQUNQTixFQUNBbkYsRUFDQW9GLEVBQ0FDLE1BRUlGLEVBQU83QywwQkFDRkEsaUJBQWlCdEMsRUFBTW9GLEVBQVVDLFdBRTlCLGdCQUNESyxPQUFTLGVBQ1BHLG9CQUFvQjdGLEVBQU1vRixFQUFVQyxXQUkzQyxJQUFJckQsTUFBTSwwQ0MxQkhGLEVBQ2IsU0FDRXFELEVBQ0FuRixFQUNBb0YsT0FDQUMsMERBRUlKLEVBQVNhLEVBQ1hYLEVBQ0FuRixFQUNBLGFBQ1MwRixvQ0FHVEwsVUFFS0osT0NmSW5ELEVBQ2IsU0FDRXFELEVBQ0FuRixFQUNBb0YsT0FDQUMsMERBRUlVLEdBQVMsRUFDVGQsRUFBU2EsRUFDWFgsRUFDQW5GLEVBQ0EsV0FDTytGLDhCQUlQViw4QkFLU0ssOEJBR0Usd0JBR0EsU0M3QkY1RCxFQUFRLFNBQUNrRSxHQUNsQkEsRUFBSUMsbUJBQ0ZBLG9CQUVGQyxtQkNEQUMsR0FBU3ZFLFNBQVN3RSxZQUd4QixHQUFrQyxtQkFBdkJELEdBQU9FLFlBQTRCLEtBQ3RDQyxHQUFlLGdCQUdSM0osVUFBWXdKLEdBQU9FLFlBQVkxSixhQUNyQzBKLFlBQWNDLFVBSVJ4RSxFQUFRLFNBQUN5RSxPQUNoQkMsR0FDSixvQkFDQSx1QkFDQSxrQkFDQSw0QkFFTXBGLEVBQW1DOUUsT0FBbkM4RSxlQUFnQnRFLEVBQW1CUixPQUFuQlEsZUFDbEIySixFQUFXQyxXQUVaSCxpR0FDdUJKLEdBQU9FLDRFQWdEbEI5RSxzREFDYm9GLDZCQUFTcEYsY0FDSnFGLDhCQXpDQUMsNkJBRUFDLGdCQUFPQyxPQUNOQyxFQUFXQyxtQkFDWkQsRUFBU3ZKLElBQUlzSixHQUFVLEtBQ3BCaEssRUFBUTJELEtBQUsvRCxZQUNPaUUsUUFBUSxTQUFDc0csR0FDNUJwSyxFQUFlRSxLQUFLRCxFQUFPbUssTUFDZm5LLEVBQU9tSyxvQ0FFTixRQUdaQyxFQUFrQkQsRUFBbUJFLFVBQ3pDLEVBQ0FGLEVBQW1CeEgsT0FBUyxXQUFXQSxRQUVuQzJILEVBQWlCdEssRUFBTW1LLEtBQ2RuSyxFQUFPbUssU0FDYixzQ0FBWTNGLDhDQUNaNEYsR0FBaUJ0SyxNQUFNNkQsS0FBTWEsS0FDbkIxRSxNQUFNNkQsS0FBTWEsa0JBRWYsV0FJYnNGLGtCQXlDRixTQUFTUyxLQUNFNUcsTUFDRTZHLFdBQVksRUFDekJkLEVBRlcvRixNQUVPOEcsZ0JBRlA5RyxNQUdJOEcsYUFBYyxJQUNkeEssS0FKSjBELE1BQUFBLEtBS04rRyxXQTlDd0IsYUFBYS9HLFFBc0UxQyxTQUFTZ0gsT0FDUkMsRUFBVWpILE9BQ1BpSCxHQUFTSixXQUFZLElBQ3BCSyxJQUFJLFlBQ1BuQixFQUFTa0IsR0FBU0osV0FBYWQsRUFBU2tCLEdBQVNILGdCQUMzQ0csR0FBU0gsYUFBYyxJQUNYeEssS0FBSzJLLE9BM0VPLGdCQUFnQmpILFFBbURoRCxTQUFTbUgsT0FDUkYsRUFBVWpILFNBQ1grRixFQUFTa0IsR0FBU0csVUFBVyxLQUMxQkMsT0FBOENDLElBQWhDdkIsRUFBU2tCLEdBQVNHLFlBQzdCSCxHQUFTRyxXQUFZLElBQ3BCRixJQUFJLFdBQ1JuQixFQUFTa0IsR0FBU0csY0FDWEgsR0FBU0csV0FBWSxJQUN0QkcsVUFBVUYsS0FDSC9LLEtBQUsySyxLQUNaTyxZQUFZSCxRQTVESyxVQUFVckgsUUFDOUJvRyxPQUFPQyxFQUFTckcsc0RBS1csSUFBL0IrRixFQUFTL0YsTUFBTThHLGtGQVF4QlosbUNBR0F1QiwwQkFDRUMsRUFDQUMsRUFDQUMsaUJBSUZmLG1DQUVBZ0Isc0NBRUFDLGlDQUVBZixnQ0FFQVEsbUNBRUFDLDRCQXRFaUMzQixRQ3pCdEJ6RSxFQUFRLFNBQUN5RSxPQUNka0MsRUFBV25NLE9BQVhtTSxPQUNGaEMsRUFBV0MscUdBR1JHLDJCQUNDQSwyQkF1REQsU0FBU2tCLEdBRVZBLEVBRFlySCxLQUVOZ0ksb0JBQW9CaEksS0FBS2lJLE9BRm5CakksS0FJTmtJLG9CQUNObEksS0FBS2lJLE1BQ0xGLEtBQVdoQyxFQU5DL0YsTUFNaUJtSSxpQkE3REMsYUFBYW5JLFFBb0UxQyxTQUFTcUgsT0FFUmUsRUFBZ0JyQyxFQUROL0YsTUFDd0JtSSxnQkFEeEJuSSxNQUVFbUksY0FBZ0JwQyxFQUZsQi9GLE1BRW9DaUksTUFDaERaLEVBSFlySCxLQUlOcUksbUJBQW1CRCxHQUpicEksS0FNTnNJLG1CQUFtQkYsSUExRUksZUFBZXBJLG1CQUdsRGtHLGlDQUNRQSwwQkFDRHFDLFNBQVN2SSxLQUFLd0ksMkJBV3JCQywrQkFBc0JDLE9BQ2YsSUFBSUMsS0FBT0QsS0FDVkEsRUFBVUMsS0FBUzVDLEVBQVMvRixNQUFNaUksTUFBTVUsVUFDbkMsU0FHSixlQUdUSixrQkFBU0ssT0FDREYsRUFBWVgsS0FBV2hDLEVBQVMvRixNQUFNaUksTUFBT1csU0FHL0J0QixJQUZFdkIsRUFBUy9GLE1BQU1pSSxPQUVKakksS0FBS3lJLHNCQUFzQkMsUUFHakQxSSxNQUFNaUksTUFBUVMsRUFDbkIxSSxLQUFLOEcsa0JBQ0ZDLHVCQU1YaUIsNkJBQW9CYSxpQkFHcEJSLDRCQUFtQkQsaUJBR25CRiw2QkFBb0JXLEVBQVVULGlCQUc5QkUsNEJBQW1CRiwyRkFwQ1ZMLEtBQVdoQyxFQUFTL0YsTUFBTWlJLGNBakJWcEMsUUNIZHpFLEVBQVEsU0FBQ3lFLG9HQUdiTSw2QkFjRDJDLElBYkUzQyw0QkFhRjJDLEVBQWEsWUFFWixTQUFTekIsT0FDUkosRUFBVWpILFFBQ1pxSCxFQUFhLEtBQ1RsRixFQUFXNEcsRUFBZ0I5QixLQUN4Qi9HLFFBQVEsU0FBQ29ELE9BQ1YwRixFQUFZMUYsRUFBTTJGLGFBQ3BCM0YsRUFBTTJGLGFBQWEsUUFDbkIsUUFDcUIsaUJBQWRELEdBQTBCQSxFQUFVaEssT0FBUyxFQUFHLEtBQ25Ea0ssRUFBT0YsRUFBVUcsUUFBUUwsRUFBWSxtQkFDekNySixFQUFNLEdBQUcySixrQkFFSEMsTUFBTUgsR0FBUTVGLFNBRWQrRixNQUFNQyxRQUFRbEosS0FBS2tELE9BR3ZCaUcsbUJBL0J5QixhQUFhdkosbUJBR2xEa0csaUNBQ1FBLDBCQUNEbUQsT0FBVUMseUJBR2pCQyw4QkFaeUIxRCxRQ0VkekUsRUFBUSxTQUFDeUUsT0FDZGtDLEVBQVduTSxPQUFYbU0sT0FDRmhDLEVBQVdDLEVBQWMsaUNBS3pCd0QsWUFDSyxjQUNHLG9HQUtMckQsMkJBQ0NBLDJCQW9DRCxXQUNXbkcsS0FDUnlKLE9BckMwQixnQkFBZ0J6SixtQkFHcEQwSixxQkFBWTVKLE9BQ0p5RSxPQUFjekUsRUFBTVIsS0FDRSxtQkFBakJVLEtBQUt1RSxTQUVUQSxHQUFRekUsZ0JBSWpCNkosWUFBR3JLLEVBQU1vRixFQUFVQyxRQUNaaUYsSUFBSXhFLEVBQVlwRixLQUFNVixFQUFNb0YsRUFBVUMsaUJBRzdDa0Ysa0JBQVN2SyxPQUFNUyxpRUFDUitKLGNBQ0gsSUFBSUMsWUFBWXpLLEVBQU15SSxFQUFPeUIsR0FBc0JRLE9BQVFqSyxtQkFJL0QwSixpQkFDV3pKLE1BQU1pSyxTQUFTL0osUUFBUSxTQUFDQyxLQUN2QjZFLHdCQUlaNEUsaURBQU9LLDJDQUNJL0osUUFBUSxTQUFDQyxLQUNQK0osR0FBTUQsU0FBUzdKLEtBQUtELFNBakNQMEYsUUNiZnpFLEVBQVEsU0FBQ3lFLE9BQ2RuRixFQUFpQzlFLE9BQWpDOEUsZUFBZ0J5SixFQUFpQnZPLE9BQWpCdU8sS0FBTXBDLEVBQVduTSxPQUFYbU0sT0FDeEJxQyxLQUNBQyxLQUNBdEUsRUFBV0MsSUFFYnNFLFNBQ0FDLEtBQ0FDLGNBb0JLQyxFQUFvQkMsT0FsQkVDLEVBbUJ2QkMsU0FDRCxJQUFJckosS0FBUW1KLEtBQ1Y5TyxPQUFPUSxlQUFlRSxLQUFLb08sRUFBWW5KLFFBR3RDc0osRUFBV0gsRUFBV25KLEtBQ3JCQSxHQUNlLG1CQUFic0osR0FBNEJ2TCxLQUFNdUwsR0FBYUEsR0ExQjdCRixFQTJCTEMsRUFBT3JKLElBMUJ4QnVKLFlBQWMsYUFBY0gsSUFDNUJJLGlCQUNMSixFQUFPRyxhQUEwQyxpQkFBcEJILEVBQU9LLFdBQy9CQyxTQUFXTixFQUFPckwsT0FBUy9ELFNBQzNCMlAsU0FBV1AsRUFBT3JMLE9BQVM2TCxTQUMzQkMsVUFBWVQsRUFBT3JMLE9BQVNsQixVQUM1QmlOLFNBQVdWLEVBQU9yTCxPQUFTMUQsU0FDM0IrRCxRQUFVZ0wsRUFBT3JMLE9BQVNJLFFBQzFCNEwsT0FBU1gsRUFBT3JMLE9BQVNsRSxPQUN6Qm1RLE9BQVMsV0FBWVosSUFDckJhLFNBQVcsYUFBY2IsR0FBU0EsRUFBT2EsV0FDekNDLG1CQUNMLHVCQUF3QmQsRUFDcEJBLEVBQU9jLG1CQUNQZCxFQUFPTSxVQUFZTixFQUFPTyxVQUFZUCxFQUFPUyxpQkFjNUNSLG1HQXNFQXpFLDJCQUNDQSwyQkFuRUQsV0FFRHZLLE9BQU91TyxLQUFLcEUsRUFEQS9GLE1BQ2tCMEwsc0JBQXNCMU0sT0FBUyxNQURqRGdCLEtBRUUrRixFQUZGL0YsTUFFb0IwTCx3QkFGcEIxTCxNQUdJMEwseUJBSEoxTCxLQUtSMkwsb0JBOER3QixhQUFhM0wsUUF6RHhDLFNBQVNnSixFQUFXckIsRUFBVUMsR0FFL0JELElBQWFDLEdBREQ1SCxLQUVONEwscUJBQXFCNUMsRUFBV3BCLElBdURKLG9CQUFvQjVILFFBakRyRCxTQUNMNkwsRUFDQUMsRUFDQUMsY0FFSTlFLEVBQVVqSCxZQUNQbUssS0FBSzJCLEdBQWM1TCxRQUFRLFNBQUMySyxTQU83QjVELEVBQVErRSxZQUFZQyxnQkFBZ0JwQixHQUx0Q1UsSUFBQUEsT0FDQVQsSUFBQUEsWUFDQVcsSUFBQUEsbUJBQ0FWLElBQUFBLGlCQUNBQyxJQUFBQSxTQUVFUyxLQUNNUyxxQkFBcUJyQixFQUFVaUIsRUFBYWpCLElBRWxEQyxHQUFlQyxJQUNaQyxHQUFVYyxFQUFhakIsR0FBV2tCLEVBQVNsQixJQUN2Q0MsR0FBbUMsbUJBQWJFLEtBQ3RCN08sTUFBTThLLEdBQVU2RSxFQUFhakIsR0FBV2tCLEVBQVNsQixLQUV4RFUsS0FDTXpCLGNBQ04sSUFBSUMsWUFBZWMsK0JBRUxpQixFQUFhakIsWUFDYmtCLEVBQVNsQixVQXVCVyxxQkFBcUI3SyxXQUN4RG1NLHNCQUdBQyxpQ0FBd0JwRCxPQUN6QjZCLEVBQVdULEVBQXlCcEIsT0FDbkM2QixFQUFVLEdBR0Y3QixFQUFVRyxRQURGLFlBQ3NCLG1CQUN2QzFKLEVBQU0sR0FBRzJKLGtCQUVjSixHQUFhNkIsU0FFakNBLEtBR0Z3QixpQ0FBd0J4QixPQUN6QjdCLEVBQVlxQixFQUEwQlEsT0FDckM3QixFQUFXLEdBR0Y2QixFQUFTMUIsUUFERSxXQUNzQixPQUFPNUosZ0JBQzFCc0wsR0FBWTdCLFNBRWpDQSxLQXdDRm1ELGdDQUNDOVAsRUFBUTJELEtBQUsvRCxVQUNieU8sRUFBYTFLLEtBQUtpTSxrQkFDbkJ2QixHQUFZeEssUUFBUSxTQUFDMkssTUFDcEJqUCxPQUFPUSxlQUFlRSxLQUFLRCxFQUFPd08sU0FDOUIsSUFBSXZKLG1DQUNxQnVKLG9DQUczQnlCLEVBQWdCNUIsRUFBV0csR0FBVTVNLFdBQ3JCcUosSUFBbEJnRixNQUNjekIsR0FBWXlCLEtBRXhCQyx3QkFBd0IxQixFQUFVSCxFQUFXRyxHQUFVVyx5QkFJakV0RixpQ0FDUUEsdUJBQ0dsRyxNQUFNRCxVQUNOQyxNQUFNd00sYUFBYyxJQUNwQnhNLE1BQU0wTCwwQkFDTjFMLE1BQU15TSxZQUFjLE9BQ3BCek0sTUFBTTBNLFFBQVUsT0FDaEIxTSxNQUFNMk0sYUFBYyxPQUN4QkMsa0NBQ0FDLHFDQUdQQywyQkFDRWpCLEVBQ0FDLEVBQ0FDLGlCQUdGUSxpQ0FBd0IxQixFQUFVVyxHQUMzQmpCLEVBQWdCTSxPQUNIQSxJQUFZLElBQ2I3SyxLQUFNNkssZUFDUCxnQkFDRSx3QkFFTDdLLEtBQUsrTSxhQUFhbEMsUUFFdEJXLEVBQ0QsYUFDQSxTQUFTNUQsUUFDRm9GLGFBQWFuQyxFQUFVakQsb0JBTXhDbUYsc0JBQWFsQyxVQUNKOUUsRUFBUy9GLE1BQU1ELEtBQUs4SyxnQkFHN0JtQyxzQkFBYW5DLEVBQVVqRCxHQUNqQjVILEtBQUtpTixzQkFBc0JwQyxFQUFVakQsR0FDbkM1SCxLQUFLa04sb0JBQW9CckMsRUFBVWpELFNBQ2hDdUYsZ0NBSUNDLHFCQUFxQnhGLG1CQUF5QmlELHlCQUNsRDdLLEtBQUtnTSxZQUFZQyxnQkFBZ0JwQixHQUFVdkwsS0FBS2lDLG1CQUl4RHFMLHdEQUNTekMsS0FBS0ssR0FBaUJ0SyxRQUFRLFNBQUMySyxPQUM5QjVNLEVBQ2lDLG1CQUE5QnVNLEVBQWdCSyxHQUNuQkwsRUFBZ0JLLEdBQVV2TyxLQUFLK1EsR0FDL0I3QyxFQUFnQkssS0FDakJtQyxhQUFhbkMsRUFBVTVNLGtCQUloQzRPLG1EQUNTMUMsS0FBS0ksR0FBaUJySyxRQUFRLFNBQUMySyxHQUNoQ2pQLE9BQU9RLGVBQWVFLEtBQUtnUixFQUFNekMsT0FDMUJ5QyxHQUFNNUIscUJBQXFCYixHQUFZeUMsRUFBS3pDLFVBQzlDeUMsRUFBS3pDLG1CQUtsQmUsOEJBQXFCNUMsRUFBVy9LLE9BQ3pCOEgsRUFBUy9GLE1BQU13TSxZQUFhLEtBQ3pCM0IsRUFBVzdLLEtBQUtnTSxZQUFZSSx3QkFDaENwRCxRQUVHNkIsR0FBWTdLLEtBQUt1TixrQkFBa0IxQyxFQUFVNU0saUJBSXREZ1AsK0JBQXNCcEMsRUFBVTVNLE9BQ3hCdVAsRUFBZXhOLEtBQUtnTSxZQUFZQyxnQkFBZ0JwQixHQUNuRHZMLFdBRWtCLHFCQUFWckIsZ0JBQUFBLElBQ0NBLGFBQWlCdVAsRUFFakIsYUFBVXZQLGdCQUFBQSxNQUFZdVAsRUFBYWpNLEtBQUtoQywyQkFLdEQyTSw4QkFBcUJyQixFQUFVNU0sS0FDcEIrQixNQUFNd00sYUFBYyxNQUN2QnhELEVBQVloSixLQUFLZ00sWUFBWUssd0JBQXdCeEIsUUFFN0N2RCxPQUROdEgsS0FBS3lOLGdCQUFnQjVDLEVBQVU1TSxTQUVoQ3lQLGdCQUFnQjFFLEdBQ1poSixLQUFLaUosYUFBYUQsS0FBZS9LLFFBQ3JDMFAsYUFBYTNFLEVBQVcvSyxLQUV0QitCLE1BQU13TSxhQUFjLGVBRy9CZSwyQkFBa0IxQyxFQUFVNU0sU0FRdEIrQixLQUFLZ00sWUFBWUMsZ0JBQWdCcEIsR0FObkNLLElBQUFBLFNBQ0F2TCxJQUFBQSxRQUNBeUwsSUFBQUEsVUFDQUUsSUFBQUEsT0FDQUwsSUFBQUEsU0FDQUksSUFBQUEsZ0JBRUVELElBQ2dCLE9BQVZuTixRQUE0QnFKLElBQVZySixFQUNqQmlOLElBQ1MsT0FBVmpOLFFBQTRCcUosSUFBVnJKLEVBQXNCLEVBQUlrTixPQUFPbE4sR0FDbERnTixJQUNTLE9BQVZoTixRQUE0QnFKLElBQVZySixFQUFzQixHQUFLMUMsT0FBTzBDLEdBQ25Eb04sR0FBWTFMLElBRVQsT0FBVjFCLFFBQTRCcUosSUFBVnJKLEVBQ2QwQixFQUNFLFFBRUZpTyxLQUFLMUksTUFBTWpILEdBQ1JxTixNQUNTLE9BQVZyTixRQUE0QnFKLElBQVZySixFQUFzQixHQUFLLElBQUk3QyxLQUFLNkMsSUFFekRBLGVBR1R3UCx5QkFBZ0I1QyxFQUFVNU0sT0FDbEI0UCxFQUFpQjdOLEtBQUtnTSxZQUFZQyxnQkFDdENwQixHQUVNTyxFQUFpQ3lDLEVBQWpDekMsVUFBV0MsRUFBc0J3QyxFQUF0QnhDLFNBQVUxTCxFQUFZa08sRUFBWmxPLGVBRXpCeUwsRUFDS25OLEVBQVEsUUFBS3FKLEVBRWxCK0QsR0FBWTFMLEVBQ1BpTyxLQUFLRSxVQUFVN1AsS0FHaEJBLEVBQVFBLEVBQU1XLGdCQUFhMEksZUFJckM0Riw2QkFBb0JyQyxFQUFVNU0sT0FDeEI4UCxFQUFNaEksRUFBUy9GLE1BQU1ELEtBQUs4SyxHQUMxQm1ELEVBQVVoTyxLQUFLaU8sc0JBQXNCcEQsRUFBVTVNLEVBQU84UCxVQUN0REMsSUFDR2pJLEVBQVMvRixNQUFNeU0sZ0JBQ1R6TSxNQUFNeU0saUJBQ056TSxNQUFNME0sYUFHYjNHLEVBQVMvRixNQUFNME0sU0FBYTdCLEtBQVk5RSxFQUFTL0YsTUFBTTBNLFlBQ2hEMU0sTUFBTTBNLFFBQVE3QixHQUFZa0QsS0FFNUIvTixNQUFNRCxLQUFLOEssR0FBWTVNLElBQ3ZCK0IsTUFBTXlNLFlBQVk1QixHQUFZNU0sR0FFbEMrUCxlQUdUYiw0Q0FDT3BILEVBQVMvRixNQUFNMk0sZ0JBQ1QzTSxNQUFNMk0sYUFBYyxJQUNuQnpGLElBQUksV0FDUm5CLEVBQVNtSSxHQUFNdkIsZ0JBQ1J1QixHQUFNdkIsYUFBYyxJQUN4QmhCLG9DQU1iQSxnQ0FDUXdDLEVBQVFwSSxFQUFTL0YsTUFBTUQsS0FDdkIrTCxFQUFlL0YsRUFBUy9GLE1BQU15TSxZQUM5QnNCLEVBQU1oSSxFQUFTL0YsTUFBTTBNLFFBRXZCMU0sS0FBS29PLHdCQUF3QkQsRUFBT3JDLEVBQWNpQyxPQUMzQy9OLE1BQU15TSxZQUFjLE9BQ3BCek0sTUFBTTBNLFFBQVUsVUFDcEJJLGtCQUFrQnFCLEVBQU9yQyxFQUFjaUMsaUJBSWhESyxpQ0FDRXZDLEVBQ0FDLEVBQ0FDLFVBRU8zTixRQUFRME4sZ0JBR2pCbUMsK0JBQXNCcEQsRUFBVTVNLEVBQU84UCxjQUczQjlQLE9BRUM4UCxHQUFPOVAsR0FBVUEseUVBeFMxQnJDLE9BQU91TyxLQUFLbkssS0FBS2lNLGlCQUFpQjNPLElBQUksU0FBQ3VOLFVBQ3JDd0QsRUFBS2hDLHdCQUF3QnhCLHFEQXNDNUJQLEVBQWtCLFNBQ2ZnRSxFQUFzQixrQkFBTWhFLE9BQzlCaUUsRUFBVyxLQUNYQyxHQUFPLEVBRUpBLE1BQ001UyxPQUFPVyxlQUE0QixPQUFiZ1MsRUFBb0J2TyxLQUFPdU8sS0FHekRBLEVBQVN2QyxhQUNWdUMsRUFBU3ZDLGNBQWdCckcsYUFDekI0SSxFQUFTdkMsY0FBZ0J5QyxVQUN6QkYsRUFBU3ZDLGNBQWdCcFEsUUFDekIyUyxFQUFTdkMsY0FBZ0J1QyxFQUFTdkMsWUFBWUEsaUJBRXZDLEdBRUxwUSxPQUFPUSxlQUFlRSxLQUFLaVMsRUFBVSxrQkFFcEJ4RyxFQUNqQnVHLE1BQ29CQyxFQUFTN0QsY0FJL0IxSyxLQUFLMEssZUFFWTNDLEVBQ2pCdUcsTUFDb0J0TyxLQUFLMEsscUJBSXhCSixTQTVFcUJ6RSxRQ3RHbkJ6RSxFQUNiLGVBQ0V5RSx5REFBWTZJLGdIQU1WNUIsMkJBQ0VqQixFQUNBQyxFQUNBQyxHQUVJL0wsS0FBSzhHLGtCQUNGQyxhQVZvQjRILEVBQWE5SSxHQUFXK0ksS0FDckQvSixHQUNBNkYsc0hDWlVsSyw4QkFBY0MsMERBQ3JCLFNBQVNyRCxXQUNSZixFQUFRZSxFQUFNbkIsVUFDZDhDLEVBQU0wQixFQUFZekIsT0FDaEIwQixFQUFtQjlFLE9BQW5COEUsMEJBQ0NyQixPQUNEc0IsRUFBYUYsRUFBWXBCLEdBQ3pCdUIsRUFBU3ZFLEVBQU1zRSxLQUNOdEUsRUFBT3NFLFNBQ2IsMENBQVlFLGdEQUVSRCxFQUFPekUsTUFBTTZELEtBQU1hLEdBQzFCLE1BQU9xRCxLQUNHNUgsS0FBSzBELEtBQU1rRSxlQUdmLEtBWEw3RSxFQUFJLEVBQUdBLEVBQUlOLEVBQUtNLE1BQWhCQSxVQWNGakMsdVZDbEJUWSxFQUNBMkssT0FDQWtHLDhEQUFldkgsTUFFVyxJQUF0QnFCLEVBQUkvRCxRQUFRLFlBQ1A1RyxFQUFJMkssR0FBTzNLLEVBQUkySyxHQUFPa0csVUFFekJDLEVBQVFuRyxFQUFJN0osTUFBTSxLQUNsQkUsRUFBUzhQLEVBQU05UCxPQUNqQitQLEVBQVMvUSxFQUVKcUIsRUFBSSxFQUFHQSxFQUFJTCxFQUFRSyxZQUVKLE9BRGIwUCxFQUFPRCxFQUFNelAsbUJBRVh3UCxVQUlORSxtQkNuQk8vUSxFQUFLMkssRUFBSzFLLE9BQ0UsSUFBdEIwSyxFQUFJL0QsUUFBUSxjQUlWa0ssRUFBUW5HLEVBQUk3SixNQUFNLEtBQ2xCa1EsRUFBUUYsRUFBTTlQLE9BQVMsRUFDekIrUCxFQUFTL1EsRUFFSnFCLEVBQUksRUFBR0EsRUFBSTJQLEVBQU8zUCxTQUNPLElBQXJCMFAsRUFBT0QsRUFBTXpQLFFBQ2Z5UCxFQUFNelAsVUFFTjBQLEVBQU9ELEVBQU16UCxNQUVqQnlQLEVBQU1FLElBQVUvUSxTQWJqQjBLLEdBQU8xSywwQkNGQ3pCLFVBQ2RaLE9BQU91TyxLQUFLM04sR0FBR2dCLE9BQ2IsU0FBQ0UsRUFBR0QsVUFBTUMsRUFBRVYsSUFBSVMsRUFBR2pCLEVBQUVpQixLQUNyQixJQUFJWCxjQ0RNLFNBQVJtUyxFQUNKQyxPQUNBQyw0REFDQUMsZ0VBR0tGLElBQVE1UCxFQUFLeVAsT0FBT0csSUFBUTVQLEVBQUsrUCxTQUFTSCxVQUN0Q0EsS0FJTDVQLEVBQUtnUSxLQUFLSixVQUNMLElBQUk5VCxLQUFLOFQsRUFBSUssY0FJbEJqUSxFQUFLa1EsT0FBT04sVUFDUCxJQUFJTyxPQUFPUCxNQUloQjVQLEVBQUtvUSxNQUFNUixVQUNOQSxFQUFJNVIsSUFBSTJSLE1BSWIzUCxFQUFLaEMsSUFBSTRSLFVBQ0osSUFBSXBTLElBQUk0QyxNQUFNaVEsS0FBS1QsRUFBSVUsZUFJNUJ0USxFQUFLdEMsSUFBSWtTLFVBQ0osSUFBSVcsSUFBSW5RLE1BQU1pUSxLQUFLVCxFQUFJWSxjQUk1QnhRLEVBQUt5UCxPQUFPRyxHQUFNLEdBQ1Y5TyxLQUFLOE8sT0FDVGxSLEVBQU1wQyxPQUFPZ0MsT0FBT3NSLEtBQ25COU8sS0FBS3BDLGtCQUNIMkssT0FDSG5FLEVBQU0ySyxFQUFVOU8sVUFBVSxTQUFDaEIsVUFBTUEsSUFBTTZQLEVBQUl2RyxPQUMzQ0EsR0FBT25FLEdBQU8sRUFBSTRLLEVBQU81SyxHQUFPeUssRUFBTUMsRUFBSXZHLEdBQU13RyxFQUFXQyxRQUY1RCxJQUFJekcsS0FBT3VHLElBQVB2RyxVQUlGM0ssU0FHRmtSIn0=

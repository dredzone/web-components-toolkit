!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.VoyaUtilityToolkit={})}(this,function(t){"use strict";var e=0,n=0,r=function(t){var r=Date.now();r===e?++n:(e=r,n=0);var o=""+String(r)+String(n);return t&&(o=t+"_"+o),o},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=Object.freeze,c=Object.setPrototypeOf,f=Object.getPrototypeOf,s=Object.hasOwnProperty,l=r("_wrappedMixin"),p=r("_appliedMixin"),v=r("_cachedApplication"),h=function(t){return function(t){return d(t,function(e){return function(t,e){for(;null!==t;){if(b(t,e))return!0;t=f(t)}return!1}(e.prototype,t)?e:t(e)})}(function(t){return d(t,function(e){var n=e[v];n||(n=e[v]=new Map);var r=n.get(t);return r||(r=t(e),n.set(t,r)),r})}(function(t){return d(t,function(e){return function(t,e){var n=e(t);return n.prototype[p]=y(e),n}(e,t)})}(t)))};function d(t,e){return c(e,t),t[l]||(t[l]=t),e}function y(t){return t[l]||t}function b(t,e){return s.call(t,p)&&t[p]===y(e)}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create.bind(null,null,{}),e=new WeakMap;return function(n){var r=e.get(n);return r||e.set(n,r=t(n)),r}},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.some(e)},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return t.every(e)},O=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(n,t)}},_=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(n,t)}},E=Object.prototype.toString,S=["Map","Set","Symbol","Array","Object","String","Date","RegExp","Function","Boolean","Number","Null","Undefined","Arguments","Error"],j=S.length,A={},x=/\s([a-zA-Z]+)/,N=function(){for(var t={},e=function(e){var n=S[e].toLowerCase();t[n]=function(t){return P(t)===n},t[n].all=O(t[n]),t[n].any=_(t[n])},n=j;n--;)e(n);return t}(),M=function(t){return P(t)};function P(t){var e=E.call(t);if(!A[e]){var n=e.match(x);Array.isArray(n)&&n.length>1&&(A[e]=n[1].toLowerCase())}return A[e]}var C=0,T=0,L=[],B=0,D=document.createTextNode("");new MutationObserver(function(){for(var t=L.length,e=0;e<t;e++){var n=L[e];if(n&&"function"==typeof n)try{n()}catch(t){setTimeout(function(){throw t})}}L.splice(0,t),T+=t}).observe(D,{characterData:!0});var k=Object.freeze({run:function(t){return D.textContent=String(B++),L.push(t),C++},cancel:function(t){var e=t-T;if(e>=0){if(!L[e])throw new Error("invalid async handle: "+t);L[e]=null}}}),z=function(t){if("content"in document.createElement("template"))return document.importNode(t.content,!0);for(var e=document.createDocumentFragment(),n=t.childNodes,r=0;r<n.length;r++)e.appendChild(n[r].cloneNode(!0));return e},K=function(t,e,n){return function(t,e,n,r){if(e.indexOf(",")>-1){var o=e.split(/\s*,\s*/),i=o.map(function(e){return R(t,e,n,r)});return{remove:function(){this.remove=function(){};for(var t=void 0;t=i.pop();)t.remove()}}}return R(t,e,n,r)}(t,e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])};function R(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),{remove:function(){this.remove=function(){},t.removeEventListener(e,n,r)}};throw new Error("target must be an event emitter")}var F=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(-1===e.indexOf("."))return t[e]?t[e]:n;for(var r=e.split("."),o=r.length,i=t,u=0;u<o;u++)if(void 0===(i=i[r[u]]))return void(i=n);return i},U=function(t,e,n){if(-1!==e.indexOf(".")){for(var r=e.split("."),o=r.length-1,i=t,u=0;u<o;u++)void 0===i[r[u]]&&(i[r[u]]={}),i=i[r[u]];i[r[o]]=n}else t[e]=n};function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t||!N.object(t)||N.function(t))return t;var r=M(t);return r in J?J[r].apply(t,[e,n]):t}var J=Object.freeze({date:function(){return new Date(this.getTime())},regexp:function(){return new RegExp(this)},array:function(){return this.map(H)},map:function(){return new Map(Array.from(this.entries()))},set:function(){return new Set(Array.from(this.values()))},object:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.push(this);var r=Object.create(this);n.push(r);var o=function(o){var i=e.findIndex(function(e){return e===t[o]});r[o]=i>-1?n[i]:H(t[o],e,n)};for(var i in this)o(i);return r}}),I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return e};return JSON.parse(JSON.stringify(t),e)};t.classBuilder=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function t(){o(this,t)};return a({with:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(t){return h(t)}).reduce(function(t,e){return e(t)},t)}})},t.createStorage=g,t.is=N,t.eventHubFactory=function(){var t=new Map,e=0;return{publish:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.forEach(function(t){(t.get(e)||[]).forEach(function(t){t.apply(void 0,r)})}),this},createSubscriber:function(){var n=e++;return{on:function(e,r){t.has(n)||t.set(n,new Map);var o=t.get(n);return o.has(e)||o.set(e,[]),o.get(e).push(r),this},off:function(e){return t.get(n).delete(e),this},destroy:function(){t.delete(n)}}}}},t.model=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function t(){o(this,t)},e=g(),n=0;return function(t){function a(){o(this,a);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var c=u(this,t.call.apply(t,[this].concat(n)));return c._stateKey=r("_state"),c._subscribers=new Map,c._setState(c.defaultState),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),a.prototype.get=function(t){return this._getState(t)},a.prototype.set=function(t,e){var n=void 0,r=void 0;!N.string(t)&&N.undefined(e)?r=t:(r=e,n=t);var o=this._getState(),i=I(o);return n?U(i,n,r):i=r,this._setState(i),this._notifySubscribers(n,i,o),this},a.prototype.createSubscriber=function(){var t=n++,e=this;return{on:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._subscribe.apply(e,[t].concat(r)),this},destroy:this._destroySubscriber.bind(this,t)}},a.prototype.createPropertyBinder=function(t){if(!t)throw new Error("createPropertyBinder(context) - context must be object");var e=this;return{addBindings:function(n){return Array.isArray(n[0])||(n=[n]),n.forEach(function(n){e._subscribe(t,n[0],function(e){U(t,n[1],e)})}),this},destroy:this._destroySubscriber.bind(this,t)}},a.prototype._getState=function(t){return I(t?F(e[this._stateKey],t):e[this._stateKey])},a.prototype._setState=function(t){e[this._stateKey]=t},a.prototype._subscribe=function(t,e,n){var r=this._subscribers.get(t)||[];r.push({accessor:e,cb:n}),this._subscribers.set(t,r)},a.prototype._destroySubscriber=function(t){this._subscribers.delete(t)},a.prototype._notifySubscribers=function(t,e,n){this._subscribers.forEach(function(r){r.forEach(function(r){var o=r.accessor,i=r.cb;if(0!==o.indexOf(t)){if(o.indexOf("*")>-1){var u=o.replace(".*","").replace("*","");if(0===t.indexOf(u))return void i(F(e,u),F(n,u))}}else i(F(e,o),F(n,o))})})},i(a,[{key:"defaultState",get:function(){return{}}}]),a}(t)},t.microTask=k,t.documentReady=function(t){return"loading"===document.readyState?new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e(t)})}):Promise.resolve(t)},t.createElement=function(t){var e=document.createElement("template");e.innerHTML=t.trim();var n=z(e);if(n&&n.firstChild)return n.firstChild;throw new Error("Unable to createElement for "+t)},t.elementSiblings=function(t){var e=[];if(t.parentNode&&t.parentNode.firstChild){var n=t.parentNode.firstChild;do{1===n.nodeType&&n!==t&&e.push(n)}while(n.nextSibling&&null!==n.nextSibling&&(n=n.nextSibling))}return e},t.removeElement=function(t){t.parentElement&&t.parentElement.removeChild(t)},t.isDescendantElement=function(t,e){for(;t.parentNode&&(t=t.parentNode)&&t!==e;);return Boolean(t)},t.elementChildren=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Node.ELEMENT_NODE,n=t.childNodes,r=[];if(n&&n.length>0)for(var o=n.length;o--;)n[o].nodeType===e&&r.unshift(n[o]);return r},t.templateContent=z,t.listenEvent=K,t.listenEventOnce=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=K(t,e,function(){o.remove(),n.apply(void 0,arguments)},r);return o},t.pausableEvent=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!1,i=K(t,e,function(){o||n.apply(void 0,arguments)},r);return{remove:function(){i.remove()},pause:function(){o=!0},resume:function(){o=!1}}},t.before=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),u.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},t.around=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.unshift(u),t.apply(this,n)},writable:!0})},a=0;a<o;a++)u(a);return e}},t.after=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=u.apply(this,n);return t.apply(this,n),o},writable:!0})},a=0;a<o;a++)u(a);return e}},t.afterThrow=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){for(var r=e.prototype,o=n.length,i=Object.defineProperty,u=function(e){var o=n[e],u=r[o];i(r,o,{value:function(){try{for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return u.apply(this,n)}catch(e){t.call(this,e)}},writable:!0})},a=0;a<o;a++)u(a);return e}},t.any=m,t.all=w,t.dget=F,t.dset=U,t.clone=function(t){return H(t,[],[])},t.jsonClone=I,t.objectToMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91bmlxdWUtaWQuanMiLCIuLi8uLi9saWIvY2xhc3MtYnVpbGRlci5qcyIsIi4uLy4uL2xpYi9jcmVhdGUtc3RvcmFnZS5qcyIsIi4uLy4uL2xpYi9hcnJheS9hbnkuanMiLCIuLi8uLi9saWIvYXJyYXkvYWxsLmpzIiwiLi4vLi4vbGliL3R5cGUuanMiLCIuLi8uLi9saWIvZXZlbnQtaHViLmpzIiwiLi4vLi4vbGliL2RvbS9taWNyb3Rhc2suanMiLCIuLi8uLi9saWIvZG9tL3RlbXBsYXRlLWNvbnRlbnQuanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RnZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2RzZXQuanMiLCIuLi8uLi9saWIvb2JqZWN0L2Nsb25lLmpzIiwiLi4vLi4vbGliL29iamVjdC9qc29uLWNsb25lLmpzIiwiLi4vLi4vbGliL21vZGVsLmpzIiwiLi4vLi4vbGliL2RvbS9kb2N1bWVudC1yZWFkeS5qcyIsIi4uLy4uL2xpYi9kb20vY3JlYXRlLWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtc2libGluZ3MuanMiLCIuLi8uLi9saWIvZG9tL3JlbW92ZS1lbGVtZW50LmpzIiwiLi4vLi4vbGliL2RvbS9pcy1kZXNjZW5kYW50LWVsZW1lbnQuanMiLCIuLi8uLi9saWIvZG9tL2VsZW1lbnQtY2hpbGRyZW4uanMiLCIuLi8uLi9saWIvZG9tLWV2ZW50cy9saXN0ZW4tZXZlbnQtb25jZS5qcyIsIi4uLy4uL2xpYi9kb20tZXZlbnRzL3BhdXNhYmxlLWV2ZW50LmpzIiwiLi4vLi4vbGliL2FkdmljZS9iZWZvcmUuanMiLCIuLi8uLi9saWIvYWR2aWNlL2Fyb3VuZC5qcyIsIi4uLy4uL2xpYi9hZHZpY2UvYWZ0ZXIuanMiLCIuLi8uLi9saWIvYWR2aWNlL2FmdGVyLXRocm93LmpzIiwiLi4vLi4vbGliL29iamVjdC9vYmplY3QtdG8tbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qICAqL1xuXG5sZXQgcHJldlRpbWVJZCA9IDA7XG5sZXQgcHJldlVuaXF1ZUlkID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgKHByZWZpeCkgPT4ge1xuICBsZXQgbmV3VW5pcXVlSWQgPSBEYXRlLm5vdygpO1xuICBpZiAobmV3VW5pcXVlSWQgPT09IHByZXZUaW1lSWQpIHtcbiAgICArK3ByZXZVbmlxdWVJZDtcbiAgfSBlbHNlIHtcbiAgICBwcmV2VGltZUlkID0gbmV3VW5pcXVlSWQ7XG4gICAgcHJldlVuaXF1ZUlkID0gMDtcbiAgfVxuXG4gIGxldCB1bmlxdWVJZCA9IGAke1N0cmluZyhuZXdVbmlxdWVJZCl9JHtTdHJpbmcocHJldlVuaXF1ZUlkKX1gO1xuICBpZiAocHJlZml4KSB7XG4gICAgdW5pcXVlSWQgPSBgJHtwcmVmaXh9XyR7dW5pcXVlSWR9YDtcbiAgfVxuICByZXR1cm4gdW5pcXVlSWQ7XG59O1xuIiwiLyogICovXG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi91bmlxdWUtaWQuanMnO1xuXG5jb25zdCB7IGZyZWV6ZSwgc2V0UHJvdG90eXBlT2YsIGdldFByb3RvdHlwZU9mLCBoYXNPd25Qcm9wZXJ0eSB9ID0gT2JqZWN0O1xuXG4vLyB1c2VkIGJ5IHdyYXAoKSBhbmQgdW53cmFwKClcbmNvbnN0IHdyYXBwZWRNaXhpbktleSA9IHVuaXF1ZUlkKCdfd3JhcHBlZE1peGluJyk7XG5cbi8vIHVzZWQgYnkgYXBwbHlNaXhpbigpIGFuZCBpc0FwcGxpY2F0aW9uT2YoKVxuY29uc3QgYXBwbGllZE1peGluS2V5ID0gdW5pcXVlSWQoJ19hcHBsaWVkTWl4aW4nKTtcblxuLy8gdXNlZCBieSBjYWNoZSBtaXhpbiBkZWNvcmF0b3JcbmNvbnN0IGNhY2hlZEFwcGxpY2F0aW9uS2V5ID0gdW5pcXVlSWQoJ19jYWNoZWRBcHBsaWNhdGlvbicpO1xuXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNaXhpbiA9IChtaXhpbikgPT4gZGVkdXBlTWl4aW4oY2FjaGVNaXhpbihkZWNsYXJlTWl4aW4obWl4aW4pKSk7XG5cbmV4cG9ydCBkZWZhdWx0IChDdG9yID0gY2xhc3Mge30pID0+XG4gIGZyZWV6ZSh7XG4gICAgd2l0aCguLi5taXhpbnMpIHtcbiAgICAgIHJldHVybiBtaXhpbnMubWFwKChtaXhpbikgPT4gY3JlYXRlTWl4aW4obWl4aW4pKS5yZWR1Y2UoKGssIG0pID0+IG0oayksIEN0b3IpO1xuICAgIH1cbiAgfSk7XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgZnVuY3Rpb24gYG1peGluYCB0byBiZSB3cmFwcGVkIGJ5IHRoZSBmdW5jdGlvbiBgd3JhcHBlcmAsIHdoaWxlXG4gKiBhbGxvd2luZyBwcm9wZXJ0aWVzIG9uIGBtaXhpbmAgdG8gYmUgYXZhaWxhYmxlIHZpYSBgd3JhcHBlcmAsIGFuZCBhbGxvd2luZ1xuICogYHdyYXBwZXJgIHRvIGJlIHVud3JhcHBlZCB0byBnZXQgdG8gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICpcbiAqIGB3cmFwYCBkb2VzIHR3byB0aGluZ3M6XG4gKiAgIDEuIFNldHMgdGhlIHByb3RvdHlwZSBvZiBgbWl4aW5gIHRvIGB3cmFwcGVyYCBzbyB0aGF0IHByb3BlcnRpZXMgc2V0IG9uXG4gKiAgICAgIGBtaXhpbmAgaW5oZXJpdGVkIGJ5IGB3cmFwcGVyYC5cbiAqICAgMi4gU2V0cyBhIHNwZWNpYWwgcHJvcGVydHkgb24gYG1peGluYCB0aGF0IHBvaW50cyBiYWNrIHRvIGBtaXhpbmAgc28gdGhhdFxuICogICAgICBpdCBjYW4gYmUgcmV0cmVpdmVkIGZyb20gYHdyYXBwZXJgXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIEEgZnVuY3Rpb24gdGhhdCB3cmFwcyB7QGxpbmsgbWl4aW59XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYHdyYXBwZXJgXG4gKi9cbmZ1bmN0aW9uIHdyYXAobWl4aW4sIHdyYXBwZXIpIHtcbiAgc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgbWl4aW4pO1xuICBpZiAoIW1peGluW3dyYXBwZWRNaXhpbktleV0pIHtcbiAgICBtaXhpblt3cmFwcGVkTWl4aW5LZXldID0gbWl4aW47XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogVW53cmFwcyB0aGUgZnVuY3Rpb24gYHdyYXBwZXJgIHRvIHJldHVybiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd3JhcHBlZCBieVxuICogb25lIG9yIG1vcmUgY2FsbHMgdG8gYHdyYXBgLiBSZXR1cm5zIGB3cmFwcGVyYCBpZiBpdCdzIG5vdCBhIHdyYXBwZWRcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBBIHdyYXBwZWQgbWl4aW4gcHJvZHVjZWQgYnkge0BsaW5rIHdyYXB9XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIG9yaWdpbmFsbHkgd3JhcHBlZCBtaXhpblxuICovXG5mdW5jdGlvbiB1bndyYXAod3JhcHBlcikge1xuICByZXR1cm4gd3JhcHBlclt3cmFwcGVkTWl4aW5LZXldIHx8IHdyYXBwZXI7XG59XG5cbi8qKlxuICogQXBwbGllcyBgbWl4aW5gIHRvIGBzdXBlcmNsYXNzYC5cbiAqXG4gKiBgYXBwbHlgIHN0b3JlcyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBtaXhpbiBhcHBsaWNhdGlvbiB0byB0aGUgdW53cmFwcGVkIG1peGluXG4gKiB0byBtYWtlIGBpc0FwcGxpY2F0aW9uT2ZgIGFuZCBgaGFzTWl4aW5gIHdvcmsuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWxsIGZvciBtaXhpbiB3cmFwcGVycyB0aGF0IHdhbnQgdG8gYXV0b21hdGljYWxseSBlbmFibGVcbiAqIHtAbGluayBoYXNNaXhpbn0gc3VwcG9ydC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cGVyQ2xhc3MgQSBjbGFzcyBvciBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW4gVGhlIG1peGluIHRvIGFwcGx5XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBzdWJjbGFzcyBvZiBgc3VwZXJjbGFzc2AgcHJvZHVjZWQgYnkgYG1peGluYFxuICovXG5mdW5jdGlvbiBhcHBseU1peGluKHN1cGVyQ2xhc3MsIG1peGluKSB7XG4gIGxldCBhcHBsaWNhdGlvbiA9IG1peGluKHN1cGVyQ2xhc3MpO1xuICBjb25zdCBwcm90byA9IGFwcGxpY2F0aW9uLnByb3RvdHlwZTtcbiAgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9IHVud3JhcChtaXhpbik7XG4gIHJldHVybiBhcHBsaWNhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYHByb3RvYCBpcyBhIHByb3RvdHlwZSBjcmVhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbiBvZlxuICogYG1peGluYCB0byBhIHN1cGVyY2xhc3MuXG4gKlxuICogYGlzQXBwbGljYXRpb25PZmAgd29ya3MgYnkgY2hlY2tpbmcgdGhhdCBgcHJvdG9gIGhhcyBhIHJlZmVyZW5jZSB0byBgbWl4aW5gXG4gKiBhcyBjcmVhdGVkIGJ5IGBhcHBseWAuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gQSBwcm90b3R5cGUgb2JqZWN0IGNyZWF0ZWQgYnkge0BsaW5rIGFwcGx5fS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIEEgbWl4aW4gZnVuY3Rpb24gdXNlZCB3aXRoIHtAbGluayBhcHBseX0uXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBwcm90b2AgaXMgYSBwcm90b3R5cGUgY3JlYXRlZCBieSB0aGUgYXBwbGljYXRpb24gb2ZcbiAqIGBtaXhpbmAgdG8gYSBzdXBlcmNsYXNzXG4gKi9cbmZ1bmN0aW9uIGlzQXBwbGljYXRpb25PZihwcm90bywgbWl4aW4pIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIGFwcGxpZWRNaXhpbktleSkgJiYgcHJvdG9bYXBwbGllZE1peGluS2V5XSA9PT0gdW53cmFwKG1peGluKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZmYgYG9gIGhhcyBhbiBhcHBsaWNhdGlvbiBvZiBgbWl4aW5gIG9uIGl0cyBwcm90b3R5cGVcbiAqIGNoYWluLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG8gQW4gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBBIG1peGluIGFwcGxpZWQgd2l0aCB7QGxpbmsgYXBwbHl9XG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIGBvYCBoYXMgYW4gYXBwbGljYXRpb24gb2YgYG1peGluYCBvbiBpdHMgcHJvdG90eXBlXG4gKiBjaGFpblxuICovXG5mdW5jdGlvbiBoYXNNaXhpbihvLCBtaXhpbikge1xuICB3aGlsZSAobyAhPT0gbnVsbCkge1xuICAgIGlmIChpc0FwcGxpY2F0aW9uT2YobywgbWl4aW4pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbyA9IGdldFByb3RvdHlwZU9mKG8pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIGJhc2ljIG1peGluIGRlY29yYXRvciB0aGF0IGFwcGxpZXMgdGhlIG1peGluIHdpdGgge0BsaW5rIGFwcGx5TWl4aW59IHNvIHRoYXQgaXRcbiAqIGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIGlzQXBwbGljYXRpb25PZn0sIHtAbGluayBoYXNNaXhpbn0gYW5kIHRoZSBvdGhlclxuICogbWl4aW4gZGVjb3JhdG9yIGZ1bmN0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiB0byB3cmFwXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYSBuZXcgbWl4aW4gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVjbGFyZU1peGluKG1peGluKSB7XG4gIHJldHVybiB3cmFwKG1peGluLCAoc3VwZXJDbGFzcykgPT4gYXBwbHlNaXhpbihzdXBlckNsYXNzLCBtaXhpbikpO1xufVxuXG4vKipcbiAqIERlY29yYXRlcyBgbWl4aW5gIHNvIHRoYXQgaXQgb25seSBhcHBsaWVzIGlmIGl0J3Mgbm90IGFscmVhZHkgb24gdGhlXG4gKiBwcm90b3R5cGUgY2hhaW4uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gdG8gd3JhcCB3aXRoIGRlZHVwbGljYXRpb24gYmVoYXZpb3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIG5ldyBtaXhpbiBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWR1cGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChcbiAgICBtaXhpbixcbiAgICAoc3VwZXJDbGFzcykgPT4gKGhhc01peGluKHN1cGVyQ2xhc3MucHJvdG90eXBlLCBtaXhpbikgPyBzdXBlckNsYXNzIDogbWl4aW4oc3VwZXJDbGFzcykpXG4gICk7XG59XG5cbi8qKlxuICogRGVjb3JhdGUgdGhlIGdpdmVuIG1peGluIGNsYXNzIHdpdGggYSBcImNhY2hlZCBkZWNvcmF0b3JcIi5cbiAqXG4gKiBNZXRob2Qgd2lsbCBlbnN1cmUgdGhhdCBpZiB0aGUgZ2l2ZW4gbWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkLFxuICogdGhlbiBpdCB3aWxsIGJlIHJldHVybmVkIC8gYXBwbGllZCBhIHNpbmdsZSB0aW1lLCByYXRoZXIgdGhhbiBtdWx0aXBsZVxuICogdGltZXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWl4aW5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2FjaGVNaXhpbihtaXhpbikge1xuICByZXR1cm4gd3JhcChtaXhpbiwgKHN1cGVyQ2xhc3MpID0+IHtcbiAgICBsZXQgY2FjaGVkQXBwbGljYXRpb24gPSBzdXBlckNsYXNzW2NhY2hlZEFwcGxpY2F0aW9uS2V5XTtcbiAgICBpZiAoIWNhY2hlZEFwcGxpY2F0aW9uKSB7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbiA9IHN1cGVyQ2xhc3NbY2FjaGVkQXBwbGljYXRpb25LZXldID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8vICRGbG93Rml4TWVcbiAgICBsZXQgYXBwbGljYXRpb24gPSBjYWNoZWRBcHBsaWNhdGlvbi5nZXQobWl4aW4pO1xuICAgIGlmICghYXBwbGljYXRpb24pIHtcbiAgICAgIGFwcGxpY2F0aW9uID0gbWl4aW4oc3VwZXJDbGFzcyk7XG4gICAgICBjYWNoZWRBcHBsaWNhdGlvbi5zZXQobWl4aW4sIGFwcGxpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICB9KTtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGNyZWF0b3IgPSBPYmplY3QuY3JlYXRlLmJpbmQobnVsbCwgbnVsbCwge30pKSA9PiB7XG4gIGxldCBzdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHJldHVybiAob2JqKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gc3RvcmUuZ2V0KG9iaik7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgc3RvcmUuc2V0KG9iaiwgKHZhbHVlID0gY3JlYXRvcihvYmopKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChhcnIsIGZuID0gQm9vbGVhbikgPT4gYXJyLnNvbWUoZm4pO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoYXJyLCBmbiA9IEJvb2xlYW4pID0+IGFyci5ldmVyeShmbik7XG4iLCIvKiAgKi9cbmltcG9ydCB7IGFsbCwgYW55IH0gZnJvbSAnLi9hcnJheS5qcyc7XG5cblxuXG5cbmNvbnN0IGRvQWxsQXBpID0gKGZuKSA9PiAoLi4ucGFyYW1zKSA9PiBhbGwocGFyYW1zLCBmbik7XG5jb25zdCBkb0FueUFwaSA9IChmbikgPT4gKC4uLnBhcmFtcykgPT4gYW55KHBhcmFtcywgZm4pO1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdHlwZXMgPSBbXG4gICdNYXAnLFxuICAnU2V0JyxcbiAgJ1N5bWJvbCcsXG4gICdBcnJheScsXG4gICdPYmplY3QnLFxuICAnU3RyaW5nJyxcbiAgJ0RhdGUnLFxuICAnUmVnRXhwJyxcbiAgJ0Z1bmN0aW9uJyxcbiAgJ0Jvb2xlYW4nLFxuICAnTnVtYmVyJyxcbiAgJ051bGwnLFxuICAnVW5kZWZpbmVkJyxcbiAgJ0FyZ3VtZW50cycsXG4gICdFcnJvcidcbl07XG5jb25zdCBsZW4gPSB0eXBlcy5sZW5ndGg7XG5jb25zdCB0eXBlQ2FjaGUgPSB7fTtcbmNvbnN0IHR5cGVSZWdleHAgPSAvXFxzKFthLXpBLVpdKykvO1xuXG5leHBvcnQgZGVmYXVsdCAoc2V0dXAoKSk7XG5cbmV4cG9ydCBjb25zdCBnZXRUeXBlID0gKHNyYykgPT4gZ2V0U3JjVHlwZShzcmMpO1xuXG5mdW5jdGlvbiBnZXRTcmNUeXBlKHNyYykge1xuICBsZXQgdHlwZSA9IHRvU3RyaW5nLmNhbGwoc3JjKTtcbiAgaWYgKCF0eXBlQ2FjaGVbdHlwZV0pIHtcbiAgICBsZXQgbWF0Y2hlcyA9IHR5cGUubWF0Y2godHlwZVJlZ2V4cCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0Y2hlcykgJiYgbWF0Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0eXBlQ2FjaGVbdHlwZV0gPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0eXBlQ2FjaGVbdHlwZV07XG59XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuICBsZXQgY2hlY2tzID0ge307XG4gIGZvciAobGV0IGkgPSBsZW47IGktLTsgKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVzW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgY2hlY2tzW3R5cGVdID0gc3JjID0+IGdldFNyY1R5cGUoc3JjKSA9PT0gdHlwZTtcbiAgICBjaGVja3NbdHlwZV0uYWxsID0gZG9BbGxBcGkoY2hlY2tzW3R5cGVdKTtcbiAgICBjaGVja3NbdHlwZV0uYW55ID0gZG9BbnlBcGkoY2hlY2tzW3R5cGVdKTtcbiAgfVxuICByZXR1cm4gY2hlY2tzO1xufVxuIiwiLyogICovXG5cblxuXG5jb25zdCBldmVudEh1YkZhY3RvcnkgPSAoKSA9PiB7XG4gIGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IE1hcCgpO1xuICBsZXQgc3Vic2NyaWJlckNvdW50ID0gMDtcblxuICAvLyRGbG93Rml4TWVcbiAgcmV0dXJuIHtcbiAgICBwdWJsaXNoOiBmdW5jdGlvbihldmVudCwgLi4uYXJncykge1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChzdWJzY3JpcHRpb25zID0+IHtcbiAgICAgICAgKHN1YnNjcmlwdGlvbnMuZ2V0KGV2ZW50KSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGNyZWF0ZVN1YnNjcmliZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGNvbnRleHQgPSBzdWJzY3JpYmVyQ291bnQrKztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9uOiBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZiAoIXN1YnNjcmliZXJzLmhhcyhjb250ZXh0KSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnMuc2V0KGNvbnRleHQsIG5ldyBNYXAoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBzdWJzY3JpYmVycy5nZXQoY29udGV4dCk7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0KGV2ZW50LCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXIuZ2V0KGV2ZW50KS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgb2ZmOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vJEZsb3dGaXhNZVxuICAgICAgICAgIHN1YnNjcmliZXJzLmdldChjb250ZXh0KS5kZWxldGUoZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRIdWJGYWN0b3J5O1xuIiwiLyogICovXG5sZXQgY3VyckhhbmRsZSA9IDA7XG5sZXQgbGFzdEhhbmRsZSA9IDA7XG5sZXQgY2FsbGJhY2tzID0gW107XG5sZXQgbm9kZUNvbnRlbnQgPSAwO1xubGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5uZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbi8qKlxuICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgIHRpbWluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBydW5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gKi9cbmV4cG9ydCBjb25zdCBydW4gPSAoY2FsbGJhY2spID0+IHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IFN0cmluZyhub2RlQ29udGVudCsrKTtcbiAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICByZXR1cm4gY3VyckhhbmRsZSsrO1xufTtcblxuLyoqXG4gKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgYCBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICovXG5leHBvcnQgY29uc3QgY2FuY2VsID0gKGhhbmRsZSkgPT4ge1xuICBjb25zdCBpZHggPSBoYW5kbGUgLSBsYXN0SGFuZGxlO1xuICBpZiAoaWR4ID49IDApIHtcbiAgICBpZiAoIWNhbGxiYWNrc1tpZHhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYXN5bmMgaGFuZGxlOiAnICsgaGFuZGxlKTtcbiAgICB9XG4gICAgY2FsbGJhY2tzW2lkeF0gPSBudWxsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgY29uc3QgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYigpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrcy5zcGxpY2UoMCwgbGVuKTtcbiAgbGFzdEhhbmRsZSArPSBsZW47XG59XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0ICh0ZW1wbGF0ZSkgPT4ge1xuICBpZiAoJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcbiAgfVxuXG4gIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgbGV0IGNoaWxkcmVuID0gdGVtcGxhdGUuY2hpbGROb2RlcztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNoaWxkcmVuW2ldLmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50O1xufTtcbiIsIi8qICAqL1xuXG5leHBvcnQgZGVmYXVsdCAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSA9IGZhbHNlKSA9PiB7XG4gIHJldHVybiBwYXJzZSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbn07XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSA9ICgpID0+IHt9O1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIGV2ZW50IGVtaXR0ZXInKTtcbn1cblxuZnVuY3Rpb24gcGFyc2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICBpZiAodHlwZS5pbmRleE9mKCcsJykgPiAtMSkge1xuICAgIGxldCBldmVudHMgPSB0eXBlLnNwbGl0KC9cXHMqLFxccyovKTtcbiAgICBsZXQgaGFuZGxlcyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIGFkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlID0gKCkgPT4ge307XG4gICAgICAgIGxldCBoYW5kbGU7XG4gICAgICAgIHdoaWxlICgoaGFuZGxlID0gaGFuZGxlcy5wb3AoKSkpIHtcbiAgICAgICAgICBoYW5kbGUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbn1cbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKFxuICBvYmosXG4gIGtleSxcbiAgZGVmYXVsdFZhbHVlID0gdW5kZWZpbmVkXG4pID0+IHtcbiAgaWYgKGtleS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIG9ialtrZXldID8gb2JqW2tleV0gOiBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgbGVuZ3RoID0gcGFydHMubGVuZ3RoO1xuICBsZXQgb2JqZWN0ID0gb2JqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5LmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnLicpO1xuICBjb25zdCBkZXB0aCA9IHBhcnRzLmxlbmd0aCAtIDE7XG4gIGxldCBvYmplY3QgPSBvYmo7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXB0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RbcGFydHNbaV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqZWN0W3BhcnRzW2ldXSA9IHt9O1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3RbcGFydHNbaV1dO1xuICB9XG4gIG9iamVjdFtwYXJ0c1tkZXB0aF1dID0gdmFsdWU7XG59O1xuIiwiLyogICovXG5pbXBvcnQgdHlwZSwgeyBnZXRUeXBlIH0gZnJvbSAnLi4vdHlwZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IChzcmMpID0+IGNsb25lKHNyYywgW10sIFtdKTtcblxuZXhwb3J0IGNvbnN0IGpzb25DbG9uZSA9ICh2YWx1ZSwgcmV2aXZlciA9IChrLCB2KSA9PiB2KSA9PlxuICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSwgcmV2aXZlcik7XG5cbmZ1bmN0aW9uIGNsb25lKHNyYywgY2lyY3VsYXJzID0gW10sIGNsb25lcyA9IFtdKSB7XG4gIC8vIE51bGwvdW5kZWZpbmVkL2Z1bmN0aW9ucy9ldGNcbiAgaWYgKCFzcmMgfHwgIXR5cGUub2JqZWN0KHNyYykgfHwgdHlwZS5mdW5jdGlvbihzcmMpKSB7XG4gICAgcmV0dXJuIHNyYztcbiAgfVxuICBjb25zdCB0ID0gZ2V0VHlwZShzcmMpO1xuICBpZiAodCBpbiBjbG9uZVR5cGVzKSB7XG4gICAgcmV0dXJuIGNsb25lVHlwZXNbdF0uYXBwbHkoc3JjLCBbY2lyY3VsYXJzLCBjbG9uZXNdKTtcbiAgfVxuICByZXR1cm4gc3JjO1xufVxuXG5jb25zdCBjbG9uZVR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmdldFRpbWUoKSk7XG4gIH0sXG4gIHJlZ2V4cDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAodGhpcyk7XG4gIH0sXG4gIGFycmF5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoY2xvbmUpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgTWFwKEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpKTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKHRoaXMudmFsdWVzKCkpKTtcbiAgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbihjaXJjdWxhcnMgPSBbXSwgY2xvbmVzID0gW10pIHtcbiAgICBjaXJjdWxhcnMucHVzaCh0aGlzKTtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIGNsb25lcy5wdXNoKG9iaik7XG4gICAgZm9yIChsZXQga2V5IGluIHRoaXMpIHtcbiAgICAgIGxldCBpZHggPSBjaXJjdWxhcnMuZmluZEluZGV4KChpKSA9PiBpID09PSB0aGlzW2tleV0pO1xuICAgICAgb2JqW2tleV0gPSBpZHggPiAtMSA/IGNsb25lc1tpZHhdIDogY2xvbmUodGhpc1trZXldLCBjaXJjdWxhcnMsIGNsb25lcyk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cbn0pO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIHJldml2ZXIgPSAoaywgdikgPT4gdikgPT4gSlNPTi5wYXJzZShcblx0SlNPTi5zdHJpbmdpZnkodmFsdWUpLCByZXZpdmVyKTtcbiIsImltcG9ydCB7IGRnZXQsIGRzZXQsIGpzb25DbG9uZSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbmltcG9ydCBpcyBmcm9tICcuL3R5cGUuanMnO1xuaW1wb3J0IGNyZWF0ZVN0b3JhZ2UgZnJvbSAnLi9jcmVhdGUtc3RvcmFnZS5qcyc7XG5pbXBvcnQgdW5pcXVlSWQgZnJvbSAnLi91bmlxdWUtaWQuanMnO1xuXG5jb25zdCBtb2RlbCA9IChiYXNlQ2xhc3MgPSBjbGFzcyB7fSkgPT4ge1xuICBjb25zdCBwcml2YXRlcyA9IGNyZWF0ZVN0b3JhZ2UoKTtcbiAgbGV0IHN1YnNjcmliZXJDb3VudCA9IDA7XG5cbiAgcmV0dXJuIGNsYXNzIE1vZGVsIGV4dGVuZHMgYmFzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgIHRoaXMuX3N0YXRlS2V5ID0gdW5pcXVlSWQoJ19zdGF0ZScpO1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBuZXcgTWFwKCk7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBnZXQoYWNjZXNzb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTdGF0ZShhY2Nlc3Nvcik7XG4gICAgfVxuXG4gICAgc2V0KGFyZzEsIGFyZzIpIHtcbiAgICAgIC8vc3VwcG9ydHMgKGFjY2Vzc29yLCBzdGF0ZSkgT1IgKHN0YXRlKSBhcmd1bWVudHMgZm9yIHNldHRpbmcgdGhlIHdob2xlIHRoaW5nXG4gICAgICBsZXQgYWNjZXNzb3IsIHZhbHVlO1xuICAgICAgaWYgKCFpcy5zdHJpbmcoYXJnMSkgJiYgaXMudW5kZWZpbmVkKGFyZzIpKSB7XG4gICAgICAgIHZhbHVlID0gYXJnMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gYXJnMjtcbiAgICAgICAgYWNjZXNzb3IgPSBhcmcxO1xuICAgICAgfVxuICAgICAgbGV0IG9sZFN0YXRlID0gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICAgIGxldCBuZXdTdGF0ZSA9IGpzb25DbG9uZShvbGRTdGF0ZSk7XG5cbiAgICAgIGlmIChhY2Nlc3Nvcikge1xuICAgICAgICBkc2V0KG5ld1N0YXRlLCBhY2Nlc3NvciwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U3RhdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIHRoaXMuX25vdGlmeVN1YnNjcmliZXJzKGFjY2Vzc29yLCBuZXdTdGF0ZSwgb2xkU3RhdGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY3JlYXRlU3Vic2NyaWJlcigpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBzdWJzY3JpYmVyQ291bnQrKztcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb246IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBzZWxmLl9zdWJzY3JpYmUoY29udGV4dCwgLi4uYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8vVE9ETzogaXMgb2ZmKCkgbmVlZGVkIGZvciBpbmRpdmlkdWFsIHN1YnNjcmlwdGlvbj9cbiAgICAgICAgZGVzdHJveTogdGhpcy5fZGVzdHJveVN1YnNjcmliZXIuYmluZCh0aGlzLCBjb250ZXh0KVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVQcm9wZXJ0eUJpbmRlcihjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVQcm9wZXJ0eUJpbmRlcihjb250ZXh0KSAtIGNvbnRleHQgbXVzdCBiZSBvYmplY3QnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWRkQmluZGluZ3M6IGZ1bmN0aW9uKGJpbmRSdWxlcykge1xuICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShiaW5kUnVsZXNbMF0pKSB7XG4gICAgICAgICAgICBiaW5kUnVsZXMgPSBbYmluZFJ1bGVzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmluZFJ1bGVzLmZvckVhY2goYmluZFJ1bGUgPT4ge1xuICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlKGNvbnRleHQsIGJpbmRSdWxlWzBdLCB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgIGRzZXQoY29udGV4dCwgYmluZFJ1bGVbMV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiB0aGlzLl9kZXN0cm95U3Vic2NyaWJlci5iaW5kKHRoaXMsIGNvbnRleHQpXG4gICAgICB9O1xuICAgIH1cblxuICAgIF9nZXRTdGF0ZShhY2Nlc3Nvcikge1xuICAgICAgcmV0dXJuIGpzb25DbG9uZShhY2Nlc3NvciA/IGRnZXQocHJpdmF0ZXNbdGhpcy5fc3RhdGVLZXldLCBhY2Nlc3NvcikgOiBwcml2YXRlc1t0aGlzLl9zdGF0ZUtleV0pO1xuICAgIH1cblxuICAgIF9zZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgcHJpdmF0ZXNbdGhpcy5fc3RhdGVLZXldID0gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgX3N1YnNjcmliZShjb250ZXh0LCBhY2Nlc3NvciwgY2IpIHtcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpYmVycy5nZXQoY29udGV4dCkgfHwgW107XG4gICAgICBzdWJzY3JpcHRpb25zLnB1c2goeyBhY2Nlc3NvciwgY2IgfSk7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycy5zZXQoY29udGV4dCwgc3Vic2NyaXB0aW9ucyk7XG4gICAgfVxuXG4gICAgX2Rlc3Ryb3lTdWJzY3JpYmVyKGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmRlbGV0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBfbm90aWZ5U3Vic2NyaWJlcnMoc2V0QWNjZXNzb3IsIG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbihzdWJzY3JpYmVycykge1xuICAgICAgICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHsgYWNjZXNzb3IsIGNiIH0pIHtcbiAgICAgICAgICAvL2UuZy4gIHNhPSdmb28uYmFyLmJheicsIGE9J2Zvby5iYXIuYmF6J1xuICAgICAgICAgIC8vZS5nLiAgc2E9J2Zvby5iYXIuYmF6JywgYT0nZm9vLmJhci5iYXouYmxheidcbiAgICAgICAgICBpZiAoYWNjZXNzb3IuaW5kZXhPZihzZXRBY2Nlc3NvcikgPT09IDApIHtcbiAgICAgICAgICAgIGNiKGRnZXQobmV3U3RhdGUsIGFjY2Vzc29yKSwgZGdldChvbGRTdGF0ZSwgYWNjZXNzb3IpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9lLmcuIHNhPSdmb28uYmFyLmJheicsIGE9J2Zvby4qJ1xuICAgICAgICAgIGlmIChhY2Nlc3Nvci5pbmRleE9mKCcqJykgPiAtMSkge1xuICAgICAgICAgICAgY29uc3QgZGVlcEFjY2Vzc29yID0gYWNjZXNzb3IucmVwbGFjZSgnLionLCAnJykucmVwbGFjZSgnKicsICcnKTtcbiAgICAgICAgICAgIGlmIChzZXRBY2Nlc3Nvci5pbmRleE9mKGRlZXBBY2Nlc3NvcikgPT09IDApIHtcbiAgICAgICAgICAgICAgY2IoZGdldChuZXdTdGF0ZSwgZGVlcEFjY2Vzc29yKSwgZGdldChvbGRTdGF0ZSwgZGVlcEFjY2Vzc29yKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IG1vZGVsO1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAocGFzc1Rocm91Z2gpID0+IHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHJlc29sdmUocGFzc1Rocm91Z2gpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFzc1Rocm91Z2gpO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IHRlbXBsYXRlQ29udGVudCBmcm9tICcuL3RlbXBsYXRlLWNvbnRlbnQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoaHRtbCkgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWwudHJpbSgpO1xuICBjb25zdCBmcmFnID0gdGVtcGxhdGVDb250ZW50KHRlbXBsYXRlKTtcbiAgaWYgKGZyYWcgJiYgZnJhZy5maXJzdENoaWxkKSB7XG4gICAgcmV0dXJuIGZyYWcuZmlyc3RDaGlsZDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGVFbGVtZW50IGZvciAke2h0bWx9YCk7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAobm9kZSkgPT4ge1xuICBsZXQgc2libGluZ3MgPSBbXTtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGxldCBzaWJsaW5nID0gbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG4gICAgZG8ge1xuICAgICAgaWYgKHNpYmxpbmcubm9kZVR5cGUgPT09IDEgJiYgc2libGluZyAhPT0gbm9kZSkge1xuICAgICAgICBzaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKFxuICAgICAgc2libGluZy5uZXh0U2libGluZyAmJlxuICAgICAgc2libGluZy5uZXh0U2libGluZyAhPT0gbnVsbCAmJlxuICAgICAgKHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nKVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc2libGluZ3M7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoZWxlbWVudCkgPT4ge1xuICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoY2hpbGQsIHBhcmVudCkgPT4ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB3aGlsZSAoY2hpbGQucGFyZW50Tm9kZSAmJiAoY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlKSAmJiBjaGlsZCAhPT0gcGFyZW50KSB7fVxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICByZXR1cm4gQm9vbGVhbihjaGlsZCk7XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAoZWxlbWVudCwgbm9kZVR5cGUgPSBOb2RlLkVMRU1FTlRfTk9ERSkgPT4ge1xuICBsZXQgY2hpbGROb2RlcyA9IGVsZW1lbnQuY2hpbGROb2RlcztcbiAgbGV0IGNoaWxkcmVuID0gW107XG4gIGlmIChjaGlsZE5vZGVzICYmIGNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgIGxldCBpID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IG5vZGVUeXBlKSB7XG4gICAgICAgIGNoaWxkcmVuLnVuc2hpZnQoY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG4iLCIvKiAgKi9cbmltcG9ydCBsaXN0ZW5FdmVudCwgeyB9IGZyb20gJy4vbGlzdGVuLWV2ZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUgPSBmYWxzZSkgPT4ge1xuICBsZXQgaGFuZGxlID0gbGlzdGVuRXZlbnQoXG4gICAgdGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGhhbmRsZS5yZW1vdmUoKTtcbiAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgY2FwdHVyZVxuICApO1xuICByZXR1cm4gaGFuZGxlO1xufTtcbiIsIi8qICAqL1xuaW1wb3J0IGxpc3RlbkV2ZW50LCB7IH0gZnJvbSAnLi9saXN0ZW4tZXZlbnQuanMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IChcbiAgdGFyZ2V0LFxuICB0eXBlLFxuICBsaXN0ZW5lcixcbiAgY2FwdHVyZSA9IGZhbHNlXG4pID0+IHtcbiAgbGV0IHBhdXNlZCA9IGZhbHNlO1xuICBsZXQgaGFuZGxlID0gbGlzdGVuRXZlbnQoXG4gICAgdGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGlmICghcGF1c2VkKSB7XG4gICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FwdHVyZVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlKCkge1xuICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgIH0sXG4gICAgcGF1c2UoKSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lKCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgYmVoYXZpb3VyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgYXJncy51bnNoaWZ0KG1ldGhvZCk7XG4gICAgICAgICAgYmVoYXZpb3VyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrbGFzcztcbiAgfTtcbn07XG4iLCIvKiAgKi9cbmV4cG9ydCBkZWZhdWx0IChiZWhhdmlvdXIsIC4uLm1ldGhvZE5hbWVzKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbihrbGFzcykge1xuICAgIGNvbnN0IHByb3RvID0ga2xhc3MucHJvdG90eXBlO1xuICAgIGNvbnN0IGxlbiA9IG1ldGhvZE5hbWVzLmxlbmd0aDtcbiAgICBjb25zdCB7IGRlZmluZVByb3BlcnR5IH0gPSBPYmplY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWVzW2ldO1xuICAgICAgY29uc3QgbWV0aG9kID0gcHJvdG9bbWV0aG9kTmFtZV07XG4gICAgICBkZWZpbmVQcm9wZXJ0eShwcm90bywgbWV0aG9kTmFtZSwge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIGJlaGF2aW91ci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9O1xufTtcbiIsIi8qICAqL1xuZXhwb3J0IGRlZmF1bHQgKGJlaGF2aW91ciwgLi4ubWV0aG9kTmFtZXMpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgY29uc3QgcHJvdG8gPSBrbGFzcy5wcm90b3R5cGU7XG4gICAgY29uc3QgbGVuID0gbWV0aG9kTmFtZXMubGVuZ3RoO1xuICAgIGNvbnN0IHsgZGVmaW5lUHJvcGVydHkgfSA9IE9iamVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kTmFtZXNbaV07XG4gICAgICBjb25zdCBtZXRob2QgPSBwcm90b1ttZXRob2ROYW1lXTtcbiAgICAgIGRlZmluZVByb3BlcnR5KHByb3RvLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBiZWhhdmlvdXIuY2FsbCh0aGlzLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH07XG59O1xuIiwiLyogICovXG5leHBvcnQgZGVmYXVsdCAobykgPT5cbiAgT2JqZWN0LmtleXMobykucmVkdWNlKFxuICAgIChtLCBrKSA9PiBtLnNldChrLCBvW2tdKSxcbiAgICBuZXcgTWFwKClcbiAgKTtcbiJdLCJuYW1lcyI6WyJwcmV2VGltZUlkIiwicHJldlVuaXF1ZUlkIiwicHJlZml4IiwibmV3VW5pcXVlSWQiLCJEYXRlIiwibm93IiwidW5pcXVlSWQiLCJTdHJpbmciLCJmcmVlemUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiaGFzT3duUHJvcGVydHkiLCJ3cmFwcGVkTWl4aW5LZXkiLCJhcHBsaWVkTWl4aW5LZXkiLCJjYWNoZWRBcHBsaWNhdGlvbktleSIsImNyZWF0ZU1peGluIiwibWl4aW4iLCJ3cmFwIiwic3VwZXJDbGFzcyIsIm8iLCJpc0FwcGxpY2F0aW9uT2YiLCJoYXNNaXhpbiIsInByb3RvdHlwZSIsImRlZHVwZU1peGluIiwiY2FjaGVkQXBwbGljYXRpb24iLCJNYXAiLCJhcHBsaWNhdGlvbiIsImdldCIsInNldCIsImNhY2hlTWl4aW4iLCJ1bndyYXAiLCJhcHBseU1peGluIiwiZGVjbGFyZU1peGluIiwid3JhcHBlciIsInByb3RvIiwiY2FsbCIsImNyZWF0b3IiLCJjcmVhdGUiLCJiaW5kIiwic3RvcmUiLCJXZWFrTWFwIiwib2JqIiwidmFsdWUiLCJhcnIiLCJmbiIsIkJvb2xlYW4iLCJzb21lIiwiZXZlcnkiLCJkb0FsbEFwaSIsInBhcmFtcyIsImFsbCIsImRvQW55QXBpIiwiYW55IiwidG9TdHJpbmciLCJ0eXBlcyIsImxlbiIsImxlbmd0aCIsInR5cGVDYWNoZSIsInR5cGVSZWdleHAiLCJjaGVja3MiLCJpIiwidHlwZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3JjVHlwZSIsInNyYyIsInNldHVwIiwiZ2V0VHlwZSIsIm1hdGNoZXMiLCJtYXRjaCIsIkFycmF5IiwiaXNBcnJheSIsImN1cnJIYW5kbGUiLCJsYXN0SGFuZGxlIiwiY2FsbGJhY2tzIiwibm9kZUNvbnRlbnQiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYiIsImVyciIsInNwbGljZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiY2FsbGJhY2siLCJ0ZXh0Q29udGVudCIsInB1c2giLCJoYW5kbGUiLCJpZHgiLCJFcnJvciIsInRlbXBsYXRlIiwiY3JlYXRlRWxlbWVudCIsImltcG9ydE5vZGUiLCJjb250ZW50IiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJpbmRleE9mIiwiZXZlbnRzIiwic3BsaXQiLCJoYW5kbGVzIiwibWFwIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmUiLCJwb3AiLCJwYXJzZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiZGVmYXVsdFZhbHVlIiwidW5kZWZpbmVkIiwicGFydHMiLCJvYmplY3QiLCJkZXB0aCIsImNsb25lIiwiY2lyY3VsYXJzIiwiY2xvbmVzIiwiZnVuY3Rpb24iLCJ0IiwiY2xvbmVUeXBlcyIsImFwcGx5IiwidGhpcyIsImdldFRpbWUiLCJSZWdFeHAiLCJmcm9tIiwiZW50cmllcyIsIlNldCIsInZhbHVlcyIsImZpbmRJbmRleCIsIl90aGlzIiwicmV2aXZlciIsImsiLCJ2IiwiSlNPTiIsInN0cmluZ2lmeSIsIkN0b3IiLCJtaXhpbnMiLCJyZWR1Y2UiLCJtIiwic3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVyQ291bnQiLCJldmVudCIsImFyZ3MiLCJmb3JFYWNoIiwic3Vic2NyaXB0aW9ucyIsImNvbnRleHQiLCJoYXMiLCJzdWJzY3JpYmVyIiwiZGVsZXRlIiwiYmFzZUNsYXNzIiwicHJpdmF0ZXMiLCJjcmVhdGVTdG9yYWdlIiwiX2Jhc2VDbGFzcyIsIl9zdGF0ZUtleSIsIl9zdWJzY3JpYmVycyIsIl9zZXRTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsImFjY2Vzc29yIiwiX2dldFN0YXRlIiwiYXJnMSIsImFyZzIiLCJpcyIsInN0cmluZyIsIm9sZFN0YXRlIiwibmV3U3RhdGUiLCJqc29uQ2xvbmUiLCJfbm90aWZ5U3Vic2NyaWJlcnMiLCJjcmVhdGVTdWJzY3JpYmVyIiwic2VsZiIsIl9zdWJzY3JpYmUiLCJfZGVzdHJveVN1YnNjcmliZXIiLCJjcmVhdGVQcm9wZXJ0eUJpbmRlciIsImJpbmRSdWxlcyIsImJpbmRSdWxlIiwiZGdldCIsInNldEFjY2Vzc29yIiwiZGVlcEFjY2Vzc29yIiwicmVwbGFjZSIsInBhc3NUaHJvdWdoIiwicmVhZHlTdGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaHRtbCIsImlubmVySFRNTCIsInRyaW0iLCJmcmFnIiwidGVtcGxhdGVDb250ZW50IiwiZmlyc3RDaGlsZCIsInNpYmxpbmdzIiwicGFyZW50Tm9kZSIsInNpYmxpbmciLCJub2RlVHlwZSIsIm5leHRTaWJsaW5nIiwiZWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImNoaWxkIiwicGFyZW50IiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsInVuc2hpZnQiLCJsaXN0ZW5FdmVudCIsInBhdXNlZCIsImJlaGF2aW91ciIsIm1ldGhvZE5hbWVzIiwia2xhc3MiLCJkZWZpbmVQcm9wZXJ0eSIsIm1ldGhvZE5hbWUiLCJtZXRob2QiLCJyZXR1cm5WYWx1ZSIsImtleXMiXSwibWFwcGluZ3MiOiJxTUFFQSxJQUFJQSxFQUFhLEVBQ2JDLEVBQWUsYUFFSEMsT0FDVkMsRUFBY0MsS0FBS0MsTUFDbkJGLElBQWdCSCxJQUNoQkMsS0FFV0UsSUFDRSxPQUdiRyxLQUFjQyxPQUFPSixHQUFlSSxPQUFPTixVQUMzQ0MsTUFDWUEsTUFBVUksR0FFbkJBLDJmQ2ZERSxFQUEyREMsT0FBM0RELE9BQVFFLEVBQW1ERCxPQUFuREMsZUFBZ0JDLEVBQW1DRixPQUFuQ0UsZUFBZ0JDLEVBQW1CSCxPQUFuQkcsZUFHMUNDLEVBQWtCUCxFQUFTLGlCQUczQlEsRUFBa0JSLEVBQVMsaUJBRzNCUyxFQUF1QlQsRUFBUyxzQkFHekJVLEVBQWMsU0FBQ0MsVUE2SDVCLFNBQXFCQSxVQUNaQyxFQUNMRCxFQUNBLFNBQUNFLFVBbENMLFNBQWtCQyxFQUFHSCxRQUNOLE9BQU5HLEdBQVksSUFDYkMsRUFBZ0JELEVBQUdILFVBQ2QsSUFFTE4sRUFBZVMsVUFFZCxFQTJCWUUsQ0FBU0gsRUFBV0ksVUFBV04sR0FBU0UsRUFBYUYsRUFBTUUsS0FoSTFDSyxDQStJdEMsU0FBb0JQLFVBQ1hDLEVBQUtELEVBQU8sU0FBQ0UsT0FDZE0sRUFBb0JOLEVBQVdKLEdBQzlCVSxNQUNpQk4sRUFBV0osR0FBd0IsSUFBSVcsU0FJekRDLEVBQWNGLEVBQWtCRyxJQUFJWCxVQUNuQ1UsTUFDV1YsRUFBTUUsS0FDRlUsSUFBSVosRUFBT1UsSUFFeEJBLElBNUp1Q0csQ0FpSGxELFNBQXNCYixVQUNiQyxFQUFLRCxFQUFPLFNBQUNFLFVBdER0QixTQUFvQkEsRUFBWUYsT0FDMUJVLEVBQWNWLEVBQU1FLFVBQ1ZRLEVBQVlKLFVBQ3BCVCxHQUFtQmlCLEVBQU9kLEdBQ3pCVSxFQWtENEJLLENBQVdiLEVBQVlGLEtBbEhDZ0IsQ0FBYWhCLE1BeUIxRSxTQUFTQyxFQUFLRCxFQUFPaUIsWUFDSkEsRUFBU2pCLEdBQ25CQSxFQUFNSixPQUNIQSxHQUFtQkksR0FFcEJpQixFQVlULFNBQVNILEVBQU9HLFVBQ1BBLEVBQVFyQixJQUFvQnFCLEVBcUNyQyxTQUFTYixFQUFnQmMsRUFBT2xCLFVBQ3ZCTCxFQUFld0IsS0FBS0QsRUFBT3JCLElBQW9CcUIsRUFBTXJCLEtBQXFCaUIsRUFBT2Qsd0JDL0YxRW9CLHlEQUFVNUIsT0FBTzZCLE9BQU9DLEtBQUssS0FBTSxTQUM3Q0MsRUFBUSxJQUFJQyxlQUNULFNBQUNDLE9BQ0ZDLEVBQVFILEVBQU1aLElBQUljLFVBQ2pCQyxLQUNHZCxJQUFJYSxFQUFNQyxFQUFRTixFQUFRSyxJQUUzQkMsZUNQS0MsT0FBS0MseURBQUtDLGVBQVlGLEVBQUlHLEtBQUtGLGVDQS9CRCxPQUFLQyx5REFBS0MsZUFBWUYsRUFBSUksTUFBTUgsSUNLMUNJLEVBQVcsU0FBQ0osVUFBTyxzQ0FBSUssZ0RBQVdDLEVBQUlELEVBQVFMLEtBQzlDTyxFQUFXLFNBQUNQLFVBQU8sc0NBQUlLLGdEQUFXRyxFQUFJSCxFQUFRTCxLQUM5Q1MsRUFBVzdDLE9BQU9jLFVBQVUrQixTQUM1QkMsR0FDSixNQUNBLE1BQ0EsU0FDQSxRQUNBLFNBQ0EsU0FDQSxPQUNBLFNBQ0EsV0FDQSxVQUNBLFNBQ0EsT0FDQSxZQUNBLFlBQ0EsU0FFSUMsRUFBTUQsRUFBTUUsT0FDWkMsS0FDQUMsRUFBYSxrQkFpQm5CLG1CQUNNQyxnQkFDS0MsT0FDREMsRUFBT1AsRUFBTU0sR0FBR0UsZ0JBQ2ZELEdBQVEsbUJBQU9FLEVBQVdDLEtBQVNILEtBQ25DQSxHQUFNWCxJQUFNRixFQUFTVyxFQUFPRSxNQUM1QkEsR0FBTVQsSUFBTUQsRUFBU1EsRUFBT0UsS0FKNUJELEVBQUlMLEVBQUtLLE9BQVRBLFVBTUZELEVBdkJPTSxHQUVIQyxFQUFVLFNBQUNGLFVBQVFELEVBQVdDLElBRTNDLFNBQVNELEVBQVdDLE9BQ2RILEVBQU9SLEVBQVNsQixLQUFLNkIsT0FDcEJQLEVBQVVJLEdBQU8sS0FDaEJNLEVBQVVOLEVBQUtPLE1BQU1WLEdBQ3JCVyxNQUFNQyxRQUFRSCxJQUFZQSxFQUFRWCxPQUFTLE1BQ25DSyxHQUFRTSxFQUFRLEdBQUdMLHNCQUcxQkwsRUFBVUksR0N0Q25CLElDSElVLEVBQWEsRUFDYkMsRUFBYSxFQUNiQyxLQUNBQyxFQUFjLEVBQ2RDLEVBQU9DLFNBQVNDLGVBQWUsSUFDbkMsSUFBSUMsaUJBNkJKLG1CQUNRdkIsRUFBTWtCLEVBQVVqQixPQUNiSSxFQUFJLEVBQUdBLEVBQUlMLEVBQUtLLElBQUssS0FDeEJtQixFQUFLTixFQUFVYixNQUNmbUIsR0FBb0IsbUJBQVBBLFVBR2IsTUFBT0MsY0FDSSxpQkFDSEEsT0FLSkMsT0FBTyxFQUFHMUIsTUFDTkEsSUE1Q1kyQixRQUFRUCxHQUFRUSxlQUFlLDZCQVF4QyxTQUFDQyxZQUNiQyxZQUFjL0UsT0FBT29FLE9BQ2hCWSxLQUFLRixHQUNSYixZQVFhLFNBQUNnQixPQUNmQyxFQUFNRCxFQUFTZixLQUNqQmdCLEdBQU8sRUFBRyxLQUNQZixFQUFVZSxTQUNQLElBQUlDLE1BQU0seUJBQTJCRixLQUVuQ0MsR0FBTyxvQkM5QkxFLE1BQ1YsWUFBYWQsU0FBU2UsY0FBYyxtQkFDL0JmLFNBQVNnQixXQUFXRixFQUFTRyxTQUFTLFdBRzNDQyxFQUFXbEIsU0FBU21CLHlCQUNwQkMsRUFBV04sRUFBU08sV0FDZnJDLEVBQUksRUFBR0EsRUFBSW9DLEVBQVN4QyxPQUFRSSxNQUMxQnNDLFlBQVlGLEVBQVNwQyxHQUFHdUMsV0FBVSxXQUV0Q0wsY0NUT00sRUFBUXZDLEVBQU13QyxVQWlCOUIsU0FBZUQsRUFBUXZDLEVBQU13QyxFQUFVQyxNQUNqQ3pDLEVBQUswQyxRQUFRLE1BQVEsRUFBRyxLQUN0QkMsRUFBUzNDLEVBQUs0QyxNQUFNLFdBQ3BCQyxFQUFVRixFQUFPRyxJQUFJLFNBQVM5QyxVQUN6QitDLEVBQVlSLEVBQVF2QyxFQUFNd0MsRUFBVUMsbUNBSXBDTyxPQUFTLHFCQUNWdEIsU0FDSUEsRUFBU21CLEVBQVFJLFNBQ2hCRCxrQkFLUkQsRUFBWVIsRUFBUXZDLEVBQU13QyxFQUFVQyxHQWhDcENTLENBQU1YLEVBQVF2QyxFQUFNd0MsNERBRzdCLFNBQVNPLEVBQVlSLEVBQVF2QyxFQUFNd0MsRUFBVUMsTUFDdkNGLEVBQU9ZLDBCQUNGQSxpQkFBaUJuRCxFQUFNd0MsRUFBVUMsV0FFOUIsZ0JBQ0RPLE9BQVMsZUFDUEksb0JBQW9CcEQsRUFBTXdDLEVBQVVDLFdBSTNDLElBQUliLE1BQU0sa0RDZGhCaEQsRUFDQXlFLE9BQ0FDLDhEQUFlQyxNQUVXLElBQXRCRixFQUFJWCxRQUFRLFlBQ1A5RCxFQUFJeUUsR0FBT3pFLEVBQUl5RSxHQUFPQyxVQUV6QkUsRUFBUUgsRUFBSVQsTUFBTSxLQUNsQmpELEVBQVM2RCxFQUFNN0QsT0FDakI4RCxFQUFTN0UsRUFFSm1CLEVBQUksRUFBR0EsRUFBSUosRUFBUUksWUFFSixPQURiMEQsRUFBT0QsRUFBTXpELG1CQUVYdUQsVUFJTkcsY0NuQk83RSxFQUFLeUUsRUFBS3hFLE9BQ0UsSUFBdEJ3RSxFQUFJWCxRQUFRLGNBSVZjLEVBQVFILEVBQUlULE1BQU0sS0FDbEJjLEVBQVFGLEVBQU03RCxPQUFTLEVBQ3pCOEQsRUFBUzdFLEVBRUptQixFQUFJLEVBQUdBLEVBQUkyRCxFQUFPM0QsU0FDTyxJQUFyQjBELEVBQU9ELEVBQU16RCxRQUNmeUQsRUFBTXpELFVBRU4wRCxFQUFPRCxFQUFNekQsTUFFakJ5RCxFQUFNRSxJQUFVN0UsU0FiakJ3RSxHQUFPeEUsR0NLZixTQUFTOEUsRUFBTXhELE9BQUt5RCw0REFBZ0JDLGdFQUU3QjFELElBQVFILEVBQUt5RCxPQUFPdEQsSUFBUUgsRUFBSzhELFNBQVMzRCxVQUN0Q0EsTUFFSDRELEVBQUkxRCxFQUFRRixVQUNkNEQsS0FBS0MsRUFDQUEsRUFBV0QsR0FBR0UsTUFBTTlELEdBQU15RCxFQUFXQyxJQUV2QzFELEVBR1QsSUFBTTZELEVBQWFySCxPQUFPRCxhQUNsQixrQkFDRyxJQUFJSixLQUFLNEgsS0FBS0MsbUJBRWYsa0JBQ0MsSUFBSUMsT0FBT0YsYUFFYixrQkFDRUEsS0FBS3BCLElBQUlhLFFBRWIsa0JBQ0ksSUFBSS9GLElBQUk0QyxNQUFNNkQsS0FBS0gsS0FBS0ksaUJBRTVCLGtCQUNJLElBQUlDLElBQUkvRCxNQUFNNkQsS0FBS0gsS0FBS00sbUJBRXpCLHNCQUFTWiw0REFBZ0JDLDhEQUNyQnBDLEtBQUt5QyxVQUNUdEYsRUFBTWpDLE9BQU82QixPQUFPMEYsUUFDbkJ6QyxLQUFLN0Msa0JBQ0h5RSxPQUNIMUIsRUFBTWlDLEVBQVVhLFVBQVUsU0FBQzFFLFVBQU1BLElBQU0yRSxFQUFLckIsT0FDNUNBLEdBQU8xQixHQUFPLEVBQUlrQyxFQUFPbEMsR0FBT2dDLEVBQU1lLEVBQUtyQixHQUFNTyxFQUFXQyxRQUY3RCxJQUFJUixLQUFPYSxPQUFQYixVQUlGekUsZ0JDM0NLQyxPQUFPOEYseURBQVUsU0FBQ0MsRUFBR0MsVUFBTUEsVUFBTUMsS0FBSzVCLE1BQ3JENEIsS0FBS0MsVUFBVWxHLEdBQVE4RixrQ1plUkssd0ZBQ2R0SSw4Q0FDVXVJLGdEQUNDQSxFQUFPbkMsSUFBSSxTQUFDM0YsVUFBVUQsRUFBWUMsS0FBUStILE9BQU8sU0FBQ04sRUFBR08sVUFBTUEsRUFBRVAsSUFBSUksa0RLaEJ0RCxlQUNoQkksRUFBYyxJQUFJeEgsSUFDcEJ5SCxFQUFrQixpQkFJWCxTQUFTQyw4QkFBVUMsNERBQ2RDLFFBQVEsYUFDakJDLEVBQWMzSCxJQUFJd0gsUUFBY0UsUUFBUSwyQkFDM0JELE9BR1RyQix1QkFFUyxlQUNad0IsRUFBVUwsY0FFUixTQUFTQyxFQUFPL0QsR0FDYjZELEVBQVlPLElBQUlELE1BQ1AzSCxJQUFJMkgsRUFBUyxJQUFJOUgsU0FHekJnSSxFQUFhUixFQUFZdEgsSUFBSTRILFVBQzlCRSxFQUFXRCxJQUFJTCxNQUNQdkgsSUFBSXVILFFBR054SCxJQUFJd0gsR0FBTzdELEtBQUtGLEdBQ3BCMkMsVUFFSixTQUFTb0IsWUFFQXhILElBQUk0SCxHQUFTRyxPQUFPUCxHQUN6QnBCLGNBRUEsYUFDSzJCLE9BQU9ILGdCUW5DZixlQUFDSSxpRkFDUEMsRUFBV0MsSUFDYlgsRUFBa0IsdUVBR0xFLHNEQUNiVSw2QkFBU1YsY0FDSlcsVUFBWTFKLEVBQVMsWUFDckIySixhQUFlLElBQUl2SSxNQUNuQndJLFVBQVUxQixFQUFLMkIsa1dBT3RCdkksYUFBSXdJLFVBQ0twQyxLQUFLcUMsVUFBVUQsZ0JBR3hCdkksYUFBSXlJLEVBQU1DLE9BRUpILFNBQVV6SCxVQUNUNkgsRUFBR0MsT0FBT0gsSUFBU0UsRUFBR25ELFVBQVVrRCxLQUMzQkQsS0FFQUMsSUFDR0QsT0FFVEksRUFBVzFDLEtBQUtxQyxZQUNoQk0sRUFBV0MsRUFBVUYsVUFFckJOLElBQ0dPLEVBQVVQLEVBQVV6SCxLQUVkQSxPQUVSdUgsVUFBVVMsUUFDVkUsbUJBQW1CVCxFQUFVTyxFQUFVRCxHQUNyQzFDLGtCQUdUOEMsZ0NBQ1F0QixFQUFVTCxJQUNWNEIsRUFBTy9DLGVBRVAsc0NBQVlxQixrREFDVDJCLG9CQUFXeEIsVUFBWUgsSUFDckJyQixjQUdBQSxLQUFLaUQsbUJBQW1CMUksS0FBS3lGLEtBQU13QixpQkFJaEQwQiw4QkFBcUIxQixPQUNkQSxRQUNHLElBQUk5RCxNQUFNLDhEQUVacUYsRUFBTy9DLHdCQUVFLFNBQVNtRCxVQUNmN0csTUFBTUMsUUFBUTRHLEVBQVUsU0FDZEEsTUFFTDdCLFFBQVEsY0FDWDBCLFdBQVd4QixFQUFTNEIsRUFBUyxHQUFJLGNBQy9CNUIsRUFBUzRCLEVBQVMsR0FBSXpJLE9BR3hCcUYsY0FFQUEsS0FBS2lELG1CQUFtQjFJLEtBQUt5RixLQUFNd0IsaUJBSWhEYSxtQkFBVUQsVUFDRFEsRUFBVVIsRUFBV2lCLEVBQUt4QixFQUFTN0IsS0FBS2dDLFdBQVlJLEdBQVlQLEVBQVM3QixLQUFLZ0MseUJBR3ZGRSxtQkFBVVMsS0FDQzNDLEtBQUtnQyxXQUFhVyxlQUc3Qkssb0JBQVd4QixFQUFTWSxFQUFVcEYsT0FDdEJ1RSxFQUFnQnZCLEtBQUtpQyxhQUFhckksSUFBSTRILFNBQzlCakUsTUFBTzZFLFdBQVVwRixZQUMxQmlGLGFBQWFwSSxJQUFJMkgsRUFBU0QsZ0JBR2pDMEIsNEJBQW1CekIsUUFDWlMsYUFBYU4sT0FBT0gsZ0JBRzNCcUIsNEJBQW1CUyxFQUFhWCxFQUFVRCxRQUNuQ1QsYUFBYVgsUUFBUSxTQUFTSixLQUNyQkksUUFBUSxnQkFBV2MsSUFBQUEsU0FBVXBGLElBQUFBLE1BR0QsSUFBbENvRixFQUFTNUQsUUFBUThFLE9BS2pCbEIsRUFBUzVELFFBQVEsTUFBUSxFQUFHLEtBQ3hCK0UsRUFBZW5CLEVBQVNvQixRQUFRLEtBQU0sSUFBSUEsUUFBUSxJQUFLLE9BQ25CLElBQXRDRixFQUFZOUUsUUFBUStFLGlCQUNuQkYsRUFBS1YsRUFBVVksR0FBZUYsRUFBS1gsRUFBVWEsWUFQL0NGLEVBQUtWLEVBQVVQLEdBQVdpQixFQUFLWCxFQUFVTixpRUFoRzNCUiwyQ0NSYjZCLFNBQ2MsWUFBeEI1RyxTQUFTNkcsV0FDSixJQUFJQyxRQUFRLFNBQUNDLFlBQ1QzRSxpQkFBaUIsbUJBQW9CLGtCQUFNMkUsRUFBUUgsT0FJekRFLFFBQVFDLFFBQVFILDZCQ0xUSSxPQUNSbEcsRUFBV2QsU0FBU2UsY0FBYyxjQUMvQmtHLFVBQVlELEVBQUtFLFdBQ3BCQyxFQUFPQyxFQUFnQnRHLE1BQ3pCcUcsR0FBUUEsRUFBS0Usa0JBQ1JGLEVBQUtFLGlCQUVSLElBQUl4RyxxQ0FBcUNtRywrQkNUakNqSCxPQUNWdUgsUUFDQXZILEVBQUt3SCxZQUFjeEgsRUFBS3dILFdBQVdGLFdBQVksS0FDN0NHLEVBQVV6SCxFQUFLd0gsV0FBV0YsY0FFSCxJQUFyQkcsRUFBUUMsVUFBa0JELElBQVl6SCxLQUMvQlcsS0FBSzhHLFNBR2hCQSxFQUFRRSxhQUNnQixPQUF4QkYsRUFBUUUsY0FDUEYsRUFBVUEsRUFBUUUscUJBSWhCSiw0QkNmT0ssR0FDVkEsRUFBUUMsaUJBQ0ZBLGNBQWNDLFlBQVlGLG1DQ0Z0QkcsRUFBT0MsUUFFZEQsRUFBTVAsYUFBZU8sRUFBUUEsRUFBTVAsYUFBZU8sSUFBVUMsV0FFNUQ5SixRQUFRNkosK0JDSkRILE9BQVNGLHlEQUFXTyxLQUFLQyxhQUNuQzVHLEVBQWFzRyxFQUFRdEcsV0FDckJELFFBQ0FDLEdBQWNBLEVBQVd6QyxPQUFTLFVBQ2hDSSxFQUFJcUMsRUFBV3pDLE9BQ1pJLEtBQ0RxQyxFQUFXckMsR0FBR3lJLFdBQWFBLEtBQ3BCUyxRQUFRN0csRUFBV3JDLFdBSTNCb0Msa0VDVE9JLEVBQVF2QyxFQUFNd0MsT0FBVUMsMERBQ2xDZixFQUFTd0gsRUFDWDNHLEVBQ0F2QyxFQUNBLGFBQ1NnRCxvQ0FHVFAsVUFFS2YsNEJDUlBhLEVBQ0F2QyxFQUNBd0MsT0FDQUMsMERBRUkwRyxHQUFTLEVBQ1R6SCxFQUFTd0gsRUFDWDNHLEVBQ0F2QyxFQUNBLFdBQ09tSiw4QkFJUDFHLDhCQUtTTyw4QkFHRSx3QkFHQSx1QkM3QkNvRyw4QkFBY0MsMERBQ3JCLFNBQVNDLFdBQ1JqTCxFQUFRaUwsRUFBTTdMLFVBQ2RpQyxFQUFNMkosRUFBWTFKLE9BQ2hCNEosRUFBbUI1TSxPQUFuQjRNLDBCQUNDeEosT0FDRHlKLEVBQWFILEVBQVl0SixHQUN6QjBKLEVBQVNwTCxFQUFNbUwsS0FDTm5MLEVBQU9tTCxTQUNiLHNDQUFZakUsa0RBQ1B0QixNQUFNQyxLQUFNcUIsR0FDZmtFLEVBQU94RixNQUFNQyxLQUFNcUIsY0FFbEIsS0FSTHhGLEVBQUksRUFBR0EsRUFBSUwsRUFBS0ssTUFBaEJBLFVBV0Z1SixzQkNoQktGLDhCQUFjQywwREFDckIsU0FBU0MsV0FDUmpMLEVBQVFpTCxFQUFNN0wsVUFDZGlDLEVBQU0ySixFQUFZMUosT0FDaEI0SixFQUFtQjVNLE9BQW5CNE0sMEJBQ0N4SixPQUNEeUosRUFBYUgsRUFBWXRKLEdBQ3pCMEosRUFBU3BMLEVBQU1tTCxLQUNObkwsRUFBT21MLFNBQ2Isc0NBQVlqRSwyQ0FDWjBELFFBQVFRLEtBQ0h4RixNQUFNQyxLQUFNcUIsY0FFZCxLQVJMeEYsRUFBSSxFQUFHQSxFQUFJTCxFQUFLSyxNQUFoQkEsVUFXRnVKLHFCQ2hCS0YsOEJBQWNDLDBEQUNyQixTQUFTQyxXQUNSakwsRUFBUWlMLEVBQU03TCxVQUNkaUMsRUFBTTJKLEVBQVkxSixPQUNoQjRKLEVBQW1CNU0sT0FBbkI0TSwwQkFDQ3hKLE9BQ0R5SixFQUFhSCxFQUFZdEosR0FDekIwSixFQUFTcEwsRUFBTW1MLEtBQ05uTCxFQUFPbUwsU0FDYixzQ0FBWWpFLDZDQUNYbUUsRUFBY0QsRUFBT3hGLE1BQU1DLEtBQU1xQixZQUM3QnRCLE1BQU1DLEtBQU1xQixHQUNmbUUsYUFFQyxLQVRMM0osRUFBSSxFQUFHQSxFQUFJTCxFQUFLSyxNQUFoQkEsVUFZRnVKLDBCQ2pCS0YsOEJBQWNDLDBEQUNyQixTQUFTQyxXQUNSakwsRUFBUWlMLEVBQU03TCxVQUNkaUMsRUFBTTJKLEVBQVkxSixPQUNoQjRKLEVBQW1CNU0sT0FBbkI0TSwwQkFDQ3hKLE9BQ0R5SixFQUFhSCxFQUFZdEosR0FDekIwSixFQUFTcEwsRUFBTW1MLEtBQ05uTCxFQUFPbUwsU0FDYiwwQ0FBWWpFLGdEQUVSa0UsRUFBT3hGLE1BQU1DLEtBQU1xQixHQUMxQixNQUFPcEUsS0FDRzdDLEtBQUs0RixLQUFNL0MsZUFHZixLQVhMcEIsRUFBSSxFQUFHQSxFQUFJTCxFQUFLSyxNQUFoQkEsVUFjRnVKLHVEZGpCS25KLFVBQVF3RCxFQUFNeEQsK0NlRmQ3QyxVQUNkWCxPQUFPZ04sS0FBS3JNLEdBQUc0SCxPQUNiLFNBQUNDLEVBQUdQLFVBQU1PLEVBQUVwSCxJQUFJNkcsRUFBR3RILEVBQUVzSCxLQUNyQixJQUFJaEgifQ==
